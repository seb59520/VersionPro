function AU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xR={exports:{}},by={},_R={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.element"),IU=Symbol.for("react.portal"),PU=Symbol.for("react.fragment"),OU=Symbol.for("react.strict_mode"),NU=Symbol.for("react.profiler"),CU=Symbol.for("react.provider"),kU=Symbol.for("react.context"),jU=Symbol.for("react.forward_ref"),RU=Symbol.for("react.suspense"),DU=Symbol.for("react.memo"),MU=Symbol.for("react.lazy"),RA=Symbol.iterator;function $U(t){return t===null||typeof t!="object"?null:(t=RA&&t[RA]||t["@@iterator"],typeof t=="function"?t:null)}var ER={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SR=Object.assign,TR={};function Yu(t,e,n){this.props=t,this.context=e,this.refs=TR,this.updater=n||ER}Yu.prototype.isReactComponent={};Yu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AR(){}AR.prototype=Yu.prototype;function y1(t,e,n){this.props=t,this.context=e,this.refs=TR,this.updater=n||ER}var v1=y1.prototype=new AR;v1.constructor=y1;SR(v1,Yu.prototype);v1.isPureReactComponent=!0;var DA=Array.isArray,IR=Object.prototype.hasOwnProperty,b1={current:null},PR={key:!0,ref:!0,__self:!0,__source:!0};function OR(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)IR.call(e,r)&&!PR.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ch,type:t,key:a,ref:o,props:i,_owner:b1.current}}function LU(t,e){return{$$typeof:ch,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w1(t){return typeof t=="object"&&t!==null&&t.$$typeof===ch}function VU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var MA=/\/+/g;function O0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VU(""+t.key):e.toString(36)}function Gp(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ch:case IU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+O0(o,0):r,DA(i)?(n="",t!=null&&(n=t.replace(MA,"$&/")+"/"),Gp(i,e,n,"",function(u){return u})):i!=null&&(w1(i)&&(i=LU(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",DA(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+O0(a,s);o+=Gp(a,e,n,l,i)}else if(l=$U(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+O0(a,s++),o+=Gp(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function op(t,e,n){if(t==null)return t;var r=[],i=0;return Gp(t,r,"","",function(a){return e.call(n,a,i++)}),r}function FU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Kp={transition:null},BU={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Kp,ReactCurrentOwner:b1};function NR(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:op,forEach:function(t,e,n){op(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return op(t,function(){e++}),e},toArray:function(t){return op(t,function(e){return e})||[]},only:function(t){if(!w1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Yu;Ae.Fragment=PU;Ae.Profiler=NU;Ae.PureComponent=y1;Ae.StrictMode=OU;Ae.Suspense=RU;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BU;Ae.act=NR;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SR({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=b1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)IR.call(e,l)&&!PR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ch,type:t.type,key:i,ref:a,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:kU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CU,_context:t},t.Consumer=t};Ae.createElement=OR;Ae.createFactory=function(t){var e=OR.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:jU,render:t}};Ae.isValidElement=w1;Ae.lazy=function(t){return{$$typeof:MU,_payload:{_status:-1,_result:t},_init:FU}};Ae.memo=function(t,e){return{$$typeof:DU,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Kp.transition;Kp.transition={};try{t()}finally{Kp.transition=e}};Ae.unstable_act=NR;Ae.useCallback=function(t,e){return kn.current.useCallback(t,e)};Ae.useContext=function(t){return kn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return kn.current.useEffect(t,e)};Ae.useId=function(){return kn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return kn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};Ae.useRef=function(t){return kn.current.useRef(t)};Ae.useState=function(t){return kn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return kn.current.useTransition()};Ae.version="18.3.1";_R.exports=Ae;var D=_R.exports;const M=Ue(D),UU=AU({__proto__:null,default:M},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zU=D,qU=Symbol.for("react.element"),WU=Symbol.for("react.fragment"),HU=Object.prototype.hasOwnProperty,GU=zU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KU={key:!0,ref:!0,__self:!0,__source:!0};function CR(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HU.call(e,r)&&!KU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qU,type:t,key:a,ref:o,props:i,_owner:GU.current}}by.Fragment=WU;by.jsx=CR;by.jsxs=CR;xR.exports=by;var f=xR.exports,kR={exports:{}},or={},jR={exports:{}},RR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var Q=V.length;V.push(W);e:for(;0<Q;){var ie=Q-1>>>1,X=V[ie];if(0<i(X,W))V[ie]=W,V[Q]=X,Q=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],Q=V.pop();if(Q!==W){V[0]=Q;e:for(var ie=0,X=V.length,oe=X>>>1;ie<oe;){var Oe=2*(ie+1)-1,$e=V[Oe],ct=Oe+1,Kt=V[ct];if(0>i($e,Q))ct<X&&0>i(Kt,$e)?(V[ie]=Kt,V[ct]=Q,ie=ct):(V[ie]=$e,V[Oe]=Q,ie=Oe);else if(ct<X&&0>i(Kt,Q))V[ie]=Kt,V[ct]=Q,ie=ct;else break e}}return W}function i(V,W){var Q=V.sortIndex-W.sortIndex;return Q!==0?Q:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function P(V){if(y=!1,_(V),!g)if(n(l)!==null)g=!0,H(E);else{var W=n(u);W!==null&&G(P,W.startTime-V)}}function E(V,W){g=!1,y&&(y=!1,b(T),T=-1),m=!0;var Q=h;try{for(_(W),d=n(l);d!==null&&(!(d.expirationTime>W)||V&&!N());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var X=ie(d.expirationTime<=W);W=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),_(W)}else r(l);d=n(l)}if(d!==null)var oe=!0;else{var Oe=n(u);Oe!==null&&G(P,Oe.startTime-W),oe=!1}return oe}finally{d=null,h=Q,m=!1}}var A=!1,S=null,T=-1,O=5,C=-1;function N(){return!(t.unstable_now()-C<O)}function R(){if(S!==null){var V=t.unstable_now();C=V;var W=!0;try{W=S(!0,V)}finally{W?k():(A=!1,S=null)}}else A=!1}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=R,k=function(){B.postMessage(null)}}else k=function(){v(R,0)};function H(V){S=V,A||(A=!0,k())}function G(V,W){T=v(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Q=h;h=W;try{return V()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=h;h=V;try{return W()}finally{h=Q}},t.unstable_scheduleCallback=function(V,W,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,V={id:c++,callback:W,priorityLevel:V,startTime:Q,expirationTime:X,sortIndex:-1},Q>ie?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(y?(b(T),T=-1):y=!0,G(P,Q-ie))):(V.sortIndex=X,e(l,V),g||m||(g=!0,H(E))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var W=h;return function(){var Q=h;h=W;try{return V.apply(this,arguments)}finally{h=Q}}}})(RR);jR.exports=RR;var YU=jR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QU=D,ir=YU;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DR=new Set,Kd={};function Hs(t,e){nu(t,e),nu(t+"Capture",e)}function nu(t,e){for(Kd[t]=e,t=0;t<e.length;t++)DR.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tw=Object.prototype.hasOwnProperty,XU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$A={},LA={};function JU(t){return tw.call(LA,t)?!0:tw.call($A,t)?!1:XU.test(t)?LA[t]=!0:($A[t]=!0,!1)}function ZU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function e6(t,e,n,r){if(e===null||typeof e>"u"||ZU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var x1=/[\-:]([a-z])/g;function _1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(x1,_1);tn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(x1,_1);tn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(x1,_1);tn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function E1(t,e,n,r){var i=tn.hasOwnProperty(e)?tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e6(e,n,i,r)&&(n=null),r||i===null?JU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=QU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),El=Symbol.for("react.portal"),Sl=Symbol.for("react.fragment"),S1=Symbol.for("react.strict_mode"),nw=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),rw=Symbol.for("react.suspense"),iw=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),LR=Symbol.for("react.offscreen"),VA=Symbol.iterator;function $c(t){return t===null||typeof t!="object"?null:(t=VA&&t[VA]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,N0;function ld(t){if(N0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N0=e&&e[1]||""}return`
`+N0+t}var C0=!1;function k0(t,e){if(!t||C0)return"";C0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{C0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ld(t):""}function t6(t){switch(t.tag){case 5:return ld(t.type);case 16:return ld("Lazy");case 13:return ld("Suspense");case 19:return ld("SuspenseList");case 0:case 2:case 15:return t=k0(t.type,!1),t;case 11:return t=k0(t.type.render,!1),t;case 1:return t=k0(t.type,!0),t;default:return""}}function aw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sl:return"Fragment";case El:return"Portal";case nw:return"Profiler";case S1:return"StrictMode";case rw:return"Suspense";case iw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $R:return(t.displayName||"Context")+".Consumer";case MR:return(t._context.displayName||"Context")+".Provider";case T1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A1:return e=t.displayName||null,e!==null?e:aw(t.type)||"Memo";case Ta:e=t._payload,t=t._init;try{return aw(t(e))}catch{}}return null}function n6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aw(e);case 8:return e===S1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r6(t){var e=VR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lp(t){t._valueTracker||(t._valueTracker=r6(t))}function FR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ow(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BR(t,e){e=e.checked,e!=null&&E1(t,"checked",e,!1)}function sw(t,e){BR(t,e);var n=lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lw(t,e.type,n):e.hasOwnProperty("defaultValue")&&lw(t,e.type,lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lw(t,e,n){(e!=="number"||_m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ud=Array.isArray;function Fl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(ud(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lo(n)}}function UR(t,e){var n=lo(e.value),r=lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var up,qR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(up=up||document.createElement("div"),up.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=up.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i6=["Webkit","ms","Moz","O"];Object.keys(_d).forEach(function(t){i6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_d[e]=_d[t]})});function WR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_d.hasOwnProperty(t)&&_d[t]?(""+e).trim():e+"px"}function HR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a6=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dw(t,e){if(e){if(a6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function fw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hw=null;function I1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pw=null,Bl=null,Ul=null;function qA(t){if(t=hh(t)){if(typeof pw!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Sy(e),pw(t.stateNode,t.type,e))}}function GR(t){Bl?Ul?Ul.push(t):Ul=[t]:Bl=t}function KR(){if(Bl){var t=Bl,e=Ul;if(Ul=Bl=null,qA(t),e)for(t=0;t<e.length;t++)qA(e[t])}}function YR(t,e){return t(e)}function QR(){}var j0=!1;function XR(t,e,n){if(j0)return t(e,n);j0=!0;try{return YR(t,e,n)}finally{j0=!1,(Bl!==null||Ul!==null)&&(QR(),KR())}}function Qd(t,e){var n=t.stateNode;if(n===null)return null;var r=Sy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var mw=!1;if(Xi)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){mw=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{mw=!1}function o6(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ed=!1,Em=null,Sm=!1,gw=null,s6={onError:function(t){Ed=!0,Em=t}};function l6(t,e,n,r,i,a,o,s,l){Ed=!1,Em=null,o6.apply(s6,arguments)}function u6(t,e,n,r,i,a,o,s,l){if(l6.apply(this,arguments),Ed){if(Ed){var u=Em;Ed=!1,Em=null}else throw Error(Z(198));Sm||(Sm=!0,gw=u)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WA(t){if(Gs(t)!==t)throw Error(Z(188))}function c6(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return WA(i),t;if(a===r)return WA(i),e;a=a.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function ZR(t){return t=c6(t),t!==null?e2(t):null}function e2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e2(t);if(e!==null)return e;t=t.sibling}return null}var t2=ir.unstable_scheduleCallback,HA=ir.unstable_cancelCallback,d6=ir.unstable_shouldYield,f6=ir.unstable_requestPaint,St=ir.unstable_now,h6=ir.unstable_getCurrentPriorityLevel,P1=ir.unstable_ImmediatePriority,n2=ir.unstable_UserBlockingPriority,Tm=ir.unstable_NormalPriority,p6=ir.unstable_LowPriority,r2=ir.unstable_IdlePriority,wy=null,li=null;function m6(t){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(wy,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:v6,g6=Math.log,y6=Math.LN2;function v6(t){return t>>>=0,t===0?32:31-(g6(t)/y6|0)|0}var cp=64,dp=4194304;function cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Am(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=cd(s):(a&=o,a!==0&&(r=cd(a)))}else o=n&~i,o!==0?r=cd(o):a!==0&&(r=cd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),i=1<<n,r|=t[n],e&=~i;return r}function b6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Fr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=b6(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function yw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i2(){var t=cp;return cp<<=1,!(cp&4194240)&&(cp=64),t}function R0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function x6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function O1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function a2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o2,N1,s2,l2,u2,vw=!1,fp=[],za=null,qa=null,Wa=null,Xd=new Map,Jd=new Map,Pa=[],_6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GA(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jd.delete(e.pointerId)}}function Vc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=hh(e),e!==null&&N1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function E6(t,e,n,r,i){switch(e){case"focusin":return za=Vc(za,t,e,n,r,i),!0;case"dragenter":return qa=Vc(qa,t,e,n,r,i),!0;case"mouseover":return Wa=Vc(Wa,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Xd.set(a,Vc(Xd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Jd.set(a,Vc(Jd.get(a)||null,t,e,n,r,i)),!0}return!1}function c2(t){var e=ts(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=JR(n),e!==null){t.blockedOn=e,u2(t.priority,function(){s2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hw=r,n.target.dispatchEvent(r),hw=null}else return e=hh(n),e!==null&&N1(e),t.blockedOn=n,!1;e.shift()}return!0}function KA(t,e,n){Yp(t)&&n.delete(e)}function S6(){vw=!1,za!==null&&Yp(za)&&(za=null),qa!==null&&Yp(qa)&&(qa=null),Wa!==null&&Yp(Wa)&&(Wa=null),Xd.forEach(KA),Jd.forEach(KA)}function Fc(t,e){t.blockedOn===e&&(t.blockedOn=null,vw||(vw=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,S6)))}function Zd(t){function e(i){return Fc(i,t)}if(0<fp.length){Fc(fp[0],t);for(var n=1;n<fp.length;n++){var r=fp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&Fc(za,t),qa!==null&&Fc(qa,t),Wa!==null&&Fc(Wa,t),Xd.forEach(e),Jd.forEach(e),n=0;n<Pa.length;n++)r=Pa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pa.length&&(n=Pa[0],n.blockedOn===null);)c2(n),n.blockedOn===null&&Pa.shift()}var zl=la.ReactCurrentBatchConfig,Im=!0;function T6(t,e,n,r){var i=Be,a=zl.transition;zl.transition=null;try{Be=1,C1(t,e,n,r)}finally{Be=i,zl.transition=a}}function A6(t,e,n,r){var i=Be,a=zl.transition;zl.transition=null;try{Be=4,C1(t,e,n,r)}finally{Be=i,zl.transition=a}}function C1(t,e,n,r){if(Im){var i=bw(t,e,n,r);if(i===null)q0(t,e,r,Pm,n),GA(t,r);else if(E6(i,t,e,n,r))r.stopPropagation();else if(GA(t,r),e&4&&-1<_6.indexOf(t)){for(;i!==null;){var a=hh(i);if(a!==null&&o2(a),a=bw(t,e,n,r),a===null&&q0(t,e,r,Pm,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else q0(t,e,r,null,n)}}var Pm=null;function bw(t,e,n,r){if(Pm=null,t=I1(r),t=ts(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pm=t,null}function d2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h6()){case P1:return 1;case n2:return 4;case Tm:case p6:return 16;case r2:return 536870912;default:return 16}default:return 16}}var $a=null,k1=null,Qp=null;function f2(){if(Qp)return Qp;var t,e=k1,n=e.length,r,i="value"in $a?$a.value:$a.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Qp=i.slice(t,1<r?1-r:void 0)}function Xp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hp(){return!0}function YA(){return!1}function sr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?hp:YA,this.isPropagationStopped=YA,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hp)},persist:function(){},isPersistent:hp}),e}var Qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j1=sr(Qu),fh=gt({},Qu,{view:0,detail:0}),I6=sr(fh),D0,M0,Bc,xy=gt({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bc&&(Bc&&t.type==="mousemove"?(D0=t.screenX-Bc.screenX,M0=t.screenY-Bc.screenY):M0=D0=0,Bc=t),D0)},movementY:function(t){return"movementY"in t?t.movementY:M0}}),QA=sr(xy),P6=gt({},xy,{dataTransfer:0}),O6=sr(P6),N6=gt({},fh,{relatedTarget:0}),$0=sr(N6),C6=gt({},Qu,{animationName:0,elapsedTime:0,pseudoElement:0}),k6=sr(C6),j6=gt({},Qu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R6=sr(j6),D6=gt({},Qu,{data:0}),XA=sr(D6),M6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L6[t])?!!e[t]:!1}function R1(){return V6}var F6=gt({},fh,{key:function(t){if(t.key){var e=M6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R1,charCode:function(t){return t.type==="keypress"?Xp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B6=sr(F6),U6=gt({},xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JA=sr(U6),z6=gt({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R1}),q6=sr(z6),W6=gt({},Qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),H6=sr(W6),G6=gt({},xy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K6=sr(G6),Y6=[9,13,27,32],D1=Xi&&"CompositionEvent"in window,Sd=null;Xi&&"documentMode"in document&&(Sd=document.documentMode);var Q6=Xi&&"TextEvent"in window&&!Sd,h2=Xi&&(!D1||Sd&&8<Sd&&11>=Sd),ZA=" ",eI=!1;function p2(t,e){switch(t){case"keyup":return Y6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tl=!1;function X6(t,e){switch(t){case"compositionend":return m2(e);case"keypress":return e.which!==32?null:(eI=!0,ZA);case"textInput":return t=e.data,t===ZA&&eI?null:t;default:return null}}function J6(t,e){if(Tl)return t==="compositionend"||!D1&&p2(t,e)?(t=f2(),Qp=k1=$a=null,Tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h2&&e.locale!=="ko"?null:e.data;default:return null}}var Z6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z6[t.type]:e==="textarea"}function g2(t,e,n,r){GR(r),e=Om(e,"onChange"),0<e.length&&(n=new j1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Td=null,ef=null;function e5(t){I2(t,0)}function _y(t){var e=Pl(t);if(FR(e))return t}function t5(t,e){if(t==="change")return e}var y2=!1;if(Xi){var L0;if(Xi){var V0="oninput"in document;if(!V0){var nI=document.createElement("div");nI.setAttribute("oninput","return;"),V0=typeof nI.oninput=="function"}L0=V0}else L0=!1;y2=L0&&(!document.documentMode||9<document.documentMode)}function rI(){Td&&(Td.detachEvent("onpropertychange",v2),ef=Td=null)}function v2(t){if(t.propertyName==="value"&&_y(ef)){var e=[];g2(e,ef,t,I1(t)),XR(e5,e)}}function n5(t,e,n){t==="focusin"?(rI(),Td=e,ef=n,Td.attachEvent("onpropertychange",v2)):t==="focusout"&&rI()}function r5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _y(ef)}function i5(t,e){if(t==="click")return _y(e)}function a5(t,e){if(t==="input"||t==="change")return _y(e)}function o5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qr=typeof Object.is=="function"?Object.is:o5;function tf(t,e){if(qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tw.call(e,i)||!qr(t[i],e[i]))return!1}return!0}function iI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aI(t,e){var n=iI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iI(n)}}function b2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w2(){for(var t=window,e=_m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_m(t.document)}return e}function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s5(t){var e=w2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b2(n.ownerDocument.documentElement,n)){if(r!==null&&M1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=aI(n,a);var o=aI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l5=Xi&&"documentMode"in document&&11>=document.documentMode,Al=null,ww=null,Ad=null,xw=!1;function oI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xw||Al==null||Al!==_m(r)||(r=Al,"selectionStart"in r&&M1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ad&&tf(Ad,r)||(Ad=r,r=Om(ww,"onSelect"),0<r.length&&(e=new j1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Al)))}function pp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Il={animationend:pp("Animation","AnimationEnd"),animationiteration:pp("Animation","AnimationIteration"),animationstart:pp("Animation","AnimationStart"),transitionend:pp("Transition","TransitionEnd")},F0={},x2={};Xi&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Ey(t){if(F0[t])return F0[t];if(!Il[t])return t;var e=Il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x2)return F0[t]=e[n];return t}var _2=Ey("animationend"),E2=Ey("animationiteration"),S2=Ey("animationstart"),T2=Ey("transitionend"),A2=new Map,sI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){A2.set(t,e),Hs(e,[t])}for(var B0=0;B0<sI.length;B0++){var U0=sI[B0],u5=U0.toLowerCase(),c5=U0[0].toUpperCase()+U0.slice(1);go(u5,"on"+c5)}go(_2,"onAnimationEnd");go(E2,"onAnimationIteration");go(S2,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(T2,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d5=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function lI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,u6(r,e,void 0,t),t.currentTarget=null}function I2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;lI(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;lI(i,s,u),a=l}}}if(Sm)throw t=gw,Sm=!1,gw=null,t}function nt(t,e){var n=e[Aw];n===void 0&&(n=e[Aw]=new Set);var r=t+"__bubble";n.has(r)||(P2(e,t,2,!1),n.add(r))}function z0(t,e,n){var r=0;e&&(r|=4),P2(n,t,r,e)}var mp="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[mp]){t[mp]=!0,DR.forEach(function(n){n!=="selectionchange"&&(d5.has(n)||z0(n,!1,t),z0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mp]||(e[mp]=!0,z0("selectionchange",!1,e))}}function P2(t,e,n,r){switch(d2(e)){case 1:var i=T6;break;case 4:i=A6;break;default:i=C1}n=i.bind(null,e,n,t),i=void 0,!mw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function q0(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ts(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}XR(function(){var u=a,c=I1(n),d=[];e:{var h=A2.get(t);if(h!==void 0){var m=j1,g=t;switch(t){case"keypress":if(Xp(n)===0)break e;case"keydown":case"keyup":m=B6;break;case"focusin":g="focus",m=$0;break;case"focusout":g="blur",m=$0;break;case"beforeblur":case"afterblur":m=$0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=O6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=q6;break;case _2:case E2:case S2:m=k6;break;case T2:m=H6;break;case"scroll":m=I6;break;case"wheel":m=K6;break;case"copy":case"cut":case"paste":m=R6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JA}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,b!==null&&(P=Qd(w,b),P!=null&&y.push(rf(w,P,_)))),v)break;w=w.return}0<y.length&&(h=new m(h,g,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==hw&&(g=n.relatedTarget||n.fromElement)&&(ts(g)||g[Ji]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ts(g):null,g!==null&&(v=Gs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=QA,P="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=JA,P="onPointerLeave",b="onPointerEnter",w="pointer"),v=m==null?h:Pl(m),_=g==null?h:Pl(g),h=new y(P,w+"leave",m,n,c),h.target=v,h.relatedTarget=_,P=null,ts(c)===u&&(y=new y(b,w+"enter",g,n,c),y.target=_,y.relatedTarget=v,P=y),v=P,m&&g)t:{for(y=m,b=g,w=0,_=y;_;_=ul(_))w++;for(_=0,P=b;P;P=ul(P))_++;for(;0<w-_;)y=ul(y),w--;for(;0<_-w;)b=ul(b),_--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=ul(y),b=ul(b)}y=null}else y=null;m!==null&&uI(d,h,m,y,!1),g!==null&&v!==null&&uI(d,v,g,y,!0)}}e:{if(h=u?Pl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=t5;else if(tI(h))if(y2)E=a5;else{E=r5;var A=n5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=i5);if(E&&(E=E(t,u))){g2(d,E,n,c);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&lw(h,"number",h.value)}switch(A=u?Pl(u):window,t){case"focusin":(tI(A)||A.contentEditable==="true")&&(Al=A,ww=u,Ad=null);break;case"focusout":Ad=ww=Al=null;break;case"mousedown":xw=!0;break;case"contextmenu":case"mouseup":case"dragend":xw=!1,oI(d,n,c);break;case"selectionchange":if(l5)break;case"keydown":case"keyup":oI(d,n,c)}var S;if(D1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Tl?p2(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(h2&&n.locale!=="ko"&&(Tl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Tl&&(S=f2()):($a=c,k1="value"in $a?$a.value:$a.textContent,Tl=!0)),A=Om(u,T),0<A.length&&(T=new XA(T,t,null,n,c),d.push({event:T,listeners:A}),S?T.data=S:(S=m2(n),S!==null&&(T.data=S)))),(S=Q6?X6(t,n):J6(t,n))&&(u=Om(u,"onBeforeInput"),0<u.length&&(c=new XA("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}I2(d,e)})}function rf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Om(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Qd(t,n),a!=null&&r.unshift(rf(t,a,i)),a=Qd(t,e),a!=null&&r.push(rf(t,a,i))),t=t.return}return r}function ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uI(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Qd(n,a),l!=null&&o.unshift(rf(n,l,s))):i||(l=Qd(n,a),l!=null&&o.push(rf(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var f5=/\r\n?/g,h5=/\u0000|\uFFFD/g;function cI(t){return(typeof t=="string"?t:""+t).replace(f5,`
`).replace(h5,"")}function gp(t,e,n){if(e=cI(e),cI(t)!==e&&n)throw Error(Z(425))}function Nm(){}var _w=null,Ew=null;function Sw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tw=typeof setTimeout=="function"?setTimeout:void 0,p5=typeof clearTimeout=="function"?clearTimeout:void 0,dI=typeof Promise=="function"?Promise:void 0,m5=typeof queueMicrotask=="function"?queueMicrotask:typeof dI<"u"?function(t){return dI.resolve(null).then(t).catch(g5)}:Tw;function g5(t){setTimeout(function(){throw t})}function W0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zd(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xu=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xu,af="__reactProps$"+Xu,Ji="__reactContainer$"+Xu,Aw="__reactEvents$"+Xu,y5="__reactListeners$"+Xu,v5="__reactHandles$"+Xu;function ts(t){var e=t[Zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ji]||n[Zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fI(t);t!==null;){if(n=t[Zr])return n;t=fI(t)}return e}t=n,n=t.parentNode}return null}function hh(t){return t=t[Zr]||t[Ji],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Sy(t){return t[af]||null}var Iw=[],Ol=-1;function yo(t){return{current:t}}function at(t){0>Ol||(t.current=Iw[Ol],Iw[Ol]=null,Ol--)}function Ze(t,e){Ol++,Iw[Ol]=t.current,t.current=e}var uo={},vn=yo(uo),Fn=yo(!1),_s=uo;function ru(t,e){var n=t.type.contextTypes;if(!n)return uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function Cm(){at(Fn),at(vn)}function hI(t,e,n){if(vn.current!==uo)throw Error(Z(168));Ze(vn,e),Ze(Fn,n)}function O2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,n6(t)||"Unknown",i));return gt({},n,r)}function km(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,_s=vn.current,Ze(vn,t),Ze(Fn,Fn.current),!0}function pI(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=O2(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,at(Fn),at(vn),Ze(vn,t)):at(Fn),Ze(Fn,n)}var Ri=null,Ty=!1,H0=!1;function N2(t){Ri===null?Ri=[t]:Ri.push(t)}function b5(t){Ty=!0,N2(t)}function vo(){if(!H0&&Ri!==null){H0=!0;var t=0,e=Be;try{var n=Ri;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ri=null,Ty=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),t2(P1,vo),i}finally{Be=e,H0=!1}}return null}var Nl=[],Cl=0,jm=null,Rm=0,fr=[],hr=0,Es=null,$i=1,Li="";function Uo(t,e){Nl[Cl++]=Rm,Nl[Cl++]=jm,jm=t,Rm=e}function C2(t,e,n){fr[hr++]=$i,fr[hr++]=Li,fr[hr++]=Es,Es=t;var r=$i;t=Li;var i=32-Fr(r)-1;r&=~(1<<i),n+=1;var a=32-Fr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-Fr(e)+i|n<<i|r,Li=a+t}else $i=1<<a|n<<i|r,Li=t}function $1(t){t.return!==null&&(Uo(t,1),C2(t,1,0))}function L1(t){for(;t===jm;)jm=Nl[--Cl],Nl[Cl]=null,Rm=Nl[--Cl],Nl[Cl]=null;for(;t===Es;)Es=fr[--hr],fr[hr]=null,Li=fr[--hr],fr[hr]=null,$i=fr[--hr],fr[hr]=null}var tr=null,Jn=null,st=!1,$r=null;function k2(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:$i,overflow:Li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function Pw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ow(t){if(st){var e=Jn;if(e){var n=e;if(!mI(t,e)){if(Pw(t))throw Error(Z(418));e=Ha(n.nextSibling);var r=tr;e&&mI(t,e)?k2(r,n):(t.flags=t.flags&-4097|2,st=!1,tr=t)}}else{if(Pw(t))throw Error(Z(418));t.flags=t.flags&-4097|2,st=!1,tr=t}}}function gI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function yp(t){if(t!==tr)return!1;if(!st)return gI(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sw(t.type,t.memoizedProps)),e&&(e=Jn)){if(Pw(t))throw j2(),Error(Z(418));for(;e;)k2(t,e),e=Ha(e.nextSibling)}if(gI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?Ha(t.stateNode.nextSibling):null;return!0}function j2(){for(var t=Jn;t;)t=Ha(t.nextSibling)}function iu(){Jn=tr=null,st=!1}function V1(t){$r===null?$r=[t]:$r.push(t)}var w5=la.ReactCurrentBatchConfig;function Uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function vp(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yI(t){var e=t._init;return e(t._payload)}function R2(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Qa(b,w),b.index=0,b.sibling=null,b}function a(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,w,_,P){return w===null||w.tag!==6?(w=Z0(_,b.mode,P),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,P){var E=_.type;return E===Sl?c(b,w,_.props.children,P,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&yI(E)===w.type)?(P=i(w,_.props),P.ref=Uc(b,w,_),P.return=b,P):(P=im(_.type,_.key,_.props,null,b.mode,P),P.ref=Uc(b,w,_),P.return=b,P)}function u(b,w,_,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=eb(_,b.mode,P),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function c(b,w,_,P,E){return w===null||w.tag!==7?(w=ps(_,b.mode,P,E),w.return=b,w):(w=i(w,_),w.return=b,w)}function d(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Z0(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sp:return _=im(w.type,w.key,w.props,null,b.mode,_),_.ref=Uc(b,null,w),_.return=b,_;case El:return w=eb(w,b.mode,_),w.return=b,w;case Ta:var P=w._init;return d(b,P(w._payload),_)}if(ud(w)||$c(w))return w=ps(w,b.mode,_,null),w.return=b,w;vp(b,w)}return null}function h(b,w,_,P){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(b,w,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sp:return _.key===E?l(b,w,_,P):null;case El:return _.key===E?u(b,w,_,P):null;case Ta:return E=_._init,h(b,w,E(_._payload),P)}if(ud(_)||$c(_))return E!==null?null:c(b,w,_,P,null);vp(b,_)}return null}function m(b,w,_,P,E){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(_)||null,s(w,b,""+P,E);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case sp:return b=b.get(P.key===null?_:P.key)||null,l(w,b,P,E);case El:return b=b.get(P.key===null?_:P.key)||null,u(w,b,P,E);case Ta:var A=P._init;return m(b,w,_,A(P._payload),E)}if(ud(P)||$c(P))return b=b.get(_)||null,c(w,b,P,E,null);vp(w,P)}return null}function g(b,w,_,P){for(var E=null,A=null,S=w,T=w=0,O=null;S!==null&&T<_.length;T++){S.index>T?(O=S,S=null):O=S.sibling;var C=h(b,S,_[T],P);if(C===null){S===null&&(S=O);break}t&&S&&C.alternate===null&&e(b,S),w=a(C,w,T),A===null?E=C:A.sibling=C,A=C,S=O}if(T===_.length)return n(b,S),st&&Uo(b,T),E;if(S===null){for(;T<_.length;T++)S=d(b,_[T],P),S!==null&&(w=a(S,w,T),A===null?E=S:A.sibling=S,A=S);return st&&Uo(b,T),E}for(S=r(b,S);T<_.length;T++)O=m(S,b,T,_[T],P),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),w=a(O,w,T),A===null?E=O:A.sibling=O,A=O);return t&&S.forEach(function(N){return e(b,N)}),st&&Uo(b,T),E}function y(b,w,_,P){var E=$c(_);if(typeof E!="function")throw Error(Z(150));if(_=E.call(_),_==null)throw Error(Z(151));for(var A=E=null,S=w,T=w=0,O=null,C=_.next();S!==null&&!C.done;T++,C=_.next()){S.index>T?(O=S,S=null):O=S.sibling;var N=h(b,S,C.value,P);if(N===null){S===null&&(S=O);break}t&&S&&N.alternate===null&&e(b,S),w=a(N,w,T),A===null?E=N:A.sibling=N,A=N,S=O}if(C.done)return n(b,S),st&&Uo(b,T),E;if(S===null){for(;!C.done;T++,C=_.next())C=d(b,C.value,P),C!==null&&(w=a(C,w,T),A===null?E=C:A.sibling=C,A=C);return st&&Uo(b,T),E}for(S=r(b,S);!C.done;T++,C=_.next())C=m(S,b,T,C.value,P),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),w=a(C,w,T),A===null?E=C:A.sibling=C,A=C);return t&&S.forEach(function(R){return e(b,R)}),st&&Uo(b,T),E}function v(b,w,_,P){if(typeof _=="object"&&_!==null&&_.type===Sl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sp:e:{for(var E=_.key,A=w;A!==null;){if(A.key===E){if(E=_.type,E===Sl){if(A.tag===7){n(b,A.sibling),w=i(A,_.props.children),w.return=b,b=w;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&yI(E)===A.type){n(b,A.sibling),w=i(A,_.props),w.ref=Uc(b,A,_),w.return=b,b=w;break e}n(b,A);break}else e(b,A);A=A.sibling}_.type===Sl?(w=ps(_.props.children,b.mode,P,_.key),w.return=b,b=w):(P=im(_.type,_.key,_.props,null,b.mode,P),P.ref=Uc(b,w,_),P.return=b,b=P)}return o(b);case El:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),w=i(w,_.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=eb(_,b.mode,P),w.return=b,b=w}return o(b);case Ta:return A=_._init,v(b,w,A(_._payload),P)}if(ud(_))return g(b,w,_,P);if($c(_))return y(b,w,_,P);vp(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,_),w.return=b,b=w):(n(b,w),w=Z0(_,b.mode,P),w.return=b,b=w),o(b)):n(b,w)}return v}var au=R2(!0),D2=R2(!1),Dm=yo(null),Mm=null,kl=null,F1=null;function B1(){F1=kl=Mm=null}function U1(t){var e=Dm.current;at(Dm),t._currentValue=e}function Nw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ql(t,e){Mm=t,F1=kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(F1!==t)if(t={context:t,memoizedValue:e,next:null},kl===null){if(Mm===null)throw Error(Z(308));kl=t,Mm.dependencies={lanes:0,firstContext:t}}else kl=kl.next=t;return e}var ns=null;function z1(t){ns===null?ns=[t]:ns.push(t)}function M2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,z1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zi(t,r)}function Zi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function q1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zi(t,n)}return i=r.interleaved,i===null?(e.next=e,z1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zi(t,n)}function Jp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O1(t,n)}}function vI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $m(t,e,n,r){var i=t.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=gt({},d,h);break e;case 2:Aa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=d}}function bI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var ph={},ui=yo(ph),of=yo(ph),sf=yo(ph);function rs(t){if(t===ph)throw Error(Z(174));return t}function W1(t,e){switch(Ze(sf,e),Ze(of,t),Ze(ui,ph),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cw(e,t)}at(ui),Ze(ui,e)}function ou(){at(ui),at(of),at(sf)}function L2(t){rs(sf.current);var e=rs(ui.current),n=cw(e,t.type);e!==n&&(Ze(of,t),Ze(ui,n))}function H1(t){of.current===t&&(at(ui),at(of))}var ft=yo(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var G0=[];function G1(){for(var t=0;t<G0.length;t++)G0[t]._workInProgressVersionPrimary=null;G0.length=0}var Zp=la.ReactCurrentDispatcher,K0=la.ReactCurrentBatchConfig,Ss=0,pt=null,jt=null,zt=null,Vm=!1,Id=!1,lf=0,x5=0;function ln(){throw Error(Z(321))}function K1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qr(t[n],e[n]))return!1;return!0}function Y1(t,e,n,r,i,a){if(Ss=a,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zp.current=t===null||t.memoizedState===null?T5:A5,t=n(r,i),Id){a=0;do{if(Id=!1,lf=0,25<=a)throw Error(Z(301));a+=1,zt=jt=null,e.updateQueue=null,Zp.current=I5,t=n(r,i)}while(Id)}if(Zp.current=Fm,e=jt!==null&&jt.next!==null,Ss=0,zt=jt=pt=null,Vm=!1,e)throw Error(Z(300));return t}function Q1(){var t=lf!==0;return lf=0,t}function Jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?pt.memoizedState=zt=t:zt=zt.next=t,zt}function Er(){if(jt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=zt===null?pt.memoizedState:zt.next;if(e!==null)zt=e,jt=t;else{if(t===null)throw Error(Z(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},zt===null?pt.memoizedState=zt=t:zt=zt.next=t}return zt}function uf(t,e){return typeof e=="function"?e(t):e}function Y0(t){var e=Er(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=jt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Ss&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,pt.lanes|=c,Ts|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,qr(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,pt.lanes|=a,Ts|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Q0(t){var e=Er(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);qr(a,e.memoizedState)||($n=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function V2(){}function F2(t,e){var n=pt,r=Er(),i=e(),a=!qr(r.memoizedState,i);if(a&&(r.memoizedState=i,$n=!0),r=r.queue,X1(z2.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,cf(9,U2.bind(null,n,r,i,e),void 0,null),Ht===null)throw Error(Z(349));Ss&30||B2(n,e,i)}return i}function B2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U2(t,e,n,r){e.value=n,e.getSnapshot=r,q2(e)&&W2(t)}function z2(t,e,n){return n(function(){q2(e)&&W2(t)})}function q2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qr(t,n)}catch{return!0}}function W2(t){var e=Zi(t,1);e!==null&&Br(e,t,1,-1)}function wI(t){var e=Jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:t},e.queue=t,t=t.dispatch=S5.bind(null,pt,t),[e.memoizedState,t]}function cf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H2(){return Er().memoizedState}function em(t,e,n,r){var i=Jr();pt.flags|=t,i.memoizedState=cf(1|e,n,void 0,r===void 0?null:r)}function Ay(t,e,n,r){var i=Er();r=r===void 0?null:r;var a=void 0;if(jt!==null){var o=jt.memoizedState;if(a=o.destroy,r!==null&&K1(r,o.deps)){i.memoizedState=cf(e,n,a,r);return}}pt.flags|=t,i.memoizedState=cf(1|e,n,a,r)}function xI(t,e){return em(8390656,8,t,e)}function X1(t,e){return Ay(2048,8,t,e)}function G2(t,e){return Ay(4,2,t,e)}function K2(t,e){return Ay(4,4,t,e)}function Y2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q2(t,e,n){return n=n!=null?n.concat([t]):null,Ay(4,4,Y2.bind(null,e,t),n)}function J1(){}function X2(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J2(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z2(t,e,n){return Ss&21?(qr(n,e)||(n=i2(),pt.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=n)}function _5(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=K0.transition;K0.transition={};try{t(!1),e()}finally{Be=n,K0.transition=r}}function eD(){return Er().memoizedState}function E5(t,e,n){var r=Ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tD(t))nD(e,n);else if(n=M2(t,e,n,r),n!==null){var i=Pn();Br(n,t,r,i),rD(n,e,r)}}function S5(t,e,n){var r=Ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tD(t))nD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,qr(s,o)){var l=e.interleaved;l===null?(i.next=i,z1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=M2(t,e,i,r),n!==null&&(i=Pn(),Br(n,t,r,i),rD(n,e,r))}}function tD(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function nD(t,e){Id=Vm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O1(t,n)}}var Fm={readContext:_r,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},T5={readContext:_r,useCallback:function(t,e){return Jr().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:xI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,em(4194308,4,Y2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return em(4194308,4,t,e)},useInsertionEffect:function(t,e){return em(4,2,t,e)},useMemo:function(t,e){var n=Jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E5.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Jr();return t={current:t},e.memoizedState=t},useState:wI,useDebugValue:J1,useDeferredValue:function(t){return Jr().memoizedState=t},useTransition:function(){var t=wI(!1),e=t[0];return t=_5.bind(null,t[1]),Jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Jr();if(st){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Ht===null)throw Error(Z(349));Ss&30||B2(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,xI(z2.bind(null,r,a,t),[t]),r.flags|=2048,cf(9,U2.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Jr(),e=Ht.identifierPrefix;if(st){var n=Li,r=$i;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A5={readContext:_r,useCallback:X2,useContext:_r,useEffect:X1,useImperativeHandle:Q2,useInsertionEffect:G2,useLayoutEffect:K2,useMemo:J2,useReducer:Y0,useRef:H2,useState:function(){return Y0(uf)},useDebugValue:J1,useDeferredValue:function(t){var e=Er();return Z2(e,jt.memoizedState,t)},useTransition:function(){var t=Y0(uf)[0],e=Er().memoizedState;return[t,e]},useMutableSource:V2,useSyncExternalStore:F2,useId:eD,unstable_isNewReconciler:!1},I5={readContext:_r,useCallback:X2,useContext:_r,useEffect:X1,useImperativeHandle:Q2,useInsertionEffect:G2,useLayoutEffect:K2,useMemo:J2,useReducer:Q0,useRef:H2,useState:function(){return Q0(uf)},useDebugValue:J1,useDeferredValue:function(t){var e=Er();return jt===null?e.memoizedState=t:Z2(e,jt.memoizedState,t)},useTransition:function(){var t=Q0(uf)[0],e=Er().memoizedState;return[t,e]},useMutableSource:V2,useSyncExternalStore:F2,useId:eD,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iy={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Ya(t),a=Hi(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ga(t,a,i),e!==null&&(Br(e,t,i,r),Jp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Ya(t),a=Hi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ga(t,a,i),e!==null&&(Br(e,t,i,r),Jp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=Ya(t),i=Hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Br(e,t,r,n),Jp(e,t,r))}};function _I(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!tf(n,r)||!tf(i,a):!0}function iD(t,e,n){var r=!1,i=uo,a=e.contextType;return typeof a=="object"&&a!==null?a=_r(a):(i=Bn(e)?_s:vn.current,r=e.contextTypes,a=(r=r!=null)?ru(t,i):uo),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Iy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function EI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iy.enqueueReplaceState(e,e.state,null)}function kw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=_r(a):(a=Bn(e)?_s:vn.current,i.context=ru(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Cw(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Iy.enqueueReplaceState(i,i.state,null),$m(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function su(t,e){try{var n="",r=e;do n+=t6(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function X0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P5=typeof WeakMap=="function"?WeakMap:Map;function aD(t,e,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Um||(Um=!0,zw=r),jw(t,e)},n}function oD(t,e,n){n=Hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jw(t,e),typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function SI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U5.bind(null,t,e,n),e.then(t,t))}function TI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hi(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var O5=la.ReactCurrentOwner,$n=!1;function En(t,e,n,r){e.child=t===null?D2(e,null,n,r):au(e,t.child,n,r)}function II(t,e,n,r,i){n=n.render;var a=e.ref;return ql(e,i),r=Y1(t,e,n,r,a,i),n=Q1(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ea(t,e,i)):(st&&n&&$1(e),e.flags|=1,En(t,e,r,i),e.child)}function PI(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!oE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,sD(t,e,a,r,i)):(t=im(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:tf,n(o,r)&&t.ref===e.ref)return ea(t,e,i)}return e.flags|=1,t=Qa(a,r),t.ref=e.ref,t.return=e,e.child=t}function sD(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(tf(a,r)&&t.ref===e.ref)if($n=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,ea(t,e,i)}return Rw(t,e,n,r,i)}function lD(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Rl,Yn),Yn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Rl,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ze(Rl,Yn),Yn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ze(Rl,Yn),Yn|=r;return En(t,e,i,n),e.child}function uD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rw(t,e,n,r,i){var a=Bn(n)?_s:vn.current;return a=ru(e,a),ql(e,i),n=Y1(t,e,n,r,a,i),r=Q1(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ea(t,e,i)):(st&&r&&$1(e),e.flags|=1,En(t,e,n,i),e.child)}function OI(t,e,n,r,i){if(Bn(n)){var a=!0;km(e)}else a=!1;if(ql(e,i),e.stateNode===null)tm(t,e),iD(e,n,r),kw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Bn(n)?_s:vn.current,u=ru(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&EI(e,o,r,u),Aa=!1;var h=e.memoizedState;o.state=h,$m(e,r,o,i),l=e.memoizedState,s!==r||h!==l||Fn.current||Aa?(typeof c=="function"&&(Cw(e,n,c,r),l=e.memoizedState),(s=Aa||_I(e,n,s,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$2(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Rr(e.type,s),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Bn(n)?_s:vn.current,l=ru(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&EI(e,o,r,l),Aa=!1,h=e.memoizedState,o.state=h,$m(e,r,o,i);var g=e.memoizedState;s!==d||h!==g||Fn.current||Aa?(typeof m=="function"&&(Cw(e,n,m,r),g=e.memoizedState),(u=Aa||_I(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Dw(t,e,n,r,a,i)}function Dw(t,e,n,r,i,a){uD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pI(e,n,!1),ea(t,e,a);r=e.stateNode,O5.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=au(e,t.child,null,a),e.child=au(e,null,s,a)):En(t,e,s,a),e.memoizedState=r.state,i&&pI(e,n,!0),e.child}function cD(t){var e=t.stateNode;e.pendingContext?hI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hI(t,e.context,!1),W1(t,e.containerInfo)}function NI(t,e,n,r,i){return iu(),V1(i),e.flags|=256,En(t,e,n,r),e.child}var Mw={dehydrated:null,treeContext:null,retryLane:0};function $w(t){return{baseLanes:t,cachePool:null,transitions:null}}function dD(t,e,n){var r=e.pendingProps,i=ft.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return Ow(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ny(o,r,0,null),t=ps(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=$w(n),e.memoizedState=Mw,t):Z1(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return N5(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Qa(s,a):(a=ps(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?$w(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Mw,r}return a=t.child,t=a.sibling,r=Qa(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Z1(t,e){return e=Ny({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bp(t,e,n,r){return r!==null&&V1(r),au(e,t.child,null,n),t=Z1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N5(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=X0(Error(Z(422))),bp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ny({mode:"visible",children:r.children},i,0,null),a=ps(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&au(e,t.child,null,o),e.child.memoizedState=$w(o),e.memoizedState=Mw,a);if(!(e.mode&1))return bp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Z(419)),r=X0(a,r,void 0),bp(t,e,o,r)}if(s=(o&t.childLanes)!==0,$n||s){if(r=Ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Zi(t,i),Br(r,t,i,-1))}return aE(),r=X0(Error(Z(421))),bp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z5.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Jn=Ha(i.nextSibling),tr=e,st=!0,$r=null,t!==null&&(fr[hr++]=$i,fr[hr++]=Li,fr[hr++]=Es,$i=t.id,Li=t.overflow,Es=e),e=Z1(e,r.children),e.flags|=4096,e)}function CI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nw(t.return,e,n)}function J0(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function fD(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(En(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CI(t,n,e);else if(t.tag===19)CI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),J0(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}J0(e,!0,n,null,a);break;case"together":J0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ea(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C5(t,e,n){switch(e.tag){case 3:cD(e),iu();break;case 5:L2(e);break;case 1:Bn(e.type)&&km(e);break;case 4:W1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Dm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?dD(t,e,n):(Ze(ft,ft.current&1),t=ea(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,lD(t,e,n)}return ea(t,e,n)}var hD,Lw,pD,mD;hD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lw=function(){};pD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rs(ui.current);var a=null;switch(n){case"input":i=ow(t,i),r=ow(t,r),a=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),a=[];break;case"textarea":i=uw(t,i),r=uw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nm)}dw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i?.[u],r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};mD=function(t,e,n,r){n!==r&&(e.flags|=4)};function zc(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k5(t,e,n){var r=e.pendingProps;switch(L1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Bn(e.type)&&Cm(),un(e),null;case 3:return r=e.stateNode,ou(),at(Fn),at(vn),G1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(Hw($r),$r=null))),Lw(t,e),un(e),null;case 5:H1(e);var i=rs(sf.current);if(n=e.type,t!==null&&e.stateNode!=null)pD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return un(e),null}if(t=rs(ui.current),yp(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Zr]=e,r[af]=a,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<dd.length;i++)nt(dd[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":FA(r,a),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},nt("invalid",r);break;case"textarea":UA(r,a),nt("invalid",r)}dw(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&gp(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&gp(r.textContent,s,t),i=["children",""+s]):Kd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":lp(r),BA(r,a,!0);break;case"textarea":lp(r),zA(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Nm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zr]=e,t[af]=r,hD(t,e,!1,!1),e.stateNode=t;e:{switch(o=fw(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<dd.length;i++)nt(dd[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":FA(t,r),i=ow(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":UA(t,r),i=uw(t,r),nt("invalid",t);break;default:i=r}dw(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?HR(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qR(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yd(t,l):typeof l=="number"&&Yd(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nt("scroll",t):l!=null&&E1(t,a,l,o))}switch(n){case"input":lp(t),BA(t,r,!1);break;case"textarea":lp(t),zA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Fl(t,!!r.multiple,a,!1):r.defaultValue!=null&&Fl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)mD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=rs(sf.current),rs(ui.current),yp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zr]=e,(a=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:gp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gp(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zr]=e,e.stateNode=r}return un(e),null;case 13:if(at(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Jn!==null&&e.mode&1&&!(e.flags&128))j2(),iu(),e.flags|=98560,a=!1;else if(a=yp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[Zr]=e}else iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),a=!1}else $r!==null&&(Hw($r),$r=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Dt===0&&(Dt=3):aE())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return ou(),Lw(t,e),t===null&&nf(e.stateNode.containerInfo),un(e),null;case 10:return U1(e.type._context),un(e),null;case 17:return Bn(e.type)&&Cm(),un(e),null;case 19:if(at(ft),a=e.memoizedState,a===null)return un(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)zc(a,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lm(t),o!==null){for(e.flags|=128,zc(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}a.tail!==null&&St()>lu&&(e.flags|=128,r=!0,zc(a,!1),e.lanes=4194304)}else{if(!r)if(t=Lm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!st)return un(e),null}else 2*St()-a.renderingStartTime>lu&&n!==1073741824&&(e.flags|=128,r=!0,zc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=St(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return iE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function j5(t,e){switch(L1(e),e.tag){case 1:return Bn(e.type)&&Cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ou(),at(Fn),at(vn),G1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return H1(e),null;case 13:if(at(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ft),null;case 4:return ou(),null;case 10:return U1(e.type._context),null;case 22:case 23:return iE(),null;case 24:return null;default:return null}}var wp=!1,fn=!1,R5=typeof WeakSet=="function"?WeakSet:Set,se=null;function jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Vw(t,e,n){try{n()}catch(r){bt(t,e,r)}}var kI=!1;function D5(t,e){if(_w=Im,t=w2(),M1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ew={focusedElem:t,selectionRange:n},Im=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rr(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(P){bt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=kI,kI=!1,g}function Pd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vw(e,n,a)}i=i.next}while(i!==r)}}function Py(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gD(t){var e=t.alternate;e!==null&&(t.alternate=null,gD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zr],delete e[af],delete e[Aw],delete e[y5],delete e[v5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yD(t){return t.tag===5||t.tag===3||t.tag===4}function jI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nm));else if(r!==4&&(t=t.child,t!==null))for(Bw(t,e,n),t=t.sibling;t!==null;)Bw(t,e,n),t=t.sibling}function Uw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uw(t,e,n),t=t.sibling;t!==null;)Uw(t,e,n),t=t.sibling}var Xt=null,Dr=!1;function ba(t,e,n){for(n=n.child;n!==null;)vD(t,e,n),n=n.sibling}function vD(t,e,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(wy,n)}catch{}switch(n.tag){case 5:fn||jl(n,e);case 6:var r=Xt,i=Dr;Xt=null,ba(t,e,n),Xt=r,Dr=i,Xt!==null&&(Dr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Dr?(t=Xt,n=n.stateNode,t.nodeType===8?W0(t.parentNode,n):t.nodeType===1&&W0(t,n),Zd(t)):W0(Xt,n.stateNode));break;case 4:r=Xt,i=Dr,Xt=n.stateNode.containerInfo,Dr=!0,ba(t,e,n),Xt=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Vw(n,e,o),i=i.next}while(i!==r)}ba(t,e,n);break;case 1:if(!fn&&(jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){bt(n,e,s)}ba(t,e,n);break;case 21:ba(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,ba(t,e,n),fn=r):ba(t,e,n);break;default:ba(t,e,n)}}function RI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R5),e.forEach(function(r){var i=q5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Xt=s.stateNode,Dr=!1;break e;case 3:Xt=s.stateNode.containerInfo,Dr=!0;break e;case 4:Xt=s.stateNode.containerInfo,Dr=!0;break e}s=s.return}if(Xt===null)throw Error(Z(160));vD(a,o,i),Xt=null,Dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bD(e,t),e=e.sibling}function bD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),Qr(t),r&4){try{Pd(3,t,t.return),Py(3,t)}catch(y){bt(t,t.return,y)}try{Pd(5,t,t.return)}catch(y){bt(t,t.return,y)}}break;case 1:kr(e,t),Qr(t),r&512&&n!==null&&jl(n,n.return);break;case 5:if(kr(e,t),Qr(t),r&512&&n!==null&&jl(n,n.return),t.flags&32){var i=t.stateNode;try{Yd(i,"")}catch(y){bt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&BR(i,a),fw(s,o);var u=fw(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?HR(i,d):c==="dangerouslySetInnerHTML"?qR(i,d):c==="children"?Yd(i,d):E1(i,c,d,u)}switch(s){case"input":sw(i,a);break;case"textarea":UR(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Fl(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Fl(i,!!a.multiple,a.defaultValue,!0):Fl(i,!!a.multiple,a.multiple?[]:"",!1))}i[af]=a}catch(y){bt(t,t.return,y)}}break;case 6:if(kr(e,t),Qr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){bt(t,t.return,y)}}break;case 3:if(kr(e,t),Qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zd(e.containerInfo)}catch(y){bt(t,t.return,y)}break;case 4:kr(e,t),Qr(t);break;case 13:kr(e,t),Qr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(nE=St())),r&4&&RI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(u=fn)||c,kr(e,t),fn=u):kr(e,t),Qr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(d=se=c;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Pd(4,h,h.return);break;case 1:jl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){bt(r,n,y)}}break;case 5:jl(h,h.return);break;case 22:if(h.memoizedState!==null){MI(d);continue}}m!==null?(m.return=h,se=m):MI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=WR("display",o))}catch(y){bt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){bt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kr(e,t),Qr(t),r&4&&RI(t);break;case 21:break;default:kr(e,t),Qr(t)}}function Qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yD(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yd(i,""),r.flags&=-33);var a=jI(t);Uw(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=jI(t);Bw(t,s,o);break;default:throw Error(Z(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M5(t,e,n){se=t,wD(t)}function wD(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wp;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||fn;s=wp;var u=fn;if(wp=o,(fn=l)&&!u)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?$I(i):l!==null?(l.return=o,se=l):$I(i);for(;a!==null;)se=a,wD(a),a=a.sibling;se=i,wp=s,fn=u}DI(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):DI(t)}}function DI(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Py(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&bI(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bI(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}fn||e.flags&512&&Fw(e)}catch(h){bt(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function MI(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function $I(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Py(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var a=e.return;try{Fw(e)}catch(l){bt(e,a,l)}break;case 5:var o=e.return;try{Fw(e)}catch(l){bt(e,o,l)}}}catch(l){bt(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var $5=Math.ceil,Bm=la.ReactCurrentDispatcher,eE=la.ReactCurrentOwner,br=la.ReactCurrentBatchConfig,Re=0,Ht=null,Ot=null,en=0,Yn=0,Rl=yo(0),Dt=0,df=null,Ts=0,Oy=0,tE=0,Od=null,Dn=null,nE=0,lu=1/0,ki=null,Um=!1,zw=null,Ka=null,xp=!1,La=null,zm=0,Nd=0,qw=null,nm=-1,rm=0;function Pn(){return Re&6?St():nm!==-1?nm:nm=St()}function Ya(t){return t.mode&1?Re&2&&en!==0?en&-en:w5.transition!==null?(rm===0&&(rm=i2()),rm):(t=Be,t!==0||(t=window.event,t=t===void 0?16:d2(t.type)),t):1}function Br(t,e,n,r){if(50<Nd)throw Nd=0,qw=null,Error(Z(185));dh(t,n,r),(!(Re&2)||t!==Ht)&&(t===Ht&&(!(Re&2)&&(Oy|=n),Dt===4&&Oa(t,en)),Un(t,r),n===1&&Re===0&&!(e.mode&1)&&(lu=St()+500,Ty&&vo()))}function Un(t,e){var n=t.callbackNode;w6(t,e);var r=Am(t,t===Ht?en:0);if(r===0)n!==null&&HA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HA(n),e===1)t.tag===0?b5(LI.bind(null,t)):N2(LI.bind(null,t)),m5(function(){!(Re&6)&&vo()}),n=null;else{switch(a2(r)){case 1:n=P1;break;case 4:n=n2;break;case 16:n=Tm;break;case 536870912:n=r2;break;default:n=Tm}n=PD(n,xD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xD(t,e){if(nm=-1,rm=0,Re&6)throw Error(Z(327));var n=t.callbackNode;if(Wl()&&t.callbackNode!==n)return null;var r=Am(t,t===Ht?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qm(t,r);else{e=r;var i=Re;Re|=2;var a=ED();(Ht!==t||en!==e)&&(ki=null,lu=St()+500,hs(t,e));do try{F5();break}catch(s){_D(t,s)}while(!0);B1(),Bm.current=a,Re=i,Ot!==null?e=0:(Ht=null,en=0,e=Dt)}if(e!==0){if(e===2&&(i=yw(t),i!==0&&(r=i,e=Ww(t,i))),e===1)throw n=df,hs(t,0),Oa(t,r),Un(t,St()),n;if(e===6)Oa(t,r);else{if(i=t.current.alternate,!(r&30)&&!L5(i)&&(e=qm(t,r),e===2&&(a=yw(t),a!==0&&(r=a,e=Ww(t,a))),e===1))throw n=df,hs(t,0),Oa(t,r),Un(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:zo(t,Dn,ki);break;case 3:if(Oa(t,r),(r&130023424)===r&&(e=nE+500-St(),10<e)){if(Am(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tw(zo.bind(null,t,Dn,ki),e);break}zo(t,Dn,ki);break;case 4:if(Oa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$5(r/1960))-r,10<r){t.timeoutHandle=Tw(zo.bind(null,t,Dn,ki),r);break}zo(t,Dn,ki);break;case 5:zo(t,Dn,ki);break;default:throw Error(Z(329))}}}return Un(t,St()),t.callbackNode===n?xD.bind(null,t):null}function Ww(t,e){var n=Od;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=qm(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&Hw(e)),t}function Hw(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function L5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oa(t,e){for(e&=~tE,e&=~Oy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function LI(t){if(Re&6)throw Error(Z(327));Wl();var e=Am(t,0);if(!(e&1))return Un(t,St()),null;var n=qm(t,e);if(t.tag!==0&&n===2){var r=yw(t);r!==0&&(e=r,n=Ww(t,r))}if(n===1)throw n=df,hs(t,0),Oa(t,e),Un(t,St()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zo(t,Dn,ki),Un(t,St()),null}function rE(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(lu=St()+500,Ty&&vo())}}function As(t){La!==null&&La.tag===0&&!(Re&6)&&Wl();var e=Re;Re|=1;var n=br.transition,r=Be;try{if(br.transition=null,Be=1,t)return t()}finally{Be=r,br.transition=n,Re=e,!(Re&6)&&vo()}}function iE(){Yn=Rl.current,at(Rl)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,p5(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(L1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cm();break;case 3:ou(),at(Fn),at(vn),G1();break;case 5:H1(r);break;case 4:ou();break;case 13:at(ft);break;case 19:at(ft);break;case 10:U1(r.type._context);break;case 22:case 23:iE()}n=n.return}if(Ht=t,Ot=t=Qa(t.current,null),en=Yn=e,Dt=0,df=null,tE=Oy=Ts=0,Dn=Od=null,ns!==null){for(e=0;e<ns.length;e++)if(n=ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ns=null}return t}function _D(t,e){do{var n=Ot;try{if(B1(),Zp.current=Fm,Vm){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vm=!1}if(Ss=0,zt=jt=pt=null,Id=!1,lf=0,eE.current=null,n===null||n.return===null){Dt=1,df=e,Ot=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=en,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=TI(o);if(m!==null){m.flags&=-257,AI(m,o,s,a,e),m.mode&1&&SI(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){SI(a,u,e),aE();break e}l=Error(Z(426))}}else if(st&&s.mode&1){var v=TI(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),AI(v,o,s,a,e),V1(su(l,s));break e}}a=l=su(l,s),Dt!==4&&(Dt=2),Od===null?Od=[a]:Od.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=aD(a,l,e);vI(a,b);break e;case 1:s=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ka===null||!Ka.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var P=oD(a,s,e);vI(a,P);break e}}a=a.return}while(a!==null)}TD(n)}catch(E){e=E,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function ED(){var t=Bm.current;return Bm.current=Fm,t===null?Fm:t}function aE(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ht===null||!(Ts&268435455)&&!(Oy&268435455)||Oa(Ht,en)}function qm(t,e){var n=Re;Re|=2;var r=ED();(Ht!==t||en!==e)&&(ki=null,hs(t,e));do try{V5();break}catch(i){_D(t,i)}while(!0);if(B1(),Re=n,Bm.current=r,Ot!==null)throw Error(Z(261));return Ht=null,en=0,Dt}function V5(){for(;Ot!==null;)SD(Ot)}function F5(){for(;Ot!==null&&!d6();)SD(Ot)}function SD(t){var e=ID(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?TD(t):Ot=e,eE.current=null}function TD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=j5(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Ot=null;return}}else if(n=k5(n,e,Yn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Dt===0&&(Dt=5)}function zo(t,e,n){var r=Be,i=br.transition;try{br.transition=null,Be=1,B5(t,e,n,r)}finally{br.transition=i,Be=r}return null}function B5(t,e,n,r){do Wl();while(La!==null);if(Re&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(x6(t,a),t===Ht&&(Ot=Ht=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xp||(xp=!0,PD(Tm,function(){return Wl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=br.transition,br.transition=null;var o=Be;Be=1;var s=Re;Re|=4,eE.current=null,D5(t,n),bD(n,t),s5(Ew),Im=!!_w,Ew=_w=null,t.current=n,M5(n),f6(),Re=s,Be=o,br.transition=a}else t.current=n;if(xp&&(xp=!1,La=t,zm=i),a=t.pendingLanes,a===0&&(Ka=null),m6(n.stateNode),Un(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Um)throw Um=!1,t=zw,zw=null,t;return zm&1&&t.tag!==0&&Wl(),a=t.pendingLanes,a&1?t===qw?Nd++:(Nd=0,qw=t):Nd=0,vo(),null}function Wl(){if(La!==null){var t=a2(zm),e=br.transition,n=Be;try{if(br.transition=null,Be=16>t?16:t,La===null)var r=!1;else{if(t=La,La=null,zm=0,Re&6)throw Error(Z(331));var i=Re;for(Re|=4,se=t.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:Pd(8,c,a)}var d=c.child;if(d!==null)d.return=c,se=d;else for(;se!==null;){c=se;var h=c.sibling,m=c.return;if(gD(c),c===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pd(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,se=b;break e}se=a.return}}var w=t.current;for(se=w;se!==null;){o=se;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,se=_;else e:for(o=w;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Py(9,s)}}catch(E){bt(s,s.return,E)}if(s===o){se=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,se=P;break e}se=s.return}}if(Re=i,vo(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(wy,t)}catch{}r=!0}return r}finally{Be=n,br.transition=e}}return!1}function VI(t,e,n){e=su(n,e),e=aD(t,e,1),t=Ga(t,e,1),e=Pn(),t!==null&&(dh(t,1,e),Un(t,e))}function bt(t,e,n){if(t.tag===3)VI(t,t,n);else for(;e!==null;){if(e.tag===3){VI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){t=su(n,t),t=oD(e,t,1),e=Ga(e,t,1),t=Pn(),e!==null&&(dh(e,1,t),Un(e,t));break}}e=e.return}}function U5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(en&n)===n&&(Dt===4||Dt===3&&(en&130023424)===en&&500>St()-nE?hs(t,0):tE|=n),Un(t,e)}function AD(t,e){e===0&&(t.mode&1?(e=dp,dp<<=1,!(dp&130023424)&&(dp=4194304)):e=1);var n=Pn();t=Zi(t,e),t!==null&&(dh(t,e,n),Un(t,n))}function z5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AD(t,n)}function q5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),AD(t,n)}var ID;ID=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)$n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $n=!1,C5(t,e,n);$n=!!(t.flags&131072)}else $n=!1,st&&e.flags&1048576&&C2(e,Rm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tm(t,e),t=e.pendingProps;var i=ru(e,vn.current);ql(e,n),i=Y1(null,e,r,t,i,n);var a=Q1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(a=!0,km(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q1(e),i.updater=Iy,e.stateNode=i,i._reactInternals=e,kw(e,r,t,n),e=Dw(null,e,r,!0,a,n)):(e.tag=0,st&&a&&$1(e),En(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=H5(r),t=Rr(r,t),i){case 0:e=Rw(null,e,r,t,n);break e;case 1:e=OI(null,e,r,t,n);break e;case 11:e=II(null,e,r,t,n);break e;case 14:e=PI(null,e,r,Rr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),Rw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),OI(t,e,r,i,n);case 3:e:{if(cD(e),t===null)throw Error(Z(387));r=e.pendingProps,a=e.memoizedState,i=a.element,$2(t,e),$m(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=su(Error(Z(423)),e),e=NI(t,e,r,n,i);break e}else if(r!==i){i=su(Error(Z(424)),e),e=NI(t,e,r,n,i);break e}else for(Jn=Ha(e.stateNode.containerInfo.firstChild),tr=e,st=!0,$r=null,n=D2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),r===i){e=ea(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return L2(e),t===null&&Ow(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Sw(r,i)?o=null:a!==null&&Sw(r,a)&&(e.flags|=32),uD(t,e),En(t,e,o,n),e.child;case 6:return t===null&&Ow(e),null;case 13:return dD(t,e,n);case 4:return W1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=au(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),II(t,e,r,i,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ze(Dm,r._currentValue),r._currentValue=o,a!==null)if(qr(a.value,o)){if(a.children===i.children&&!Fn.current){e=ea(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Hi(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Nw(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Nw(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}En(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ql(e,n),i=_r(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,i=Rr(r,e.pendingProps),i=Rr(r.type,i),PI(t,e,r,i,n);case 15:return sD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),tm(t,e),e.tag=1,Bn(r)?(t=!0,km(e)):t=!1,ql(e,n),iD(e,r,i),kw(e,r,i,n),Dw(null,e,r,!0,t,n);case 19:return fD(t,e,n);case 22:return lD(t,e,n)}throw Error(Z(156,e.tag))};function PD(t,e){return t2(t,e)}function W5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new W5(t,e,n,r)}function oE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H5(t){if(typeof t=="function")return oE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T1)return 11;if(t===A1)return 14}return 2}function Qa(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function im(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")oE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sl:return ps(n.children,i,a,e);case S1:o=8,i|=8;break;case nw:return t=mr(12,n,e,i|2),t.elementType=nw,t.lanes=a,t;case rw:return t=mr(13,n,e,i),t.elementType=rw,t.lanes=a,t;case iw:return t=mr(19,n,e,i),t.elementType=iw,t.lanes=a,t;case LR:return Ny(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MR:o=10;break e;case $R:o=9;break e;case T1:o=11;break e;case A1:o=14;break e;case Ta:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ps(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function Ny(t,e,n,r){return t=mr(22,t,r,e),t.elementType=LR,t.lanes=n,t.stateNode={isHidden:!1},t}function Z0(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function eb(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sE(t,e,n,r,i,a,o,s,l){return t=new G5(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=mr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q1(a),t}function K5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:El,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OD(t){if(!t)return uo;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Bn(n))return O2(t,n,e)}return e}function ND(t,e,n,r,i,a,o,s,l){return t=sE(n,r,!0,t,i,a,o,s,l),t.context=OD(null),n=t.current,r=Pn(),i=Ya(n),a=Hi(r,i),a.callback=e??null,Ga(n,a,i),t.current.lanes=i,dh(t,i,r),Un(t,r),t}function Cy(t,e,n,r){var i=e.current,a=Pn(),o=Ya(i);return n=OD(n),e.context===null?e.context=n:e.pendingContext=n,e=Hi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,o),t!==null&&(Br(t,i,o,a),Jp(t,i,o)),o}function Wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lE(t,e){FI(t,e),(t=t.alternate)&&FI(t,e)}function Y5(){return null}var CD=typeof reportError=="function"?reportError:function(t){console.error(t)};function uE(t){this._internalRoot=t}ky.prototype.render=uE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Cy(t,e,null,null)};ky.prototype.unmount=uE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){Cy(null,t,null,null)}),e[Ji]=null}};function ky(t){this._internalRoot=t}ky.prototype.unstable_scheduleHydration=function(t){if(t){var e=l2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pa.length&&e!==0&&e<Pa[n].priority;n++);Pa.splice(n,0,t),n===0&&c2(t)}};function cE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BI(){}function Q5(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Wm(o);a.call(u)}}var o=ND(e,r,t,0,null,!1,!1,"",BI);return t._reactRootContainer=o,t[Ji]=o.current,nf(t.nodeType===8?t.parentNode:t),As(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Wm(l);s.call(u)}}var l=sE(t,0,!1,null,null,!1,!1,"",BI);return t._reactRootContainer=l,t[Ji]=l.current,nf(t.nodeType===8?t.parentNode:t),As(function(){Cy(e,l,n,r)}),l}function Ry(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Wm(o);s.call(l)}}Cy(e,o,t,i)}else o=Q5(n,e,t,i,r);return Wm(o)}o2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cd(e.pendingLanes);n!==0&&(O1(e,n|1),Un(e,St()),!(Re&6)&&(lu=St()+500,vo()))}break;case 13:As(function(){var r=Zi(t,1);if(r!==null){var i=Pn();Br(r,t,1,i)}}),lE(t,1)}};N1=function(t){if(t.tag===13){var e=Zi(t,134217728);if(e!==null){var n=Pn();Br(e,t,134217728,n)}lE(t,134217728)}};s2=function(t){if(t.tag===13){var e=Ya(t),n=Zi(t,e);if(n!==null){var r=Pn();Br(n,t,e,r)}lE(t,e)}};l2=function(){return Be};u2=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};pw=function(t,e,n){switch(e){case"input":if(sw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sy(r);if(!i)throw Error(Z(90));FR(r),sw(r,i)}}}break;case"textarea":UR(t,n);break;case"select":e=n.value,e!=null&&Fl(t,!!n.multiple,e,!1)}};YR=rE;QR=As;var X5={usingClientEntryPoint:!1,Events:[hh,Pl,Sy,GR,KR,rE]},qc={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J5={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZR(t),t===null?null:t.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||Y5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{wy=_p.inject(J5),li=_p}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X5;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cE(e))throw Error(Z(200));return K5(t,e,null,n)};or.createRoot=function(t,e){if(!cE(t))throw Error(Z(299));var n=!1,r="",i=CD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sE(t,1,!1,null,null,n,!1,r,i),t[Ji]=e.current,nf(t.nodeType===8?t.parentNode:t),new uE(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=ZR(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return As(t)};or.hydrate=function(t,e,n){if(!jy(e))throw Error(Z(200));return Ry(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!cE(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=CD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ND(e,null,t,1,n??null,i,!1,a,o),t[Ji]=e.current,nf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ky(e)};or.render=function(t,e,n){if(!jy(e))throw Error(Z(200));return Ry(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!jy(t))throw Error(Z(40));return t._reactRootContainer?(As(function(){Ry(null,null,t,!1,function(){t._reactRootContainer=null,t[Ji]=null})}),!0):!1};or.unstable_batchedUpdates=rE;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jy(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Ry(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function kD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kD)}catch(t){console.error(t)}}kD(),kR.exports=or;var Z5=kR.exports,jD,UI=Z5;jD=UI.createRoot,UI.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const zI="popstate";function ez(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Gw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hm(i)}return nz(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tz(){return Math.random().toString(36).substr(2,8)}function qI(t,e){return{usr:t.state,key:t.key,idx:e}}function Gw(t,e,n,r){return n===void 0&&(n=null),ff({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ju(e):e,{state:n,key:e&&e.key||r||tz()})}function Hm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Va.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ff({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=Va.Pop;let v=c(),b=v==null?null:v-u;u=v,l&&l({action:s,location:y.location,delta:b})}function h(v,b){s=Va.Push;let w=Gw(y.location,v,b);u=c()+1;let _=qI(w,u),P=y.createHref(w);try{o.pushState(_,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(P)}a&&l&&l({action:s,location:y.location,delta:1})}function m(v,b){s=Va.Replace;let w=Gw(y.location,v,b);u=c();let _=qI(w,u),P=y.createHref(w);o.replaceState(_,"",P),a&&l&&l({action:s,location:y.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Hm(v);return w=w.replace(/ $/,"%20"),At(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zI,d),l=v,()=>{i.removeEventListener(zI,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return o.go(v)}};return y}var WI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WI||(WI={}));function rz(t,e,n){return n===void 0&&(n="/"),iz(t,e,n,!1)}function iz(t,e,n,r){let i=typeof e=="string"?Ju(e):e,a=dE(i.pathname||"/",n);if(a==null)return null;let o=DD(t);az(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=gz(a);s=pz(o[l],u,r)}return s}function DD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xa([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(At(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),DD(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:fz(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of MD(a.path))i(a,o,l)}),e}function MD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=MD(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function az(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oz=/^:[\w-]+$/,sz=3,lz=2,uz=1,cz=10,dz=-2,HI=t=>t==="*";function fz(t,e){let n=t.split("/"),r=n.length;return n.some(HI)&&(r+=dz),e&&(r+=lz),n.filter(i=>!HI(i)).reduce((i,a)=>i+(oz.test(a)?sz:a===""?uz:cz),r)}function hz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pz(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=GI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=GI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Xa([a,d.pathname]),pathnameBase:wz(Xa([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Xa([a,d.pathnameBase]))}return o}function GI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let y=s[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[d];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function mz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ju(t):t;return{pathname:n?n.startsWith("/")?n:vz(n,e):e,search:xz(r),hash:_z(i)}}function vz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fE(t,e){let n=bz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ju(t):(i=ff({},t),At(!i.pathname||!i.pathname.includes("?"),tb("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),tb("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),tb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=yz(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Xa=t=>t.join("/").replace(/\/\/+/g,"/"),wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_z=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ez(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $D=["post","put","patch","delete"];new Set($D);const Sz=["get",...$D];new Set(Sz);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}const pE=D.createContext(null),Tz=D.createContext(null),bo=D.createContext(null),Dy=D.createContext(null),xi=D.createContext({outlet:null,matches:[],isDataRoute:!1}),LD=D.createContext(null);function Az(t,e){let{relative:n}=e===void 0?{}:e;Zu()||At(!1);let{basename:r,navigator:i}=D.useContext(bo),{hash:a,pathname:o,search:s}=FD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Xa([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Zu(){return D.useContext(Dy)!=null}function wo(){return Zu()||At(!1),D.useContext(Dy).location}function VD(t){D.useContext(bo).static||D.useLayoutEffect(t)}function _i(){let{isDataRoute:t}=D.useContext(xi);return t?Bz():Iz()}function Iz(){Zu()||At(!1);let t=D.useContext(pE),{basename:e,future:n,navigator:r}=D.useContext(bo),{matches:i}=D.useContext(xi),{pathname:a}=wo(),o=JSON.stringify(fE(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return VD(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=hE(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xa([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,a,t])}const Pz=D.createContext(null);function Oz(t){let e=D.useContext(xi).outlet;return e&&D.createElement(Pz.Provider,{value:t},e)}function mE(){let{matches:t}=D.useContext(xi),e=t[t.length-1];return e?e.params:{}}function FD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(bo),{matches:i}=D.useContext(xi),{pathname:a}=wo(),o=JSON.stringify(fE(i,r.v7_relativeSplatPath));return D.useMemo(()=>hE(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function Nz(t,e){return Cz(t,e)}function Cz(t,e,n,r){Zu()||At(!1);let{navigator:i}=D.useContext(bo),{matches:a}=D.useContext(xi),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=wo(),c;if(e){var d;let v=typeof e=="string"?Ju(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||At(!1),c=v}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=rz(t,{pathname:m}),y=Mz(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Xa([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Xa([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?D.createElement(Dy.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Va.Pop}},y):y}function kz(){let t=Fz(),e=Ez(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const jz=D.createElement(kz,null);class Rz extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(xi.Provider,{value:this.props.routeContext},D.createElement(LD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dz(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(pE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(xi.Provider,{value:e},r)}function Mz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);c>=0||At(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,g=!1,y=null,v=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||jz,l&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),w=()=>{let _;return m?_=y:g?_=v:d.route.Component?_=D.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,D.createElement(Dz,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?D.createElement(Rz,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var BD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BD||{}),Gm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gm||{});function $z(t){let e=D.useContext(pE);return e||At(!1),e}function Lz(t){let e=D.useContext(Tz);return e||At(!1),e}function Vz(t){let e=D.useContext(xi);return e||At(!1),e}function UD(t){let e=Vz(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function Fz(){var t;let e=D.useContext(LD),n=Lz(Gm.UseRouteError),r=UD(Gm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Bz(){let{router:t}=$z(BD.UseNavigateStable),e=UD(Gm.UseNavigateStable),n=D.useRef(!1);return VD(()=>{n.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hf({fromRouteId:e},a)))},[t,e])}const KI={};function Uz(t,e){KI[e]||(KI[e]=!0,console.warn(e))}const YI=(t,e,n)=>Uz(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function zz(t,e){t!=null&&t.v7_startTransition||YI("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&YI("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function QI(t){let{to:e,replace:n,state:r,relative:i}=t;Zu()||At(!1);let{future:a,static:o}=D.useContext(bo),{matches:s}=D.useContext(xi),{pathname:l}=wo(),u=_i(),c=hE(e,fE(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function qz(t){return Oz(t.context)}function Ft(t){At(!1)}function Wz(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Va.Pop,navigator:a,static:o=!1,future:s}=t;Zu()&&At(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:a,static:o,future:hf({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Ju(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:g="default"}=r,y=D.useMemo(()=>{let v=dE(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:g},navigationType:i}},[l,c,d,h,m,g,i]);return y==null?null:D.createElement(bo.Provider,{value:u},D.createElement(Dy.Provider,{children:n,value:y}))}function Hz(t){let{children:e,location:n}=t;return Nz(Kw(e),n)}new Promise(()=>{});function Kw(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Kw(r.props.children,a));return}r.type!==Ft&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kw(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function Gz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yz(t,e){return t.button===0&&(!e||e==="_self")&&!Kz(t)}const Qz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xz="6";try{window.__reactRouterVersion=Xz}catch{}const Jz="startTransition",XI=UU[Jz];function Zz(t){let{basename:e,children:n,future:r,window:i}=t,a=D.useRef();a.current==null&&(a.current=ez({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=D.useCallback(d=>{u&&XI?XI(()=>l(d)):l(d)},[l,u]);return D.useLayoutEffect(()=>o.listen(c),[o,c]),D.useEffect(()=>zz(r),[r]),D.createElement(Wz,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const e9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Di=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=Gz(e,Qz),{basename:m}=D.useContext(bo),g,y=!1;if(typeof u=="string"&&t9.test(u)&&(g=u,e9))try{let _=new URL(window.location.href),P=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=dE(P.pathname,m);P.origin===_.origin&&E!=null?u=E+P.search+P.hash:y=!0}catch{}let v=Az(u,{relative:i}),b=n9(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||b(_)}return D.createElement("a",Yw({},h,{href:g||v,onClick:y||a?r:w,ref:n,target:l}))});var JI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(JI||(JI={}));var ZI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ZI||(ZI={}));function n9(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=_i(),u=wo(),c=FD(t,{relative:o});return D.useCallback(d=>{if(Yz(d,n)){d.preventDefault();let h=r!==void 0?r:Hm(u)===Hm(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}let r9={data:""},i9=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||r9,a9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o9=/\/\*[^]*?\*\/|  +/g,eP=/\n+/g,Na=(t,e)=>{let n="",r="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Na(o,a):a+"{"+Na(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=Na(o,e?e.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Na.p?Na.p(a,o):a+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ni={},zD=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zD(t[n]);return e}return t},s9=(t,e,n,r,i)=>{let a=zD(t),o=Ni[a]||(Ni[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!Ni[o]){let l=a!==t?t:(u=>{let c,d,h=[{}];for(;c=a9.exec(u.replace(o9,""));)c[4]?h.shift():c[3]?(d=c[3].replace(eP," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(eP," ").trim();return h[0]})(t);Ni[o]=Na(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let s=n&&Ni.g?Ni.g:null;return n&&(Ni.g=Ni[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Ni[o],e,r,s),o},l9=(t,e,n)=>t.reduce((r,i,a)=>{let o=e[a];if(o&&o.call){let s=o(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":Na(s,""):s===!1?"":s}return r+i+(o??"")},"");function My(t){let e=this||{},n=t.call?t(e.p):t;return s9(n.unshift?n.raw?l9(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,i9(e.target),e.g,e.o,e.k)}let qD,Qw,Xw;My.bind({g:1});let ta=My.bind({k:1});function u9(t,e,n,r){Na.p=e,qD=t,Qw=n,Xw=r}function xo(t,e){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:Qw&&Qw()},s),n.o=/ *go\d+/.test(l),s.className=My.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=s.as||t,delete s.as),Xw&&u[0]&&Xw(s),qD(u,s)}return i}}var c9=t=>typeof t=="function",Km=(t,e)=>c9(t)?t(e):t,d9=(()=>{let t=0;return()=>(++t).toString()})(),WD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),f9=20,am=new Map,h9=1e3,tP=t=>{if(am.has(t))return;let e=setTimeout(()=>{am.delete(t),Ks({type:4,toastId:t})},h9);am.set(t,e)},p9=t=>{let e=am.get(t);e&&clearTimeout(e)},Jw=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,f9)};case 1:return e.toast.id&&p9(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return t.toasts.find(a=>a.id===n.id)?Jw(t,{type:1,toast:n}):Jw(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?tP(r):t.toasts.forEach(a=>{tP(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},om=[],sm={toasts:[],pausedAt:void 0},Ks=t=>{sm=Jw(sm,t),om.forEach(e=>{e(sm)})},m9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g9=(t={})=>{let[e,n]=D.useState(sm);D.useEffect(()=>(om.push(n),()=>{let i=om.indexOf(n);i>-1&&om.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||t?.duration||m9[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},y9=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||d9()}),mh=t=>(e,n)=>{let r=y9(e,t,n);return Ks({type:2,toast:r}),r.id},K=(t,e)=>mh("blank")(t,e);K.error=mh("error");K.success=mh("success");K.loading=mh("loading");K.custom=mh("custom");K.dismiss=t=>{Ks({type:3,toastId:t})};K.remove=t=>Ks({type:4,toastId:t});K.promise=(t,e,n)=>{let r=K.loading(e.loading,{...n,...n?.loading});return t.then(i=>(K.success(Km(e.success,i),{id:r,...n,...n?.success}),i)).catch(i=>{K.error(Km(e.error,i),{id:r,...n,...n?.error})}),t};var v9=(t,e)=>{Ks({type:1,toast:{id:t,height:e}})},b9=()=>{Ks({type:5,time:Date.now()})},w9=t=>{let{toasts:e,pausedAt:n}=g9(t);D.useEffect(()=>{if(n)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&K.dismiss(s.id);return}return setTimeout(()=>K.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,n]);let r=D.useCallback(()=>{n&&Ks({type:6,time:Date.now()})},[n]),i=D.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(m=>(m.position||u)===(a.position||u)&&m.height),d=c.findIndex(m=>m.id===a.id),h=c.filter((m,g)=>g<d&&m.visible).length;return c.filter(m=>m.visible).slice(...s?[h+1]:[0,h]).reduce((m,g)=>m+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:v9,startPause:b9,endPause:r,calculateOffset:i}}},x9=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_9=ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,E9=ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,S9=xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${x9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${E9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,T9=ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,A9=xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${T9} 1s linear infinite;
`,I9=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,P9=ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,O9=xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${I9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${P9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,N9=xo("div")`
  position: absolute;
`,C9=xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,k9=ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j9=xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${k9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,R9=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?D.createElement(j9,null,e):e:n==="blank"?null:D.createElement(C9,null,D.createElement(A9,{...r}),n!=="loading"&&D.createElement(N9,null,n==="error"?D.createElement(S9,{...r}):D.createElement(O9,{...r})))},D9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,$9="0%{opacity:0;} 100%{opacity:1;}",L9="0%{opacity:1;} 100%{opacity:0;}",V9=xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,F9=xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B9=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=WD()?[$9,L9]:[D9(n),M9(n)];return{animation:e?`${ta(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ta(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},U9=D.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?B9(t.position||e||"top-center",t.visible):{opacity:0},a=D.createElement(R9,{toast:t}),o=D.createElement(F9,{...t.ariaProps},Km(t.message,t));return D.createElement(V9,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:o}):D.createElement(D.Fragment,null,a,o))});u9(D.createElement);var z9=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=D.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;r(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return D.createElement("div",{ref:a,className:e,style:n},i)},q9=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:WD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},W9=My`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ep=16,H9=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=w9(n);return D.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ep,left:Ep,right:Ep,bottom:Ep,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(u=>{let c=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),h=q9(c,d);return D.createElement(z9,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?W9:"",style:h},u.type==="custom"?Km(u.message,u):i?i(u):D.createElement(U9,{toast:u,position:c}))}))},nP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},GD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[c],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new K9;const h=a<<2|s>>4;if(r.push(h),u!==64){const m=s<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y9=function(t){const e=HD(t);return GD.encodeByteArray(e,!0)},Ym=function(t){return Y9(t).replace(/\./g,"")},KD=function(t){try{return GD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=()=>Q9().__FIREBASE_DEFAULTS__,J9=()=>{if(typeof process>"u"||typeof nP>"u")return;const t=nP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KD(t[1]);return e&&JSON.parse(e)},$y=()=>{try{return X9()||J9()||Z9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YD=t=>{var e,n;return(n=(e=$y())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QD=t=>{const e=YD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XD=()=>{var t;return(t=$y())===null||t===void 0?void 0:t.config},JD=t=>{var e;return(e=$y())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ym(JSON.stringify(n)),Ym(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function n8(){var t;const e=(t=$y())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a8(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tM(){return!n8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function nM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function o8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s8,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}}class Ys{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?l8(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Ir(i,s,r)}}function l8(t,e){return t.replace(u8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u8=/\{\$([^}]+)}/g;function c8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(rP(a)&&rP(o)){if(!uu(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d8(t,e){const n=new f8(t,e);return n.subscribe.bind(n)}class f8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nb),i.error===void 0&&(i.error=nb),i.complete===void 0&&(i.complete=nb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=1e3,m8=2,g8=4*60*60*1e3,y8=.5;function iP(t,e=p8,n=m8){const r=e*Math.pow(n,t),i=Math.round(y8*r*(Math.random()-.5)*2);return Math.min(g8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w8(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b8(t){return t===qo?void 0:t}function w8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const _8={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},E8=Ie.INFO,S8={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},T8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=S8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=E8,this._logHandler=T8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const A8=(t,e)=>e.some(n=>t instanceof n);let aP,oP;function I8(){return aP||(aP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P8(){return oP||(oP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rM=new WeakMap,Zw=new WeakMap,iM=new WeakMap,rb=new WeakMap,yE=new WeakMap;function O8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ja(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rM.set(n,t)}).catch(()=>{}),yE.set(e,t),e}function N8(t){if(Zw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Zw.set(t,e)}let ex={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C8(t){ex=t(ex)}function k8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ib(this),e,...n);return iM.set(r,e.sort?e.sort():[e]),Ja(r)}:P8().includes(t)?function(...e){return t.apply(ib(this),e),Ja(rM.get(this))}:function(...e){return Ja(t.apply(ib(this),e))}}function j8(t){return typeof t=="function"?k8(t):(t instanceof IDBTransaction&&N8(t),A8(t,I8())?new Proxy(t,ex):t)}function Ja(t){if(t instanceof IDBRequest)return O8(t);if(rb.has(t))return rb.get(t);const e=j8(t);return e!==t&&(rb.set(t,e),yE.set(e,t)),e}const ib=t=>yE.get(t);function R8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ja(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ja(o.result),l.oldVersion,l.newVersion,Ja(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const D8=["get","getKey","getAll","getAllKeys","count"],M8=["put","add","delete","clear"],ab=new Map;function sP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ab.get(e))return ab.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D8.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ab.set(e,a),a}C8(t=>({...t,get:(e,n,r)=>sP(e,n)||t.get(e,n,r),has:(e,n)=>!!sP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L8(t){const e=t.getComponent();return e?.type==="VERSION"}const tx="@firebase/app",lP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Ly("@firebase/app"),V8="@firebase/app-compat",F8="@firebase/analytics-compat",B8="@firebase/analytics",U8="@firebase/app-check-compat",z8="@firebase/app-check",q8="@firebase/auth",W8="@firebase/auth-compat",H8="@firebase/database",G8="@firebase/data-connect",K8="@firebase/database-compat",Y8="@firebase/functions",Q8="@firebase/functions-compat",X8="@firebase/installations",J8="@firebase/installations-compat",Z8="@firebase/messaging",eq="@firebase/messaging-compat",tq="@firebase/performance",nq="@firebase/performance-compat",rq="@firebase/remote-config",iq="@firebase/remote-config-compat",aq="@firebase/storage",oq="@firebase/storage-compat",sq="@firebase/firestore",lq="@firebase/vertexai-preview",uq="@firebase/firestore-compat",cq="firebase",dq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="[DEFAULT]",fq={[tx]:"fire-core",[V8]:"fire-core-compat",[B8]:"fire-analytics",[F8]:"fire-analytics-compat",[z8]:"fire-app-check",[U8]:"fire-app-check-compat",[q8]:"fire-auth",[W8]:"fire-auth-compat",[H8]:"fire-rtdb",[G8]:"fire-data-connect",[K8]:"fire-rtdb-compat",[Y8]:"fire-fn",[Q8]:"fire-fn-compat",[X8]:"fire-iid",[J8]:"fire-iid-compat",[Z8]:"fire-fcm",[eq]:"fire-fcm-compat",[tq]:"fire-perf",[nq]:"fire-perf-compat",[rq]:"fire-rc",[iq]:"fire-rc-compat",[aq]:"fire-gcs",[oq]:"fire-gcs-compat",[sq]:"fire-fst",[uq]:"fire-fst-compat",[lq]:"fire-vertex","fire-js":"fire-js",[cq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map,hq=new Map,rx=new Map;function uP(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wr(t){const e=t.name;if(rx.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;rx.set(e,t);for(const n of Qm.values())uP(n,t);for(const n of hq.values())uP(n,t);return!0}function ua(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Ys("app","Firebase",pq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=dq;function ix(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Za.create("bad-app-name",{appName:String(i)});if(n||(n=XD()),!n)throw Za.create("no-options");const a=Qm.get(i);if(a){if(uu(n,a.options)&&uu(r,a.config))return a;throw Za.create("duplicate-app",{appName:i})}const o=new x8(i);for(const l of rx.values())o.addComponent(l);const s=new mq(n,r,o);return Qm.set(i,s),s}function Vy(t=nx){const e=Qm.get(t);if(!e&&t===nx&&XD())return ix();if(!e)throw Za.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let i=(r=fq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(s.join(" "));return}Wr(new Sr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq="firebase-heartbeat-database",yq=1,pf="firebase-heartbeat-store";let ob=null;function aM(){return ob||(ob=R8(gq,yq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Za.create("idb-open",{originalErrorMessage:t.message})})),ob}async function vq(t){try{const n=(await aM()).transaction(pf),r=await n.objectStore(pf).get(oM(t));return await n.done,r}catch(e){if(e instanceof Ir)na.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e?.message});na.warn(n.message)}}}async function cP(t,e){try{const r=(await aM()).transaction(pf,"readwrite");await r.objectStore(pf).put(e,oM(t)),await r.done}catch(n){if(n instanceof Ir)na.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n?.message});na.warn(r.message)}}}function oM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=1024,wq=30*24*60*60*1e3;class xq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Eq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=wq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dP(),{heartbeatsToSend:r,unsentEntries:i}=_q(this._heartbeatsCache.heartbeats),a=Ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return na.warn(n),""}}}function dP(){return new Date().toISOString().substring(0,10)}function _q(t,e=bq){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),fP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Eq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?nM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fP(t){return Ym(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){Wr(new Sr("platform-logger",e=>new $8(e),"PRIVATE")),Wr(new Sr("heartbeat",e=>new xq(e),"PRIVATE")),zn(tx,lP,t),zn(tx,lP,"esm2017"),zn("fire-js","")}Sq("");function vE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tq=sM,lM=new Ys("auth","Firebase",sM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Ly("@firebase/auth");function Aq(t,...e){Xm.logLevel<=Ie.WARN&&Xm.warn(`Auth (${Qs}): ${t}`,...e)}function lm(t,...e){Xm.logLevel<=Ie.ERROR&&Xm.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw wE(t,...e)}function Ur(t,...e){return wE(t,...e)}function bE(t,e,n){const r=Object.assign(Object.assign({},Tq()),{[e]:n});return new Ys("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return bE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),bE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lM.create(t,...e)}function pe(t,e,...n){if(!t)throw wE(e,...n)}function Vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lm(e),new Error(e)}function ra(t,e){t||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Pq(){return hP()==="http:"||hP()==="https:"}function hP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pq()||eM()||"connection"in navigator)?navigator.onLine:!0}function Nq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ra(n>e,"Short delay should be less than long delay!"),this.isMobile=t8()||i8()}get(){return Oq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e){ra(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=new yh(3e4,6e4);function _o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Eo(t,e,n,r,i={}){return cM(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=gh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return r8()||(u.referrerPolicy="no-referrer"),uM.fetch()(dM(t,t.config.apiHost,n,s),u)})}async function cM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cq),e);try{const i=new Rq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Sp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bE(t,c,u);Tr(t,c)}}catch(i){if(i instanceof Ir)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function vh(t,e,n,r,i={}){const a=await Eo(t,e,n,r,i);return"mfaPendingCredential"in a&&Tr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function dM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xE(t.config,i):`${t.config.apiScheme}://${i}`}function jq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),kq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function pP(t){return t!==void 0&&t.enterprise!==void 0}class Dq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Mq(t,e){return Eo(t,"GET","/v2/recaptchaConfig",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e){return Eo(t,"POST","/v1/accounts:delete",e)}async function fM(t,e){return Eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lq(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),i=_E(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Cd(sb(i.auth_time)),issuedAtTime:Cd(sb(i.iat)),expirationTime:Cd(sb(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function sb(t){return Number(t)*1e3}function _E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=KD(n);return i?JSON.parse(i):(lm("Failed to decode base64 JWT payload"),null)}catch(i){return lm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mP(t){const e=_E(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&Vq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await mf(t,fM(n,{idToken:r}));pe(i?.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?hM(a.providerUserInfo):[],s=Uq(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!s?.length,c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new ox(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Bq(t){const e=Ye(t);await Jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Uq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hM(t){return t.map(e=>{var{providerId:n}=e,r=vE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zq(t,e){const n=await cM(t,{},async()=>{const r=gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=dM(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",uM.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qq(t,e){return Eo(t,"POST","/v2/accounts:revokeToken",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=mP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await zq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Hl;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=vE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ox(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mf(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lq(this,e)}reload(){return Bq(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await mf(this,$q(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:P,isAnonymous:E,providerData:A,stsTokenManager:S}=n;pe(_&&S,e,"internal-error");const T=Hl.fromJSON(this.name,S);pe(typeof _=="string",e,"internal-error"),wa(d,e.name),wa(h,e.name),pe(typeof P=="boolean",e,"internal-error"),pe(typeof E=="boolean",e,"internal-error"),wa(m,e.name),wa(g,e.name),wa(y,e.name),wa(v,e.name),wa(b,e.name),wa(w,e.name);const O=new Fi({uid:_,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:T,createdAt:b,lastLoginAt:w});return A&&Array.isArray(A)&&(O.providerData=A.map(C=>Object.assign({},C))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hl;i.updateFromServerResponse(n);const a=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?hM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,s=new Hl;s.updateFromIdToken(r);const l=new Fi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ox(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Map;function Bi(t){ra(t instanceof Function,"Expected a class definition");let e=gP.get(t);return e?(ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pM.type="NONE";const yP=pM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,a),this.fullPersistenceKey=um("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(Bi(yP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Bi(yP);const o=um(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Fi._fromJSON(e,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Gl(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Gl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wM(e))return"Blackberry";if(xM(e))return"Webos";if(gM(e))return"Safari";if((e.includes("chrome/")||yM(e))&&!e.includes("edge/"))return"Chrome";if(bM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mM(t=$t()){return/firefox\//i.test(t)}function gM(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yM(t=$t()){return/crios\//i.test(t)}function vM(t=$t()){return/iemobile/i.test(t)}function bM(t=$t()){return/android/i.test(t)}function wM(t=$t()){return/blackberry/i.test(t)}function xM(t=$t()){return/webos/i.test(t)}function EE(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wq(t=$t()){var e;return EE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Hq(){return a8()&&document.documentMode===10}function _M(t=$t()){return EE(t)||bM(t)||xM(t)||wM(t)||/windows phone/i.test(t)||vM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e=[]){let n;switch(t){case"Browser":n=vP($t());break;case"Worker":n=`${vP($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kq(t,e={}){return Eo(t,"GET","/v2/passwordPolicy",_o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=6;class Qq{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Yq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bP(this),this.idTokenSubscription=new bP(this),this.beforeStateQueue=new Gq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fM(this,{idToken:e}),r=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&l?.user&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(Gi(this));const n=e?Ye(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kq(this),n=new Qq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ys("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Aq(`Error while retrieving App Check token: ${n.error}`),n?.token}}function So(t){return Ye(t)}class bP{constructor(e){this.auth=e,this.observer=null,this.addObserver=d8(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jq(t){Fy=t}function SM(t){return Fy.loadJS(t)}function Zq(){return Fy.recaptchaEnterpriseScript}function eW(){return Fy.gapiScript}function tW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nW="recaptcha-enterprise",rW="NO_RECAPTCHA";class iW{constructor(e){this.type=nW,this.auth=So(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Mq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new Dq(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;pP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(rW)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&pP(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Zq();l.length!==0&&(l+=s),SM(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function wP(t,e,n,r=!1){const i=new iW(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function sx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await wP(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t,e){const n=ua(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(uu(a,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function oW(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function sW(t,e,n){const r=So(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=TM(e),{host:o,port:s}=lW(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),uW()}function TM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lW(t){const e=TM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:xP(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:xP(o)}}}function xP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,n){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function cW(t,e){return Eo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e){return vh(t,"POST","/v1/accounts:signInWithPassword",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e){return vh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}async function hW(t,e){return vh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends SE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sx(e,n,"signInWithPassword",dW);case"emailLink":return fW(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sx(e,r,"signUpPassword",cW);case"emailLink":return hW(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e){return vh(t,"POST","/v1/accounts:signInWithIdp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW="http://localhost";class Is extends SE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=vE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Is(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:pW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gW(t){const e=fd(hd(t)).link,n=e?fd(hd(e)).deep_link_id:null,r=fd(hd(t)).deep_link_id;return(r?fd(hd(r)).link:null)||r||n||e||t}class TE{constructor(e){var n,r,i,a,o,s;const l=fd(hd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=mW((i=l.mode)!==null&&i!==void 0?i:null);pe(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=gW(e);try{return new TE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(e,n){return gf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=TE.parseLink(n);return pe(r,"argument-error"),gf._fromEmailAndCode(e,r.code,r.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends AE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends bh{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Is._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends bh{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.GITHUB_SIGN_IN_METHOD="github.com";ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends bh{constructor(){super("twitter.com")}static credential(e,n){return Is._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e){return vh(t,"POST","/v1/accounts:signUp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Fi._fromIdTokenResponse(e,r,i),o=_P(r);return new Ps({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_P(r);return new Ps({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _P(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Ir{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zm(e,n,r,i)}}function AM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zm._fromErrorAndOperation(t,a,e,r):a})}async function vW(t,e,n=!1){const r=await mf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject(Gi(r));const i="reauthenticate";try{const a=await mf(t,AM(r,i,e,t),n);pe(a.idToken,r,"internal-error");const o=_E(a.idToken);pe(o,r,"internal-error");const{sub:s}=o;return pe(t.uid===s,r,"user-mismatch"),Ps._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e,n=!1){if(Vr(t.app))return Promise.reject(Gi(t));const r="signIn",i=await AM(t,r,e),a=await Ps._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function wW(t,e){return IM(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xW(t,e,n){if(Vr(t.app))return Promise.reject(Gi(t));const r=So(t),o=await sx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&PM(t),l}),s=await Ps._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function _W(t,e,n){return Vr(t.app)?Promise.reject(Gi(t)):wW(Ye(t),ec.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t,e){return Ye(t).setPersistence(e)}function EW(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function SW(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function TW(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function AW(t){return Ye(t).signOut()}const eg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eg,"1"),this.storage.removeItem(eg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=1e3,PW=10;class CM extends NM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_M(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);Hq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CM.type="LOCAL";const IE=CM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM extends NM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kM.type="SESSION";const jM=kM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new By(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await OW(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}By.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=PE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function CW(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function kW(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jW(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RW(){return RM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebaseLocalStorageDb",DW=1,tg="firebaseLocalStorage",MM="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uy(t,e){return t.transaction([tg],e?"readwrite":"readonly").objectStore(tg)}function MW(){const t=indexedDB.deleteDatabase(DM);return new wh(t).toPromise()}function lx(){const t=indexedDB.open(DM,DW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tg,{keyPath:MM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tg)?e(r):(r.close(),await MW(),e(await lx()))})})}async function EP(t,e,n){const r=Uy(t,!0).put({[MM]:e,value:n});return new wh(r).toPromise()}async function $W(t,e){const n=Uy(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function SP(t,e){const n=Uy(t,!0).delete(e);return new wh(n).toPromise()}const LW=800,VW=3;class $M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=By._getInstance(RW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kW(),!this.activeServiceWorker)return;this.sender=new NW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lx();return await EP(e,eg,"1"),await SP(e,eg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$W(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Uy(i,!1).getAll();return new wh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$M.type="LOCAL";const FW=$M;new yh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e){return e?Bi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends SE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BW(t){return IM(t.auth,new OE(t),t.bypassAuthState)}function UW(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),bW(n,new OE(t),t.bypassAuthState)}async function zW(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),vW(n,new OE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BW;case"linkViaPopup":case"linkViaRedirect":return zW;case"reauthViaPopup":case"reauthViaRedirect":return UW;default:Tr(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=new yh(2e3,1e4);async function WW(t,e,n){if(Vr(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=So(t);Iq(t,e,AE);const i=LM(r,n);return new is(r,"signInViaPopup",e,i).executeNotNull()}class is extends VM{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=PE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qW.get())};e()}}is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW="pendingRedirect",cm=new Map;class GW extends VM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const r=await KW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KW(t,e){const n=XW(e),r=QW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function YW(t,e){cm.set(t._key(),e)}function QW(t){return Bi(t._redirectPersistence)}function XW(t){return um(HW,t.config.apiKey,t.name)}async function JW(t,e,n=!1){if(Vr(t.app))return Promise.reject(Gi(t));const r=So(t),i=LM(r,e),o=await new GW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=10*60*1e3;class e7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZW&&this.cachedEventUids.clear(),this.cachedEventUids.has(TP(e))}saveEventToCache(e){this.cachedEventUids.add(TP(e)),this.lastProcessedEventTime=Date.now()}}function TP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function t7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e={}){return Eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i7=/^https?/;async function a7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n7(t);for(const n of e)try{if(o7(n))return}catch{}Tr(t,"unauthorized-domain")}function o7(t){const e=ax(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i7.test(n))return!1;if(r7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new yh(3e4,6e4);function AP(){const t=ci().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l7(t){return new Promise((e,n)=>{var r,i,a;function o(){AP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AP(),n(Ur(t,"network-request-failed"))},timeout:s7.get()})}if(!((i=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ci().gapi)===null||a===void 0)&&a.load)o();else{const s=tW("iframefcb");return ci()[s]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},SM(`${eW()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw dm=null,e})}let dm=null;function u7(t){return dm=dm||l7(t),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=new yh(5e3,15e3),d7="__/auth/iframe",f7="emulator/auth/iframe",h7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m7(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xE(e,f7):`https://${t.config.authDomain}/${d7}`,r={apiKey:e.apiKey,appName:t.name,v:Qs},i=p7.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${gh(r).slice(1)}`}async function g7(t){const e=await u7(t),n=ci().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:m7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h7,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ur(t,"network-request-failed"),s=ci().setTimeout(()=>{a(o)},c7.get());function l(){ci().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v7=500,b7=600,w7="_blank",x7="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _7(t,e,n,r=v7,i=b7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},y7),{width:r.toString(),height:i.toString(),top:a,left:o}),u=$t().toLowerCase();n&&(s=yM(u)?w7:n),mM(u)&&(e=e||x7,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(Wq(u)&&s!=="_self")return E7(e||"",s),new IP(null);const d=window.open(e||"",s,c);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new IP(d)}function E7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="__/auth/handler",T7="emulator/auth/handler",A7=encodeURIComponent("fac");async function PP(t,e,n,r,i,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qs,eventId:i};if(e instanceof AE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof bh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${A7}=${encodeURIComponent(l)}`:"";return`${I7(t)}?${gh(s).slice(1)}${u}`}function I7({config:t}){return t.emulator?xE(t,T7):`https://${t.authDomain}/${S7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="webStorageSupport";class P7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jM,this._completeRedirectFn=JW,this._overrideRedirectResult=YW}async _openPopup(e,n,r,i){var a;ra((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await PP(e,n,r,ax(),i);return _7(e,o,PE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await PP(e,n,r,ax(),i);return CW(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ra(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g7(e),r=new e7(e);return n.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lb,{type:lb},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[lb];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _M()||gM()||EE()}}const O7=P7;var OP="@firebase/auth",NP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k7(t){Wr(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EM(t)},u=new Xq(r,i,a,l);return oW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wr(new Sr("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new N7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(OP,NP,C7(t)),zn(OP,NP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=5*60,R7=JD("authIdTokenMaxAge")||j7;let CP=null;const D7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R7)return;const i=n?.token;CP!==i&&(CP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kP(t=Vy()){const e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aW(t,{popupRedirectResolver:O7,persistence:[FW,IE,jM]}),r=JD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=D7(a.toString());SW(n,o,()=>o(n.currentUser)),EW(n,s=>o(s))}}const i=YD("auth");return i&&sW(n,`http://${i}`),n}function M7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Jq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ur("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",M7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k7("Browser");var jP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,BM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function O(){}O.prototype=T.prototype,S.D=T.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(C,N,R){for(var k=Array(arguments.length-2),U=2;U<arguments.length;U++)k[U-2]=arguments[U];return T.prototype[N].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,O){O||(O=0);var C=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)C[N]=T.charCodeAt(O++)|T.charCodeAt(O++)<<8|T.charCodeAt(O++)<<16|T.charCodeAt(O++)<<24;else for(N=0;16>N;++N)C[N]=T[O++]|T[O++]<<8|T[O++]<<16|T[O++]<<24;T=S.g[0],O=S.g[1],N=S.g[2];var R=S.g[3],k=T+(R^O&(N^R))+C[0]+3614090360&4294967295;T=O+(k<<7&4294967295|k>>>25),k=R+(N^T&(O^N))+C[1]+3905402710&4294967295,R=T+(k<<12&4294967295|k>>>20),k=N+(O^R&(T^O))+C[2]+606105819&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(T^N&(R^T))+C[3]+3250441966&4294967295,O=N+(k<<22&4294967295|k>>>10),k=T+(R^O&(N^R))+C[4]+4118548399&4294967295,T=O+(k<<7&4294967295|k>>>25),k=R+(N^T&(O^N))+C[5]+1200080426&4294967295,R=T+(k<<12&4294967295|k>>>20),k=N+(O^R&(T^O))+C[6]+2821735955&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(T^N&(R^T))+C[7]+4249261313&4294967295,O=N+(k<<22&4294967295|k>>>10),k=T+(R^O&(N^R))+C[8]+1770035416&4294967295,T=O+(k<<7&4294967295|k>>>25),k=R+(N^T&(O^N))+C[9]+2336552879&4294967295,R=T+(k<<12&4294967295|k>>>20),k=N+(O^R&(T^O))+C[10]+4294925233&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(T^N&(R^T))+C[11]+2304563134&4294967295,O=N+(k<<22&4294967295|k>>>10),k=T+(R^O&(N^R))+C[12]+1804603682&4294967295,T=O+(k<<7&4294967295|k>>>25),k=R+(N^T&(O^N))+C[13]+4254626195&4294967295,R=T+(k<<12&4294967295|k>>>20),k=N+(O^R&(T^O))+C[14]+2792965006&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(T^N&(R^T))+C[15]+1236535329&4294967295,O=N+(k<<22&4294967295|k>>>10),k=T+(N^R&(O^N))+C[1]+4129170786&4294967295,T=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(T^O))+C[6]+3225465664&4294967295,R=T+(k<<9&4294967295|k>>>23),k=N+(T^O&(R^T))+C[11]+643717713&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^T&(N^R))+C[0]+3921069994&4294967295,O=N+(k<<20&4294967295|k>>>12),k=T+(N^R&(O^N))+C[5]+3593408605&4294967295,T=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(T^O))+C[10]+38016083&4294967295,R=T+(k<<9&4294967295|k>>>23),k=N+(T^O&(R^T))+C[15]+3634488961&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^T&(N^R))+C[4]+3889429448&4294967295,O=N+(k<<20&4294967295|k>>>12),k=T+(N^R&(O^N))+C[9]+568446438&4294967295,T=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(T^O))+C[14]+3275163606&4294967295,R=T+(k<<9&4294967295|k>>>23),k=N+(T^O&(R^T))+C[3]+4107603335&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^T&(N^R))+C[8]+1163531501&4294967295,O=N+(k<<20&4294967295|k>>>12),k=T+(N^R&(O^N))+C[13]+2850285829&4294967295,T=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(T^O))+C[2]+4243563512&4294967295,R=T+(k<<9&4294967295|k>>>23),k=N+(T^O&(R^T))+C[7]+1735328473&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^T&(N^R))+C[12]+2368359562&4294967295,O=N+(k<<20&4294967295|k>>>12),k=T+(O^N^R)+C[5]+4294588738&4294967295,T=O+(k<<4&4294967295|k>>>28),k=R+(T^O^N)+C[8]+2272392833&4294967295,R=T+(k<<11&4294967295|k>>>21),k=N+(R^T^O)+C[11]+1839030562&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^T)+C[14]+4259657740&4294967295,O=N+(k<<23&4294967295|k>>>9),k=T+(O^N^R)+C[1]+2763975236&4294967295,T=O+(k<<4&4294967295|k>>>28),k=R+(T^O^N)+C[4]+1272893353&4294967295,R=T+(k<<11&4294967295|k>>>21),k=N+(R^T^O)+C[7]+4139469664&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^T)+C[10]+3200236656&4294967295,O=N+(k<<23&4294967295|k>>>9),k=T+(O^N^R)+C[13]+681279174&4294967295,T=O+(k<<4&4294967295|k>>>28),k=R+(T^O^N)+C[0]+3936430074&4294967295,R=T+(k<<11&4294967295|k>>>21),k=N+(R^T^O)+C[3]+3572445317&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^T)+C[6]+76029189&4294967295,O=N+(k<<23&4294967295|k>>>9),k=T+(O^N^R)+C[9]+3654602809&4294967295,T=O+(k<<4&4294967295|k>>>28),k=R+(T^O^N)+C[12]+3873151461&4294967295,R=T+(k<<11&4294967295|k>>>21),k=N+(R^T^O)+C[15]+530742520&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^T)+C[2]+3299628645&4294967295,O=N+(k<<23&4294967295|k>>>9),k=T+(N^(O|~R))+C[0]+4096336452&4294967295,T=O+(k<<6&4294967295|k>>>26),k=R+(O^(T|~N))+C[7]+1126891415&4294967295,R=T+(k<<10&4294967295|k>>>22),k=N+(T^(R|~O))+C[14]+2878612391&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~T))+C[5]+4237533241&4294967295,O=N+(k<<21&4294967295|k>>>11),k=T+(N^(O|~R))+C[12]+1700485571&4294967295,T=O+(k<<6&4294967295|k>>>26),k=R+(O^(T|~N))+C[3]+2399980690&4294967295,R=T+(k<<10&4294967295|k>>>22),k=N+(T^(R|~O))+C[10]+4293915773&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~T))+C[1]+2240044497&4294967295,O=N+(k<<21&4294967295|k>>>11),k=T+(N^(O|~R))+C[8]+1873313359&4294967295,T=O+(k<<6&4294967295|k>>>26),k=R+(O^(T|~N))+C[15]+4264355552&4294967295,R=T+(k<<10&4294967295|k>>>22),k=N+(T^(R|~O))+C[6]+2734768916&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~T))+C[13]+1309151649&4294967295,O=N+(k<<21&4294967295|k>>>11),k=T+(N^(O|~R))+C[4]+4149444226&4294967295,T=O+(k<<6&4294967295|k>>>26),k=R+(O^(T|~N))+C[11]+3174756917&4294967295,R=T+(k<<10&4294967295|k>>>22),k=N+(T^(R|~O))+C[2]+718787259&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~T))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var O=T-this.blockSize,C=this.B,N=this.h,R=0;R<T;){if(N==0)for(;R<=O;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(C[N++]=S.charCodeAt(R++),N==this.blockSize){i(this,C),N=0;break}}else for(;R<T;)if(C[N++]=S[R++],N==this.blockSize){i(this,C),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var O=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=O&255,O/=256;for(this.u(S),S=Array(16),T=O=0;4>T;++T)for(var C=0;32>C;C+=8)S[O++]=this.g[T]>>>C&255;return S};function a(S,T){var O=s;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=T(S)}function o(S,T){this.h=T;for(var O=[],C=!0,N=S.length-1;0<=N;N--){var R=S[N]|0;C&&R==T||(O[N]=R,C=!1)}this.g=O}var s={};function l(S){return-128<=S&&128>S?a(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return v(u(-S));for(var T=[],O=1,C=0;S>=O;C++)T[C]=S/O|0,O*=4294967296;return new o(T,0)}function c(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return v(c(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(T,8)),C=d,N=0;N<S.length;N+=8){var R=Math.min(8,S.length-N),k=parseInt(S.substring(N,N+R),T);8>R?(R=u(Math.pow(T,R)),C=C.j(R).add(u(k))):(C=C.j(O),C=C.add(u(k)))}return C}var d=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var S=0,T=1,O=0;O<this.g.length;O++){var C=this.i(O);S+=(0<=C?C:4294967296+C)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+v(this).toString(S);for(var T=u(Math.pow(S,6)),O=this,C="";;){var N=P(O,T).g;O=b(O,N.j(T));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=N,g(O))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=b(this,S),y(S)?-1:g(S)?0:1};function v(S){for(var T=S.g.length,O=[],C=0;C<T;C++)O[C]=~S.g[C];return new o(O,~S.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],C=0,N=0;N<=T;N++){var R=C+(this.i(N)&65535)+(S.i(N)&65535),k=(R>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);C=k>>>16,R&=65535,k&=65535,O[N]=k<<16|R}return new o(O,O[O.length-1]&-2147483648?-1:0)};function b(S,T){return S.add(v(T))}t.j=function(S){if(g(this)||g(S))return d;if(y(this))return y(S)?v(this).j(v(S)):v(v(this).j(S));if(y(S))return v(this.j(v(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,O=[],C=0;C<2*T;C++)O[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<S.g.length;N++){var R=this.i(C)>>>16,k=this.i(C)&65535,U=S.i(N)>>>16,B=S.i(N)&65535;O[2*C+2*N]+=k*B,w(O,2*C+2*N),O[2*C+2*N+1]+=R*B,w(O,2*C+2*N+1),O[2*C+2*N+1]+=k*U,w(O,2*C+2*N+1),O[2*C+2*N+2]+=R*U,w(O,2*C+2*N+2)}for(C=0;C<T;C++)O[C]=O[2*C+1]<<16|O[2*C];for(C=T;C<2*T;C++)O[C]=0;return new o(O,0)};function w(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function _(S,T){this.g=S,this.h=T}function P(S,T){if(g(T))throw Error("division by zero");if(g(S))return new _(d,d);if(y(S))return T=P(v(S),T),new _(v(T.g),v(T.h));if(y(T))return T=P(S,v(T)),new _(v(T.g),T.h);if(30<S.g.length){if(y(S)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var O=h,C=T;0>=C.l(S);)O=E(O),C=E(C);var N=A(O,1),R=A(C,1);for(C=A(C,2),O=A(O,2);!g(C);){var k=R.add(C);0>=k.l(S)&&(N=N.add(O),R=k),C=A(C,1),O=A(O,1)}return T=b(S,N.j(T)),new _(N,T)}for(N=d;0<=S.l(T);){for(O=Math.max(1,Math.floor(S.m()/T.m())),C=Math.ceil(Math.log(O)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=u(O),k=R.j(T);y(k)||0<k.l(S);)O-=C,R=u(O),k=R.j(T);g(R)&&(R=h),N=N.add(R),S=b(S,k)}return new _(N,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],C=0;C<T;C++)O[C]=this.i(C)&S.i(C);return new o(O,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],C=0;C<T;C++)O[C]=this.i(C)|S.i(C);return new o(O,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],C=0;C<T;C++)O[C]=this.i(C)^S.i(C);return new o(O,this.h^S.h)};function E(S){for(var T=S.g.length+1,O=[],C=0;C<T;C++)O[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(O,S.h)}function A(S,T){var O=T>>5;T%=32;for(var C=S.g.length-O,N=[],R=0;R<C;R++)N[R]=0<T?S.i(R+O)>>>T|S.i(R+O+1)<<32-T:S.i(R+O);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ms=o}).apply(typeof jP<"u"?jP:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UM,pd,zM,fm,ux,qM,WM,HM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,x,I){return p==Array.prototype||p==Object.prototype||(p[x]=I.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var x=0;x<p.length;++x){var I=p[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,x){if(x)e:{var I=r;p=p.split(".");for(var j=0;j<p.length-1;j++){var $=p[j];if(!($ in I))break e;I=I[$]}p=p[p.length-1],j=I[p],x=x(j),x!=j&&x!=null&&e(I,p,{configurable:!0,writable:!0,value:x})}}function a(p,x){p instanceof String&&(p+="");var I=0,j=!1,$={next:function(){if(!j&&I<p.length){var F=I++;return{value:x(F,p[F]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(p){return p||function(){return a(this,function(x,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(p){var x=typeof p;return x=x!="object"?x:p?Array.isArray(p)?"array":x:"null",x=="array"||x=="object"&&typeof p.length=="number"}function u(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function c(p,x,I){return p.call.apply(p.bind,arguments)}function d(p,x,I){if(!p)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),p.apply(x,$)}}return function(){return p.apply(x,arguments)}}function h(p,x,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function m(p,x){var I=Array.prototype.slice.call(arguments,1);return function(){var j=I.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function g(p,x){function I(){}I.prototype=x.prototype,p.aa=x.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(j,$,F){for(var ne=Array(arguments.length-2),He=2;He<arguments.length;He++)ne[He-2]=arguments[He];return x.prototype[$].apply(j,ne)}}function y(p){const x=p.length;if(0<x){const I=Array(x);for(let j=0;j<x;j++)I[j]=p[j];return I}return[]}function v(p,x){for(let I=1;I<arguments.length;I++){const j=arguments[I];if(l(j)){const $=p.length||0,F=j.length||0;p.length=$+F;for(let ne=0;ne<F;ne++)p[$+ne]=j[ne]}else p.push(j)}}class b{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function w(p){return/^[\s\xa0]*$/.test(p)}function _(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function P(p){return P[" "](p),p}P[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function A(p,x,I){for(const j in p)x.call(I,p[j],j,p)}function S(p,x){for(const I in p)x.call(void 0,p[I],I,p)}function T(p){const x={};for(const I in p)x[I]=p[I];return x}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(p,x){let I,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(I in j)p[I]=j[I];for(let F=0;F<O.length;F++)I=O[F],Object.prototype.hasOwnProperty.call(j,I)&&(p[I]=j[I])}}function N(p){var x=1;p=p.split(":");const I=[];for(;0<x&&p.length;)I.push(p.shift()),x--;return p.length&&I.push(p.join(":")),I}function R(p){s.setTimeout(()=>{throw p},0)}function k(){var p=W;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class U{constructor(){this.h=this.g=null}add(x,I){const j=B.get();j.set(x,I),this.h?this.h.next=j:this.g=j,this.h=j}}var B=new b(()=>new H,p=>p.reset());class H{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,W=new U,Q=()=>{const p=s.Promise.resolve(void 0);G=()=>{p.then(ie)}};var ie=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(I){R(I)}var x=B;x.j(p),100>x.h&&(x.h++,p.next=x.g,x.g=p)}V=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,x),s.removeEventListener("test",I,x)}catch{}return p}();function $e(p,x){if(oe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget){if(E){e:{try{P(x.nodeName);var $=!0;break e}catch{}$=!1}$||(x=null)}}else I=="mouseover"?x=p.fromElement:I=="mouseout"&&(x=p.toElement);this.relatedTarget=x,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ct[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&$e.aa.h.call(this)}}g($e,oe);var ct={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),nn=0;function ae(p,x,I,j,$){this.listener=p,this.proxy=null,this.src=x,this.type=I,this.capture=!!j,this.ha=$,this.key=++nn,this.da=this.fa=!1}function ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,x,I,j,$){var F=p.toString();p=this.g[F],p||(p=this.g[F]=[],this.h++);var ne=Qe(p,x,j,$);return-1<ne?(x=p[ne],I||(x.fa=!1)):(x=new ae(x,this.src,F,!!j,$),x.fa=I,p.push(x)),x};function Y(p,x){var I=x.type;if(I in p.g){var j=p.g[I],$=Array.prototype.indexOf.call(j,x,void 0),F;(F=0<=$)&&Array.prototype.splice.call(j,$,1),F&&(ye(x),p.g[I].length==0&&(delete p.g[I],p.h--))}}function Qe(p,x,I,j){for(var $=0;$<p.length;++$){var F=p[$];if(!F.da&&F.listener==x&&F.capture==!!I&&F.ha==j)return $}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),dt={};function yt(p,x,I,j,$){if(Array.isArray(x)){for(var F=0;F<x.length;F++)yt(p,x[F],I,j,$);return null}return I=Ec(I),p&&p[Kt]?p.K(x,I,u(j)?!!j.capture:!!j,$):rn(p,x,I,!1,j,$)}function rn(p,x,I,j,$,F){if(!x)throw Error("Invalid event type");var ne=u($)?!!$.capture:!!$,He=jo(p);if(He||(p[Te]=He=new be(p)),I=He.add(x,I,j,ne,F),I.proxy)return I;if(j=Kr(),I.proxy=j,j.src=p,j.listener=I,p.addEventListener)Oe||($=ne),$===void 0&&($=!1),p.addEventListener(x.toString(),j,$);else if(p.attachEvent)p.attachEvent(Yr(x.toString()),j);else if(p.addListener&&p.removeListener)p.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Kr(){function p(I){return x.call(p.src,p.listener,I)}const x=Ii;return p}function Ai(p,x,I,j,$){if(Array.isArray(x))for(var F=0;F<x.length;F++)Ai(p,x[F],I,j,$);else j=u(j)?!!j.capture:!!j,I=Ec(I),p&&p[Kt]?(p=p.i,x=String(x).toString(),x in p.g&&(F=p.g[x],I=Qe(F,I,j,$),-1<I&&(ye(F[I]),Array.prototype.splice.call(F,I,1),F.length==0&&(delete p.g[x],p.h--)))):p&&(p=jo(p))&&(x=p.g[x.toString()],p=-1,x&&(p=Qe(x,I,j,$)),(I=-1<p?x[p]:null)&&ma(I))}function ma(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[Kt])Y(x.i,p);else{var I=p.type,j=p.proxy;x.removeEventListener?x.removeEventListener(I,j,p.capture):x.detachEvent?x.detachEvent(Yr(I),j):x.addListener&&x.removeListener&&x.removeListener(j),(I=jo(x))?(Y(I,p),I.h==0&&(I.src=null,x[Te]=null)):ye(p)}}}function Yr(p){return p in dt?dt[p]:dt[p]="on"+p}function Ii(p,x){if(p.da)p=!0;else{x=new $e(x,this);var I=p.listener,j=p.ha||p.src;p.fa&&ma(p),p=I.call(j,x)}return p}function jo(p){return p=p[Te],p instanceof be?p:null}var il="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ec(p){return typeof p=="function"?p:(p[il]||(p[il]=function(x){return p.handleEvent(x)}),p[il])}function an(){X.call(this),this.i=new be(this),this.M=this,this.F=null}g(an,X),an.prototype[Kt]=!0,an.prototype.removeEventListener=function(p,x,I,j){Ai(this,p,x,I,j)};function bn(p,x){var I,j=p.F;if(j)for(I=[];j;j=j.F)I.push(j);if(p=p.M,j=x.type||x,typeof x=="string")x=new oe(x,p);else if(x instanceof oe)x.target=x.target||p;else{var $=x;x=new oe(j,p),C(x,$)}if($=!0,I)for(var F=I.length-1;0<=F;F--){var ne=x.g=I[F];$=zh(ne,j,!0,x)&&$}if(ne=x.g=p,$=zh(ne,j,!0,x)&&$,$=zh(ne,j,!1,x)&&$,I)for(F=0;F<I.length;F++)ne=x.g=I[F],$=zh(ne,j,!1,x)&&$}an.prototype.N=function(){if(an.aa.N.call(this),this.i){var p=this.i,x;for(x in p.g){for(var I=p.g[x],j=0;j<I.length;j++)ye(I[j]);delete p.g[x],p.h--}}this.F=null},an.prototype.K=function(p,x,I,j){return this.i.add(String(p),x,!1,I,j)},an.prototype.L=function(p,x,I,j){return this.i.add(String(p),x,!0,I,j)};function zh(p,x,I,j){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();for(var $=!0,F=0;F<x.length;++F){var ne=x[F];if(ne&&!ne.da&&ne.capture==I){var He=ne.listener,Yt=ne.ha||ne.src;ne.fa&&Y(p.i,ne),$=He.call(Yt,j)!==!1&&$}}return $&&!j.defaultPrevented}function VT(p,x,I){if(typeof p=="function")I&&(p=h(p,I));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:s.setTimeout(p,x||0)}function FT(p){p.g=VT(()=>{p.g=null,p.i&&(p.i=!1,FT(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class eU extends X{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:FT(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sc(p){X.call(this),this.h=p,this.g={}}g(Sc,X);var BT=[];function UT(p){A(p.g,function(x,I){this.g.hasOwnProperty(I)&&ma(x)},p),p.g={}}Sc.prototype.N=function(){Sc.aa.N.call(this),UT(this)},Sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var h0=s.JSON.stringify,tU=s.JSON.parse,nU=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function p0(){}p0.prototype.h=null;function zT(p){return p.h||(p.h=p.i())}function qT(){}var Tc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function m0(){oe.call(this,"d")}g(m0,oe);function g0(){oe.call(this,"c")}g(g0,oe);var Ro={},WT=null;function qh(){return WT=WT||new an}Ro.La="serverreachability";function HT(p){oe.call(this,Ro.La,p)}g(HT,oe);function Ac(p){const x=qh();bn(x,new HT(x))}Ro.STAT_EVENT="statevent";function GT(p,x){oe.call(this,Ro.STAT_EVENT,p),this.stat=x}g(GT,oe);function wn(p){const x=qh();bn(x,new GT(x,p))}Ro.Ma="timingevent";function KT(p,x){oe.call(this,Ro.Ma,p),this.size=x}g(KT,oe);function Ic(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},x)}function Pc(){this.g=!0}Pc.prototype.xa=function(){this.g=!1};function rU(p,x,I,j,$,F){p.info(function(){if(p.g)if(F)for(var ne="",He=F.split("&"),Yt=0;Yt<He.length;Yt++){var De=He[Yt].split("=");if(1<De.length){var on=De[0];De=De[1];var sn=on.split("_");ne=2<=sn.length&&sn[1]=="type"?ne+(on+"="+De+"&"):ne+(on+"=redacted&")}}else ne=null;else ne=F;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+x+`
`+I+`
`+ne})}function iU(p,x,I,j,$,F,ne){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+x+`
`+I+`
`+F+" "+ne})}function al(p,x,I,j){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+oU(p,I)+(j?" "+j:"")})}function aU(p,x){p.info(function(){return"TIMEOUT: "+x})}Pc.prototype.info=function(){};function oU(p,x){if(!p.g)return x;if(!x)return null;try{var I=JSON.parse(x);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var j=I[p];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var F=$[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ne=1;ne<$.length;ne++)$[ne]=""}}}}return h0(I)}catch{return x}}var Wh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},y0;function Hh(){}g(Hh,p0),Hh.prototype.g=function(){return new XMLHttpRequest},Hh.prototype.i=function(){return{}},y0=new Hh;function ga(p,x,I,j){this.j=p,this.i=x,this.l=I,this.R=j||1,this.U=new Sc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QT}function QT(){this.i=null,this.g="",this.h=!1}var XT={},v0={};function b0(p,x,I){p.L=1,p.v=Qh(Pi(x)),p.m=I,p.P=!0,JT(p,null)}function JT(p,x){p.F=Date.now(),Gh(p),p.A=Pi(p.v);var I=p.A,j=p.R;Array.isArray(j)||(j=[String(j)]),fA(I.i,"t",j),p.C=0,I=p.j.J,p.h=new QT,p.g=NA(p.j,I?x:null,!p.m),0<p.O&&(p.M=new eU(h(p.Y,p,p.g),p.O)),x=p.U,I=p.g,j=p.ca;var $="readystatechange";Array.isArray($)||($&&(BT[0]=$.toString()),$=BT);for(var F=0;F<$.length;F++){var ne=yt(I,$[F],j||x.handleEvent,!1,x.h||x);if(!ne)break;x.g[ne.key]=ne}x=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,x)):(p.u="GET",p.g.ea(p.A,p.u,null,x)),Ac(),rU(p.i,p.u,p.A,p.l,p.R,p.m)}ga.prototype.ca=function(p){p=p.target;const x=this.M;x&&Oi(p)==3?x.j():this.Y(p)},ga.prototype.Y=function(p){try{if(p==this.g)e:{const sn=Oi(this.g);var x=this.g.Ba();const ll=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||bA(this.g)))){this.J||sn!=4||x==7||(x==8||0>=ll?Ac(3):Ac(2)),w0(this);var I=this.g.Z();this.X=I;t:if(ZT(this)){var j=bA(this.g);p="";var $=j.length,F=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Oc(this);var ne="";break t}this.h.i=new s.TextDecoder}for(x=0;x<$;x++)this.h.h=!0,p+=this.h.i.decode(j[x],{stream:!(F&&x==$-1)});j.length=0,this.h.g+=p,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=I==200,iU(this.i,this.u,this.A,this.l,this.R,sn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Yt=this.g;if((He=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(He)){var De=He;break t}}De=null}if(I=De)al(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,x0(this,I);else{this.o=!1,this.s=3,wn(12),Do(this),Oc(this);break e}}if(this.P){I=!0;let Cr;for(;!this.J&&this.C<ne.length;)if(Cr=sU(this,ne),Cr==v0){sn==4&&(this.s=4,wn(14),I=!1),al(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==XT){this.s=4,wn(15),al(this.i,this.l,ne,"[Invalid Chunk]"),I=!1;break}else al(this.i,this.l,Cr,null),x0(this,Cr);if(ZT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ne.length!=0||this.h.h||(this.s=1,wn(16),I=!1),this.o=this.o&&I,!I)al(this.i,this.l,ne,"[Invalid Chunked Response]"),Do(this),Oc(this);else if(0<ne.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),I0(on),on.M=!0,wn(11))}}else al(this.i,this.l,ne,null),x0(this,ne);sn==4&&Do(this),this.o&&!this.J&&(sn==4?AA(this.j,this):(this.o=!1,Gh(this)))}else SU(this.g),I==400&&0<ne.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Do(this),Oc(this)}}}catch{}finally{}};function ZT(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function sU(p,x){var I=p.C,j=x.indexOf(`
`,I);return j==-1?v0:(I=Number(x.substring(I,j)),isNaN(I)?XT:(j+=1,j+I>x.length?v0:(x=x.slice(j,j+I),p.C=j+I,x)))}ga.prototype.cancel=function(){this.J=!0,Do(this)};function Gh(p){p.S=Date.now()+p.I,eA(p,p.I)}function eA(p,x){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ic(h(p.ba,p),x)}function w0(p){p.B&&(s.clearTimeout(p.B),p.B=null)}ga.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(aU(this.i,this.A),this.L!=2&&(Ac(),wn(17)),Do(this),this.s=2,Oc(this)):eA(this,this.S-p)};function Oc(p){p.j.G==0||p.J||AA(p.j,p)}function Do(p){w0(p);var x=p.M;x&&typeof x.ma=="function"&&x.ma(),p.M=null,UT(p.U),p.g&&(x=p.g,p.g=null,x.abort(),x.ma())}function x0(p,x){try{var I=p.j;if(I.G!=0&&(I.g==p||_0(I.h,p))){if(!p.K&&_0(I.h,p)&&I.G==3){try{var j=I.Da.g.parse(x)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)np(I),ep(I);else break e;A0(I),wn(18)}}else I.za=$[1],0<I.za-I.T&&37500>$[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ic(h(I.Za,I),6e3));if(1>=rA(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else $o(I,11)}else if((p.K||I.g==p)&&np(I),!w(x))for($=I.Da.g.parse(x),x=0;x<$.length;x++){let De=$[x];if(I.T=De[0],De=De[1],I.G==2)if(De[0]=="c"){I.K=De[1],I.ia=De[2];const on=De[3];on!=null&&(I.la=on,I.j.info("VER="+I.la));const sn=De[4];sn!=null&&(I.Aa=sn,I.j.info("SVER="+I.Aa));const ll=De[5];ll!=null&&typeof ll=="number"&&0<ll&&(j=1.5*ll,I.L=j,I.j.info("backChannelRequestTimeoutMs_="+j)),j=I;const Cr=p.g;if(Cr){const ip=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ip){var F=j.h;F.g||ip.indexOf("spdy")==-1&&ip.indexOf("quic")==-1&&ip.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(E0(F,F.h),F.h=null))}if(j.D){const P0=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;P0&&(j.ya=P0,tt(j.I,j.D,P0))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),j=I;var ne=p;if(j.qa=OA(j,j.J?j.ia:null,j.W),ne.K){iA(j.h,ne);var He=ne,Yt=j.L;Yt&&(He.I=Yt),He.B&&(w0(He),Gh(He)),j.g=ne}else SA(j);0<I.i.length&&tp(I)}else De[0]!="stop"&&De[0]!="close"||$o(I,7);else I.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?$o(I,7):T0(I):De[0]!="noop"&&I.l&&I.l.ta(De),I.v=0)}}Ac(4)}catch{}}var lU=class{constructor(p,x){this.g=p,this.map=x}};function tA(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nA(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rA(p){return p.h?1:p.g?p.g.size:0}function _0(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function E0(p,x){p.g?p.g.add(x):p.h=x}function iA(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}tA.prototype.cancel=function(){if(this.i=aA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function aA(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const I of p.g.values())x=x.concat(I.D);return x}return y(p.i)}function uU(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var x=[],I=p.length,j=0;j<I;j++)x.push(p[j]);return x}x=[],I=0;for(j in p)x[I++]=p[j];return x}function cU(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var x=[];p=p.length;for(var I=0;I<p;I++)x.push(I);return x}x=[],I=0;for(const j in p)x[I++]=j;return x}}}function oA(p,x){if(p.forEach&&typeof p.forEach=="function")p.forEach(x,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,x,void 0);else for(var I=cU(p),j=uU(p),$=j.length,F=0;F<$;F++)x.call(void 0,j[F],I&&I[F],p)}var sA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dU(p,x){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var j=p[I].indexOf("="),$=null;if(0<=j){var F=p[I].substring(0,j);$=p[I].substring(j+1)}else F=p[I];x(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Mo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Mo){this.h=p.h,Kh(this,p.j),this.o=p.o,this.g=p.g,Yh(this,p.s),this.l=p.l;var x=p.i,I=new kc;I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),lA(this,I),this.m=p.m}else p&&(x=String(p).match(sA))?(this.h=!1,Kh(this,x[1]||"",!0),this.o=Nc(x[2]||""),this.g=Nc(x[3]||"",!0),Yh(this,x[4]),this.l=Nc(x[5]||"",!0),lA(this,x[6]||"",!0),this.m=Nc(x[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}Mo.prototype.toString=function(){var p=[],x=this.j;x&&p.push(Cc(x,uA,!0),":");var I=this.g;return(I||x=="file")&&(p.push("//"),(x=this.o)&&p.push(Cc(x,uA,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Cc(I,I.charAt(0)=="/"?pU:hU,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Cc(I,gU)),p.join("")};function Pi(p){return new Mo(p)}function Kh(p,x,I){p.j=I?Nc(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Yh(p,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);p.s=x}else p.s=null}function lA(p,x,I){x instanceof kc?(p.i=x,yU(p.i,p.h)):(I||(x=Cc(x,mU)),p.i=new kc(x,p.h))}function tt(p,x,I){p.i.set(x,I)}function Qh(p){return tt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Nc(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Cc(p,x,I){return typeof p=="string"?(p=encodeURI(p).replace(x,fU),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function fU(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var uA=/[#\/\?@]/g,hU=/[#\?:]/g,pU=/[#\?]/g,mU=/[#\?@]/g,gU=/#/g;function kc(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function ya(p){p.g||(p.g=new Map,p.h=0,p.i&&dU(p.i,function(x,I){p.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}t=kc.prototype,t.add=function(p,x){ya(this),this.i=null,p=ol(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(x),this.h+=1,this};function cA(p,x){ya(p),x=ol(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function dA(p,x){return ya(p),x=ol(p,x),p.g.has(x)}t.forEach=function(p,x){ya(this),this.g.forEach(function(I,j){I.forEach(function($){p.call(x,$,j,this)},this)},this)},t.na=function(){ya(this);const p=Array.from(this.g.values()),x=Array.from(this.g.keys()),I=[];for(let j=0;j<x.length;j++){const $=p[j];for(let F=0;F<$.length;F++)I.push(x[j])}return I},t.V=function(p){ya(this);let x=[];if(typeof p=="string")dA(this,p)&&(x=x.concat(this.g.get(ol(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)x=x.concat(p[I])}return x},t.set=function(p,x){return ya(this),this.i=null,p=ol(this,p),dA(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},t.get=function(p,x){return p?(p=this.V(p),0<p.length?String(p[0]):x):x};function fA(p,x,I){cA(p,x),0<I.length&&(p.i=null,p.g.set(ol(p,x),y(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(var I=0;I<x.length;I++){var j=x[I];const F=encodeURIComponent(String(j)),ne=this.V(j);for(j=0;j<ne.length;j++){var $=F;ne[j]!==""&&($+="="+encodeURIComponent(String(ne[j]))),p.push($)}}return this.i=p.join("&")};function ol(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function yU(p,x){x&&!p.j&&(ya(p),p.i=null,p.g.forEach(function(I,j){var $=j.toLowerCase();j!=$&&(cA(this,j),fA(this,$,I))},p)),p.j=x}function vU(p,x){const I=new Pc;if(s.Image){const j=new Image;j.onload=m(va,I,"TestLoadImage: loaded",!0,x,j),j.onerror=m(va,I,"TestLoadImage: error",!1,x,j),j.onabort=m(va,I,"TestLoadImage: abort",!1,x,j),j.ontimeout=m(va,I,"TestLoadImage: timeout",!1,x,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else x(!1)}function bU(p,x){const I=new Pc,j=new AbortController,$=setTimeout(()=>{j.abort(),va(I,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:j.signal}).then(F=>{clearTimeout($),F.ok?va(I,"TestPingServer: ok",!0,x):va(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout($),va(I,"TestPingServer: error",!1,x)})}function va(p,x,I,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(I)}catch{}}function wU(){this.g=new nU}function xU(p,x,I){const j=I||"";try{oA(p,function($,F){let ne=$;u($)&&(ne=h0($)),x.push(j+F+"="+encodeURIComponent(ne))})}catch($){throw x.push(j+"type="+encodeURIComponent("_badmap")),$}}function Xh(p){this.l=p.Ub||null,this.j=p.eb||!1}g(Xh,p0),Xh.prototype.g=function(){return new Jh(this.l,this.j)},Xh.prototype.i=function(p){return function(){return p}}({});function Jh(p,x){an.call(this),this.D=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Jh,an),t=Jh.prototype,t.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=x,this.readyState=1,Rc(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(x.body=p),(this.D||s).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jc(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Rc(this)),this.g&&(this.readyState=3,Rc(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hA(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function hA(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?jc(this):Rc(this),this.readyState==3&&hA(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,jc(this))},t.Qa=function(p){this.g&&(this.response=p,jc(this))},t.ga=function(){this.g&&jc(this)};function jc(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Rc(p)}t.setRequestHeader=function(p,x){this.u.append(p,x)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=x.next();return p.join(`\r
`)};function Rc(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Jh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function pA(p){let x="";return A(p,function(I,j){x+=j,x+=":",x+=I,x+=`\r
`}),x}function S0(p,x,I){e:{for(j in I){var j=!1;break e}j=!0}j||(I=pA(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):tt(p,x,I))}function vt(p){an.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vt,an);var _U=/^https?$/i,EU=["POST","PUT"];t=vt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,x,I,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():y0.g(),this.v=this.o?zT(this.o):zT(y0),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(F){mA(this,F);return}if(p=I||"",I=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)I.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const F of j.keys())I.set(F,j.get(F));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(I.keys()).find(F=>F.toLowerCase()=="content-type"),$=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call(EU,x,void 0))||j||$||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of I)this.g.setRequestHeader(F,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vA(this),this.u=!0,this.g.send(p),this.u=!1}catch(F){mA(this,F)}};function mA(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.m=5,gA(p),Zh(p)}function gA(p){p.A||(p.A=!0,bn(p,"complete"),bn(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,bn(this,"complete"),bn(this,"abort"),Zh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zh(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yA(this):this.bb())},t.bb=function(){yA(this)};function yA(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Oi(p)!=4||p.Z()!=2)){if(p.u&&Oi(p)==4)VT(p.Ea,0,p);else if(bn(p,"readystatechange"),Oi(p)==4){p.h=!1;try{const ne=p.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var j;if(j=ne===0){var $=String(p.D).match(sA)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),j=!_U.test($?$.toLowerCase():"")}I=j}if(I)bn(p,"complete"),bn(p,"success");else{p.m=6;try{var F=2<Oi(p)?p.g.statusText:""}catch{F=""}p.l=F+" ["+p.Z()+"]",gA(p)}}finally{Zh(p)}}}}function Zh(p,x){if(p.g){vA(p);const I=p.g,j=p.v[0]?()=>{}:null;p.g=null,p.v=null,x||bn(p,"ready");try{I.onreadystatechange=j}catch{}}}function vA(p){p.I&&(s.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Oi(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),tU(x)}};function bA(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function SU(p){const x={};p=(p.g&&2<=Oi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<p.length;j++){if(w(p[j]))continue;var I=N(p[j]);const $=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const F=x[$]||[];x[$]=F,F.push(I)}S(x,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dc(p,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||x}function wA(p){this.Aa=0,this.i=[],this.j=new Pc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dc("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dc("baseRetryDelayMs",5e3,p),this.cb=Dc("retryDelaySeedMs",1e4,p),this.Wa=Dc("forwardChannelMaxRetries",2,p),this.wa=Dc("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new tA(p&&p.concurrentRequestLimit),this.Da=new wU,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wA.prototype,t.la=8,t.G=1,t.connect=function(p,x,I,j){wn(0),this.W=p,this.H=x||{},I&&j!==void 0&&(this.H.OSID=I,this.H.OAID=j),this.F=this.X,this.I=OA(this,null,this.W),tp(this)};function T0(p){if(xA(p),p.G==3){var x=p.U++,I=Pi(p.I);if(tt(I,"SID",p.K),tt(I,"RID",x),tt(I,"TYPE","terminate"),Mc(p,I),x=new ga(p,p.j,x),x.L=2,x.v=Qh(Pi(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(x.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=x.v,I=!0),I||(x.g=NA(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Gh(x)}PA(p)}function ep(p){p.g&&(I0(p),p.g.cancel(),p.g=null)}function xA(p){ep(p),p.u&&(s.clearTimeout(p.u),p.u=null),np(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function tp(p){if(!nA(p.h)&&!p.s){p.s=!0;var x=p.Ga;G||Q(),V||(G(),V=!0),W.add(x,p),p.B=0}}function TU(p,x){return rA(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=x.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ic(h(p.Ga,p,x),IA(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const $=new ga(this,this.j,p);let F=this.o;if(this.S&&(F?(F=T(F),C(F,this.S)):F=this.S),this.m!==null||this.O||($.H=F,F=null),this.P)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var j=this.i[I];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(x+=j,4096<x){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=EA(this,$,x),I=Pi(this.I),tt(I,"RID",p),tt(I,"CVER",22),this.D&&tt(I,"X-HTTP-Session-Id",this.D),Mc(this,I),F&&(this.O?x="headers="+encodeURIComponent(String(pA(F)))+"&"+x:this.m&&S0(I,this.m,F)),E0(this.h,$),this.Ua&&tt(I,"TYPE","init"),this.P?(tt(I,"$req",x),tt(I,"SID","null"),$.T=!0,b0($,I,null)):b0($,I,x),this.G=2}}else this.G==3&&(p?_A(this,p):this.i.length==0||nA(this.h)||_A(this))};function _A(p,x){var I;x?I=x.l:I=p.U++;const j=Pi(p.I);tt(j,"SID",p.K),tt(j,"RID",I),tt(j,"AID",p.T),Mc(p,j),p.m&&p.o&&S0(j,p.m,p.o),I=new ga(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),x&&(p.i=x.D.concat(p.i)),x=EA(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),E0(p.h,I),b0(I,j,x)}function Mc(p,x){p.H&&A(p.H,function(I,j){tt(x,j,I)}),p.l&&oA({},function(I,j){tt(x,j,I)})}function EA(p,x,I){I=Math.min(p.i.length,I);var j=p.l?h(p.l.Na,p.l,p):null;e:{var $=p.i;let F=-1;for(;;){const ne=["count="+I];F==-1?0<I?(F=$[0].g,ne.push("ofs="+F)):F=0:ne.push("ofs="+F);let He=!0;for(let Yt=0;Yt<I;Yt++){let De=$[Yt].g;const on=$[Yt].map;if(De-=F,0>De)F=Math.max(0,$[Yt].g-100),He=!1;else try{xU(on,ne,"req"+De+"_")}catch{j&&j(on)}}if(He){j=ne.join("&");break e}}}return p=p.i.splice(0,I),x.D=p,j}function SA(p){if(!p.g&&!p.u){p.Y=1;var x=p.Fa;G||Q(),V||(G(),V=!0),W.add(x,p),p.v=0}}function A0(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ic(h(p.Fa,p),IA(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,TA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ic(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),ep(this),TA(this))};function I0(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function TA(p){p.g=new ga(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var x=Pi(p.qa);tt(x,"RID","rpc"),tt(x,"SID",p.K),tt(x,"AID",p.T),tt(x,"CI",p.F?"0":"1"),!p.F&&p.ja&&tt(x,"TO",p.ja),tt(x,"TYPE","xmlhttp"),Mc(p,x),p.m&&p.o&&S0(x,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=Qh(Pi(x)),I.m=null,I.P=!0,JT(I,p)}t.Za=function(){this.C!=null&&(this.C=null,ep(this),A0(this),wn(19))};function np(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function AA(p,x){var I=null;if(p.g==x){np(p),I0(p),p.g=null;var j=2}else if(_0(p.h,x))I=x.D,iA(p.h,x),j=1;else return;if(p.G!=0){if(x.o)if(j==1){I=x.m?x.m.length:0,x=Date.now()-x.F;var $=p.B;j=qh(),bn(j,new KT(j,I)),tp(p)}else SA(p);else if($=x.s,$==3||$==0&&0<x.X||!(j==1&&TU(p,x)||j==2&&A0(p)))switch(I&&0<I.length&&(x=p.h,x.i=x.i.concat(I)),$){case 1:$o(p,5);break;case 4:$o(p,10);break;case 3:$o(p,6);break;default:$o(p,2)}}}function IA(p,x){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*x}function $o(p,x){if(p.j.info("Error code "+x),x==2){var I=h(p.fb,p),j=p.Xa;const $=!j;j=new Mo(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Kh(j,"https"),Qh(j),$?vU(j.toString(),I):bU(j.toString(),I)}else wn(2);p.G=0,p.l&&p.l.sa(x),PA(p),xA(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function PA(p){if(p.G=0,p.ka=[],p.l){const x=aA(p.h);(x.length!=0||p.i.length!=0)&&(v(p.ka,x),v(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function OA(p,x,I){var j=I instanceof Mo?Pi(I):new Mo(I);if(j.g!="")x&&(j.g=x+"."+j.g),Yh(j,j.s);else{var $=s.location;j=$.protocol,x=x?x+"."+$.hostname:$.hostname,$=+$.port;var F=new Mo(null);j&&Kh(F,j),x&&(F.g=x),$&&Yh(F,$),I&&(F.l=I),j=F}return I=p.D,x=p.ya,I&&x&&tt(j,I,x),tt(j,"VER",p.la),Mc(p,j),j}function NA(p,x,I){if(x&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Ca&&!p.pa?new vt(new Xh({eb:I})):new vt(p.pa),x.Ha(p.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function CA(){}t=CA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rp(){}rp.prototype.g=function(p,x){return new Gn(p,x)};function Gn(p,x){an.call(this),this.g=new wA(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(p?p["X-WebChannel-Client-Profile"]=x.va:p={"X-WebChannel-Client-Profile":x.va}),this.g.S=p,(p=x&&x.Sb)&&!w(p)&&(this.g.m=p),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!w(x)&&(this.g.D=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new sl(this)}g(Gn,an),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){T0(this.g)},Gn.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=h0(p),p=I);x.i.push(new lU(x.Ya++,p)),x.G==3&&tp(x)},Gn.prototype.N=function(){this.g.l=null,delete this.j,T0(this.g),delete this.g,Gn.aa.N.call(this)};function kA(p){m0.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const I in x){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}g(kA,m0);function jA(){g0.call(this),this.status=1}g(jA,g0);function sl(p){this.g=p}g(sl,CA),sl.prototype.ua=function(){bn(this.g,"a")},sl.prototype.ta=function(p){bn(this.g,new kA(p))},sl.prototype.sa=function(p){bn(this.g,new jA)},sl.prototype.ra=function(){bn(this.g,"b")},rp.prototype.createWebChannel=rp.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,HM=function(){return new rp},WM=function(){return qh()},qM=Ro,ux={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wh.NO_ERROR=0,Wh.TIMEOUT=8,Wh.HTTP_ERROR=6,fm=Wh,YT.COMPLETE="complete",zM=YT,qT.EventType=Tc,Tc.OPEN="a",Tc.CLOSE="b",Tc.ERROR="c",Tc.MESSAGE="d",an.prototype.listen=an.prototype.K,pd=qT,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,UM=vt}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const RP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Ly("@firebase/firestore");function vl(){return Os.logLevel}function J(t,...e){if(Os.logLevel<=Ie.DEBUG){const n=e.map(NE);Os.debug(`Firestore (${tc}): ${t}`,...n)}}function Sn(t,...e){if(Os.logLevel<=Ie.ERROR){const n=e.map(NE);Os.error(`Firestore (${tc}): ${t}`,...n)}}function Ns(t,...e){if(Os.logLevel<=Ie.WARN){const n=e.map(NE);Os.warn(`Firestore (${tc}): ${t}`,...n)}}function NE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: `+t;throw Sn(e),new Error(e)}function ce(t,e){t||ue()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class L7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V7{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ce(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new di;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new di,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new GM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Jt(e)}}class F7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class B7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ce(this.o===void 0);const r=a=>{a.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new U7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q7(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function cu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function YM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new mt(0,0))}static max(){return new fe(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends yf{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const W7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends yf{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return W7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new te(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new te(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new te(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Le.fromString(e))}static fromName(e){return new re(Le.fromString(e).popFirst(5))}static empty(){return new re(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function cx(t){return t.fields.find(e=>e.kind===2)}function Wo(t){return t.fields.filter(e=>e.kind!==2)}ng.UNKNOWN_ID=-1;class hm{constructor(e,n){this.fieldPath=e,this.kind=n}}class vf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new vf(0,ar.min())}}function H7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ar(i,re.empty(),e)}function QM(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(fe.min(),re.empty(),-1)}static max(){return new ar(fe.max(),re.empty(),-1)}}function CE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==XM)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new di,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new kd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=kE(r.target.error);this.V.reject(new kd(e,i))}}static open(e,n,r,i){try{return new zy(n,e.transaction(i,r))}catch(a){throw new kd(n,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new K7(n)}}class eo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,eo.S($t())===12.2&&Sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return J("SimpleDb","Removing database:",e),Qo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gE())return!1;if(eo.v())return!0;const e=$t(),n=eo.S(e),r=0<n&&n<10,i=ZM(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(J("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const o=a.target.result;n(o)},i.onblocked=()=>{r(new kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const o=a.target.error;o.name==="VersionError"?r(new te(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new kd(e,o))},i.onupgradeneeded=a=>{J("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;this.p.O(o,i.transaction,a.oldVersion,this.version).next(()=>{J("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const s=zy.open(this.db,e,a?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&o<3;if(J("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ZM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class G7{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Qo(this.B.delete())}}class kd extends te{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function To(t){return t.name==="IndexedDbTransactionError"}class K7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qo(r)}add(e){return J("SimpleDb","ADD",this.store.name,e,e),Qo(this.store.add(e))}get(e){return Qo(this.store.get(e)).next(n=>(n===void 0&&(n=null),J("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return J("SimpleDb","DELETE",this.store.name,e),Qo(this.store.delete(e))}count(){return J("SimpleDb","COUNT",this.store.name),Qo(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new L((o,s)=>{a.onerror=l=>{s(l.target.error)},a.onsuccess=l=>{o(l.target.result)}})}{const a=this.cursor(r),o=[];return this.W(a,(s,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,a)=>{r.onerror=o=>{a(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){J("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(a,o,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=a=>{const o=kE(a.target.error);i(o)},n.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next(s=>{s?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const s=o.target.result;if(!s)return void i();const l=new G7(s),u=n(s.primaryKey,s.value,l);if(u instanceof L){const c=u.catch(d=>(l.done(),L.reject(d)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Qo(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=kE(r.target.error);n(i)}})}let DP=!1;function kE(t){const e=eo.S($t());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DP||(DP=!0,setTimeout(()=>{throw r},0)),r}}return t}class Y7{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){J("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{J("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){To(n)?J("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Xs(n)}await this.X(6e4)})}}class Q7{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,a=!0;return L.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return J("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(s=>{i-=s,r.add(o)});a=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,a)).next(s=>(J("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,a)=>{const o=QM(a);CE(o,r)>0&&(r=o)}),new ar(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gr.oe=-1;function qy(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function X7(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MP(e)),e=J7(t.get(n),e);return MP(e)}function J7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function MP(t){return t+""}function ni(t){const e=t.length;if(ce(e>=2),e===2)return ce(t.charAt(0)===""&&t.charAt(1)===""),Le.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const o=t.indexOf("",a);switch((o<0||o>n)&&ue(),t.charAt(o+1)){case"":const s=t.substring(a,o);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,o),i+="\0";break;case"":i+=t.substring(a,o+1);break;default:ue()}a=o+2}return new Le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e){return[t,On(e)]}function e$(t,e,n){return[t,On(e),n]}const Z7={},eH=["prefixPath","collectionGroup","readTime","documentId"],tH=["prefixPath","collectionGroup","documentId"],nH=["collectionGroup","readTime","prefixPath","documentId"],rH=["canonicalId","targetId"],iH=["targetId","path"],aH=["path","targetId"],oH=["collectionId","parent"],sH=["indexId","uid"],lH=["uid","sequenceNumber"],uH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cH=["indexId","uid","orderedDocumentKey"],dH=["userId","collectionPath","documentId"],fH=["userId","collectionPath","largestBatchId"],hH=["userId","collectionGroup","largestBatchId"],t$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pH=[...t$,"documentOverlays"],n$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r$=n$,jE=[...r$,"indexConfiguration","indexState","indexEntries"],mH=jE,gH=[...jE,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends JM{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Lt(t,e){const n=ve(t);return eo.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VP(this.data.getIterator())}getIteratorFrom(e){return new VP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class VP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new We(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new a$("Invalid base64 string: "+a):a}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const yH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(ce(!!t),typeof t=="string"){let e=0;const n=yH.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DE(t){const e=t.mapValue.fields.__previous_value__;return RE(e)?DE(e):e}function wf(t){const e=ia(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Cs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mm={nullValue:"NULL_VALUE"};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RE(t)?4:o$(t)?9007199254740991:Wy(t)?10:11:ue()}function mi(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wf(t).isEqual(wf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ia(i.timestampValue),s=ia(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return co(i.bytesValue).isEqual(co(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ot(i.geoPointValue.latitude)===ot(a.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ot(i.integerValue)===ot(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=ot(i.doubleValue),s=ot(a.doubleValue);return o===s?bf(o)===bf(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(LP(o)!==LP(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!mi(o[l],s[l])))return!1;return!0}(t,e);default:return ue()}}function xf(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=ks(t),r=ks(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=ot(a.integerValue||a.doubleValue),l=ot(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return FP(t.timestampValue,e.timestampValue);case 4:return FP(wf(t),wf(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(a,o){const s=co(a),l=co(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=we(s[u],l[u]);if(c!==0)return c}return we(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=we(ot(a.latitude),ot(o.latitude));return s!==0?s:we(ot(a.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BP(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},h=o.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=we(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((c=g?.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:BP(m,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Fa.mapValue&&o===Fa.mapValue)return 0;if(a===Fa.mapValue)return 1;if(o===Fa.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=we(l[d],c[d]);if(h!==0)return h;const m=fo(s[l[d]],u[c[d]]);if(m!==0)return m}return we(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ue()}}function FP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=ia(t),r=ia(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function BP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fo(n[i],r[i]);if(a)return a}return we(n.length,r.length)}function du(t){return fx(t)}function fx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=fx(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${fx(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function _f(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hx(t){return!!t&&"integerValue"in t}function Ef(t){return!!t&&"arrayValue"in t}function UP(t){return!!t&&"nullValue"in t}function zP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gm(t){return!!t&&"mapValue"in t}function Wy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function o$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const s$={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bH(t){return"nullValue"in t?mm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_f(Cs.empty(),re.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Wy(t)?s$:{mapValue:{}}:ue()}function wH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_f(Cs.empty(),re.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?s$:"mapValue"in t?Wy(t)?{mapValue:{}}:Fa:ue()}function qP(t,e){const n=fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function WP(t,e){const n=fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=jd(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mn(jd(this.value))}}function l$(t){const e=[];return Js(t.fields,(n,r)=>{const i=new ht([n]);if(gm(r)){const a=l$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new xt(e,0,fe.min(),fe.min(),fe.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new xt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new xt(e,2,n,fe.min(),fe.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,fe.min(),fe.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.position=e,this.inclusive=n}}function HP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function GP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n="asc"){this.field=e,this.dir=n}}function xH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${}class Pe extends u${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _H(e,n,r):n==="array-contains"?new TH(e,r):n==="in"?new m$(e,r):n==="not-in"?new AH(e,r):n==="array-contains-any"?new IH(e,r):new Pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EH(e,r):new SH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends u${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fe(e,n)}matches(e){return hu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hu(t){return t.op==="and"}function px(t){return t.op==="or"}function ME(t){return c$(t)&&hu(t)}function c$(t){for(const e of t.filters)if(e instanceof Fe)return!1;return!0}function mx(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+du(t.value);if(ME(t))return t.filters.map(e=>mx(e)).join(",");{const e=t.filters.map(n=>mx(n)).join(",");return`${t.op}(${e})`}}function d$(t,e){return t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&d$(o,i.filters[s]),!0):!1}(t,e):void ue()}function f$(t,e){const n=t.filters.concat(e);return Fe.create(n,t.op)}function h$(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`}(t):t instanceof Fe?function(n){return n.op.toString()+" {"+n.getFilters().map(h$).join(" ,")+"}"}(t):"Filter"}class _H extends Pe{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class EH extends Pe{constructor(e,n){super(e,"in",n),this.keys=p$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SH extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=p$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class TH extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ef(n)&&xf(n.arrayValue,this.value)}}class m$ extends Pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xf(this.value.arrayValue,n)}}class AH extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xf(this.value.arrayValue,n)}}class IH extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function gx(t,e=null,n=[],r=[],i=null,a=null,o=null){return new PH(t,e,n,r,i,a,o)}function js(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),qy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>du(r)).join(",")),e.ue=n}return e.ue}function xh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!d$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GP(t.startAt,e.startAt)&&GP(t.endAt,e.endAt)}function rg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ig(t,e){return t.filters.filter(n=>n instanceof Pe&&n.field.isEqual(e))}function KP(t,e,n){let r=mm,i=!0;for(const a of ig(t,e)){let o=mm,s=!0;switch(a.op){case"<":case"<=":o=bH(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,s=!1;break;case"!=":case"not-in":o=mm}qP({value:r,inclusive:i},{value:o,inclusive:s})<0&&(r=o,i=s)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];qP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function YP(t,e,n){let r=Fa,i=!0;for(const a of ig(t,e)){let o=Fa,s=!0;switch(a.op){case">=":case">":o=wH(a.value),s=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,s=!1;break;case"!=":case"not-in":o=Fa}WP({value:r,inclusive:i},{value:o,inclusive:s})>0&&(r=o,i=s)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];WP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OH(t,e,n,r,i,a,o,s){return new nc(t,e,n,r,i,a,o,s)}function _h(t){return new nc(t)}function QP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g$(t){return t.collectionGroup!==null}function Rd(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new We(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Sf(a,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new Sf(ht.keyField(),r))}return e.ce}function wr(t){const e=ve(t);return e.le||(e.le=NH(e,Rd(t))),e.le}function NH(t,e){if(t.limitType==="F")return gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Sf(i.field,a)});const n=t.endAt?new fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fu(t.startAt.position,t.startAt.inclusive):null;return gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yx(t,e){const n=t.filters.concat([e]);return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vx(t,e,n){return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hy(t,e){return xh(wr(t),wr(e))&&t.limitType===e.limitType}function y$(t){return`${js(wr(t))}|lt:${t.limitType}`}function bl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h$(i)).join(", ")}]`),qy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>du(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>du(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Rd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=HP(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,Rd(r),i)||r.endAt&&!function(o,s,l){const u=HP(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,Rd(r),i))}(t,e)}function CH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v$(t){return(e,n)=>{let r=!1;for(const i of Rd(t)){const a=kH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function kH(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?fo(l,u):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return i$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new ut(re.comparator);function Zn(){return jH}const b$=new ut(re.comparator);function md(...t){let e=b$;for(const n of t)e=e.insert(n.key,n);return e}function w$(t){let e=b$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ri(){return Dd()}function x$(){return Dd()}function Dd(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const RH=new ut(re.comparator),DH=new We(re.comparator);function Se(...t){let e=DH;for(const n of t)e=e.add(n);return e}const MH=new We(we);function $H(){return MH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function _$(t){return{integerValue:""+t}}function LH(t,e){return X7(e)?_$(e):$E(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this._=void 0}}function VH(t,e,n){return t instanceof pu?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&RE(a)&&(a=DE(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof mu?S$(t,e):t instanceof gu?T$(t,e):function(i,a){const o=E$(i,a),s=XP(o)+XP(i.Pe);return hx(o)&&hx(i.Pe)?_$(s):$E(i.serializer,s)}(t,e)}function FH(t,e,n){return t instanceof mu?S$(t,e):t instanceof gu?T$(t,e):n}function E$(t,e){return t instanceof Tf?function(r){return hx(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class pu extends Gy{}class mu extends Gy{constructor(e){super(),this.elements=e}}function S$(t,e){const n=A$(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class gu extends Gy{constructor(e){super(),this.elements=e}}function T$(t,e){let n=A$(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class Tf extends Gy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function XP(t){return ot(t.integerValue||t.doubleValue)}function A$(t){return Ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.field=e,this.transform=n}}function BH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mu&&i instanceof mu||r instanceof gu&&i instanceof gu?cu(r.elements,i.elements,mi):r instanceof Tf&&i instanceof Tf?mi(r.Pe,i.Pe):r instanceof pu&&i instanceof pu}(t.transform,e.transform)}class UH{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ym(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ky{}function P$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yy(t.key,gn.none()):new rc(t.key,t.data,gn.none());{const n=t.data,r=mn.empty();let i=new We(ht.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ca(t.key,r,new Ln(i.toArray()),gn.none())}}function zH(t,e,n){t instanceof rc?function(i,a,o){const s=i.value.clone(),l=ZP(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ca?function(i,a,o){if(!ym(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=ZP(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(O$(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Md(t,e,n,r){return t instanceof rc?function(a,o,s,l){if(!ym(a.precondition,o))return s;const u=a.value.clone(),c=eO(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ca?function(a,o,s,l){if(!ym(a.precondition,o))return s;const u=eO(a.fieldTransforms,l,o),c=o.data;return c.setAll(O$(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return ym(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function qH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=E$(r.transform,i||null);a!=null&&(n===null&&(n=mn.empty()),n.set(r.field,a))}return n||null}function JP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cu(r,i,(a,o)=>BH(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rc extends Ky{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ca extends Ky{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function O$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZP(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,FH(o,s,n[i]))}return r}function eO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,VH(a,o,e))}return r}class Yy extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N$ extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&zH(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x$();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=P$(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(n,r)=>JP(n,r))&&cu(this.baseMutations,e.baseMutations,(n,r)=>JP(n,r))}}class VE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return RH}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new VE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,ke;function HH(t){switch(t){default:return ue();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function C$(t){if(t===void 0)return Sn("GRPC error has no .code"),q.UNKNOWN;switch(t){case It.OK:return q.OK;case It.CANCELLED:return q.CANCELLED;case It.UNKNOWN:return q.UNKNOWN;case It.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case It.INTERNAL:return q.INTERNAL;case It.UNAVAILABLE:return q.UNAVAILABLE;case It.UNAUTHENTICATED:return q.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case It.NOT_FOUND:return q.NOT_FOUND;case It.ALREADY_EXISTS:return q.ALREADY_EXISTS;case It.PERMISSION_DENIED:return q.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case It.ABORTED:return q.ABORTED;case It.OUT_OF_RANGE:return q.OUT_OF_RANGE;case It.UNIMPLEMENTED:return q.UNIMPLEMENTED;case It.DATA_LOSS:return q.DATA_LOSS;default:return ue()}}(ke=It||(It={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=new ms([4294967295,4294967295],0);function tO(t){const e=GH().encode(t),n=new BM;return n.update(e),new Uint8Array(n.digest())}function nO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ms([n,r],0),new ms([i,a],0)]}class BE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gd(`Invalid padding: ${n}`);if(r<0)throw new gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ms.fromNumber(r)));return i.compare(KH)===1&&(i=new ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tO(e),[r,i]=nO(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new BE(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=tO(e),[r,i]=nO(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qy(fe.min(),i,new ut(we),Zn(),Se())}}class Sh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sh(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class k${constructor(e,n){this.targetId=e,this.me=n}}class j${constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rO{constructor(){this.fe=0,this.ge=aO(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Sh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=aO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YH{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zn(),this.qe=iO(),this.Qe=new ut(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(rg(a))if(r===0){const o=new re(a.path);this.Ue(n,o,xt.newNoDocument(o,fe.min()))}else ce(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=co(r).toUint8Array()}catch(l){if(l instanceof a$)return Ns("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new BE(o,i,a)}catch(l){return Ns(l instanceof gd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&rg(s.target)){const l=new re(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,xt.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Se();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Qy(e,n,this.Qe,this.ke,r);return this.ke=Zn(),this.qe=iO(),this.Qe=new ut(we),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rO,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new We(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rO),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iO(){return new ut(re.comparator)}function aO(){return new ut(re.comparator)}const QH={asc:"ASCENDING",desc:"DESCENDING"},XH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JH={and:"AND",or:"OR"};class ZH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bx(t,e){return t.useProto3Json||qy(e)?e:{value:e}}function yu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eG(t,e){return yu(t,e.toTimestamp())}function Nn(t){return ce(!!t),fe.fromTimestamp(function(n){const r=ia(n);return new mt(r.seconds,r.nanos)}(t))}function UE(t,e){return wx(t,e).canonicalString()}function wx(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function D$(t){const e=Le.fromString(t);return ce(q$(e)),e}function ag(t,e){return UE(t.databaseId,e.path)}function gs(t,e){const n=D$(e);if(n.get(1)!==t.databaseId.projectId)throw new te(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(L$(n))}function M$(t,e){return UE(t.databaseId,e)}function $$(t){const e=D$(t);return e.length===4?Le.emptyPath():L$(e)}function xx(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L$(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oO(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function tG(t,e,n){const r=gs(t,e.name),i=Nn(e.updateTime),a=e.createTime?Nn(e.createTime):fe.min(),o=new mn({mapValue:{fields:e.fields}}),s=xt.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function nG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(ce(c===void 0||typeof c=="string"),Ct.fromBase64String(c||"")):(ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?q.UNKNOWN:C$(u.code);return new te(c,u.message||"")}(o);n=new j$(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gs(t,r.document.name),a=Nn(r.document.updateTime),o=r.document.createTime?Nn(r.document.createTime):fe.min(),s=new mn({mapValue:{fields:r.document.fields}}),l=xt.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new vm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gs(t,r.document),a=r.readTime?Nn(r.readTime):fe.min(),o=xt.newNoDocument(i,a),s=r.removedTargetIds||[];n=new vm([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gs(t,r.document),a=r.removedTargetIds||[];n=new vm([],a,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new WH(i,a),s=r.targetId;n=new k$(s,o)}}return n}function og(t,e){let n;if(e instanceof rc)n={update:oO(t,e.key,e.value)};else if(e instanceof Yy)n={delete:ag(t,e.key)};else if(e instanceof ca)n={update:oO(t,e.key,e.data),updateMask:lG(e.fieldMask)};else{if(!(e instanceof N$))return ue();n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof pu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof mu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Tf)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eG(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ue()}(t,e.precondition)),n}function _x(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?gn.updateTime(Nn(a.updateTime)):a.exists!==void 0?gn.exists(a.exists):gn.none()}(e.currentDocument):gn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let l=null;if("setToServerValue"in s)ce(s.setToServerValue==="REQUEST_TIME"),l=new pu;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new mu(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new gu(c)}else"increment"in s?l=new Tf(o,s.increment):ue();const u=ht.fromServerFormat(s.fieldPath);return new I$(u,l)}(t,i)):[];if(e.update){e.update.name;const i=gs(t,e.update.name),a=new mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Ln(u.map(c=>ht.fromServerFormat(c)))}(e.updateMask);return new ca(i,a,o,n,r)}return new rc(i,a,n,r)}if(e.delete){const i=gs(t,e.delete);return new Yy(i,n)}if(e.verify){const i=gs(t,e.verify);return new N$(i,n)}return ue()}function rG(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Nn(i.updateTime):Nn(a);return o.isEqual(fe.min())&&(o=Nn(a)),new UH(o,i.transformResults||[])}(n,e))):[]}function V$(t,e){return{documents:[M$(t,e.path)]}}function F$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=M$(t,i);const a=function(u){if(u.length!==0)return z$(Fe.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:wl(h.field),direction:aG(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=bx(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function B$(t){let e=$$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(d){const h=U$(d);return h instanceof Fe&&ME(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Sf(xl(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,qy(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new fu(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new fu(m,h)}(n.endAt)),OH(e,i,o,a,s,"F",l,u)}function iG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xl(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xl(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xl(n.unaryFilter.field);return Pe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xl(n.unaryFilter.field);return Pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(xl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fe.create(n.compositeFilter.filters.map(r=>U$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function aG(t){return QH[t]}function oG(t){return XH[t]}function sG(t){return JH[t]}function wl(t){return{fieldPath:t.canonicalString()}}function xl(t){return ht.fromServerFormat(t.fieldPath)}function z$(t){return t instanceof Pe?function(n){if(n.op==="=="){if(zP(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(UP(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zP(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(UP(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:oG(n.op),value:n.value}}}(t):t instanceof Fe?function(n){const r=n.getFilters().map(i=>z$(i));return r.length===1?r[0]:{compositeFilter:{op:sG(n.op),filters:r}}}(t):ue()}function lG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function q$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,r,i,a=fe.min(),o=fe.min(),s=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.ct=e}}function uG(t,e){let n;if(e.document)n=tG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=re.fromSegments(e.noDocument.path),i=Ds(e.noDocument.readTime);n=xt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ue();{const r=re.fromSegments(e.unknownDocument.path),i=Ds(e.unknownDocument.version);n=xt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new mt(i[0],i[1]);return fe.fromTimestamp(a)}(e.readTime)),n}function sO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,o){return{name:ag(a,o.key),fields:o.data.value.mapValue.fields,updateTime:yu(a,o.version.toTimestamp()),createTime:yu(a,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rs(e.version)};else{if(!e.isUnknownDocument())return ue();r.unknownDocument={path:n.path.toArray(),version:Rs(e.version)}}return r}function sg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ds(t){const e=new mt(t.seconds,t.nanoseconds);return fe.fromTimestamp(e)}function Xo(t,e){const n=(e.baseMutations||[]).map(a=>_x(t.ct,a));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const s=e.mutations[a+1];o.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>_x(t.ct,a)),i=mt.fromMillis(e.localWriteTimeMs);return new LE(e.batchId,i,n,r)}function yd(t){const e=Ds(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ds(t.lastLimboFreeSnapshotVersion):fe.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){return ce(a.documents.length===1),wr(_h($$(a.documents[0])))}(t.query):function(a){return wr(B$(a))}(t.query),new Ui(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ct.fromBase64String(t.resumeToken))}function H$(t,e){const n=Rs(e.snapshotVersion),r=Rs(e.lastLimboFreeSnapshotVersion);let i;i=rg(e.target)?V$(t.ct,e.target):F$(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:js(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function G$(t){const e=B$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vx(e,e.limit,"L"):e}function ub(t,e){return new FE(e.largestBatchId,_x(t.ct,e.overlayMutation))}function lO(t,e){const n=e.path.lastSegment();return[t,On(e.path.popLast()),n]}function uO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Rs(r.readTime),documentKey:On(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{getBundleMetadata(e,n){return cO(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:Ds(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return cO(e).put(function(i){return{bundleId:i.id,createTime:Rs(Nn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return dO(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:G$(a.bundledQuery),readTime:Ds(a.readTime)}}(r)})}saveNamedQuery(e,n){return dO(e).put(function(i){return{name:i.name,readTime:Rs(Nn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function cO(t){return Lt(t,"bundles")}function dO(t){return Lt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Xy(e,r)}getOverlay(e,n){return Wc(e).get(lO(this.userId,n)).next(r=>r?ub(this.serializer,r):null)}getOverlays(e,n){const r=ri();return L.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,o)=>{const s=new FE(n,o);i.push(this.ht(e,s))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(On(o.getCollectionPath())));const a=[];return i.forEach(o=>{const s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);a.push(Wc(e).j("collectionPathOverlayIndex",s))}),L.waitFor(a)}getOverlaysForCollection(e,n,r){const i=ri(),a=On(n),o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Wc(e).U("collectionPathOverlayIndex",o).next(s=>{for(const l of s){const u=ub(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=ri();let o;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Wc(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const d=ub(this.serializer,u);a.size()<i||d.largestBatchId===o?(a.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>a)}ht(e,n){return Wc(e).put(function(i,a,o){const[s,l,u]=lO(a,o.mutation.key);return{userId:a,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:og(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Wc(t){return Lt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{Pt(e){return Lt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n?.value;return r?Ct.fromUint8Array(r):Ct.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),bf(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ia(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(co(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?o$(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Wy(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ue()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const a=e.fields||{};this.dt(n,53);const o="value",s=((i=(r=a[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ot(s)),this.Vt(o,n),this.Tt(a[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Jo.vt=new Jo;function fG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function fO(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const o=fG(255&r[a]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class hG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=fO(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=fO(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class pG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class mG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Hc{constructor(){this.jt=new hG,this.Ht=new pG(this.jt),this.Jt=new mG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zo(this.indexId,this.documentKey,this.arrayValue,r)}}function xa(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=hO(t.arrayValue,e.arrayValue),n!==0?n:(n=hO(t.directionalValue,e.directionalValue),n!==0?n:re.comparator(t.documentKey,e.documentKey)))}function hO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Xt=new We((n,r)=>ht.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ce(e.collectionGroup===this.collectionId),this.nn)return!1;const n=cx(e);if(n!==void 0&&!this.sn(n))return!1;const r=Wo(e);let i=new Set,a=0,o=0;for(;a<r.length&&this.sn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[a];if(!this.on(s,l)||!this._n(this.en[o++],l))return!1}++a}for(;a<r.length;++a){const s=r[a];if(o>=this.en.length||!this._n(this.en[o++],s))return!1}return!0}an(){if(this.nn)return null;let e=new We(ht.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hm(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hm(r.field,r.dir==="asc"?0:1)));return new ng(ng.UNKNOWN_ID,this.collectionId,n,vf.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){var e,n;if(ce(t instanceof Pe||t instanceof Fe),t instanceof Pe){if(t instanceof m$){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(a=>Pe.create(t.field,"==",a)))||[];return Fe.create(i,"or")}return t}const r=t.filters.map(i=>K$(i));return Fe.create(r,t.op)}function gG(t){if(t.getFilters().length===0)return[];const e=Tx(K$(t));return ce(Y$(e)),Ex(e)||Sx(e)?[e]:e.getFilters()}function Ex(t){return t instanceof Pe}function Sx(t){return t instanceof Fe&&ME(t)}function Y$(t){return Ex(t)||Sx(t)||function(n){if(n instanceof Fe&&px(n)){for(const r of n.getFilters())if(!Ex(r)&&!Sx(r))return!1;return!0}return!1}(t)}function Tx(t){if(ce(t instanceof Pe||t instanceof Fe),t instanceof Pe)return t;if(t.filters.length===1)return Tx(t.filters[0]);const e=t.filters.map(r=>Tx(r));let n=Fe.create(e,t.op);return n=lg(n),Y$(n)?n:(ce(n instanceof Fe),ce(hu(n)),ce(n.filters.length>1),n.filters.reduce((r,i)=>zE(r,i)))}function zE(t,e){let n;return ce(t instanceof Pe||t instanceof Fe),ce(e instanceof Pe||e instanceof Fe),n=t instanceof Pe?e instanceof Pe?function(i,a){return Fe.create([i,a],"and")}(t,e):mO(t,e):e instanceof Pe?mO(e,t):function(i,a){if(ce(i.filters.length>0&&a.filters.length>0),hu(i)&&hu(a))return f$(i,a.getFilters());const o=px(i)?i:a,s=px(i)?a:i,l=o.filters.map(u=>zE(u,s));return Fe.create(l,"or")}(t,e),lg(n)}function mO(t,e){if(hu(e))return f$(e,t.getFilters());{const n=e.filters.map(r=>zE(t,r));return Fe.create(n,"or")}}function lg(t){if(ce(t instanceof Pe||t instanceof Fe),t instanceof Pe)return t;const e=t.getFilters();if(e.length===1)return lg(e[0]);if(c$(t))return t;const n=e.map(i=>lg(i)),r=[];return n.forEach(i=>{i instanceof Pe?r.push(i):i instanceof Fe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Fe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.un=new qE}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ar.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class qE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(Le.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Uint8Array(0);class vG{constructor(e,n){this.databaseId=n,this.cn=new qE,this.ln=new Ao(r=>js(r),(r,i)=>xh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const a={collectionId:r,parent:On(i)};return gO(e).put(a)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[YM(n),""],!1,!0);return gO(e).U(i).next(a=>{for(const o of a){if(o.collectionId!==n)break;r.push(ni(o.parent))}return r})}addFieldIndex(e,n){const r=Gc(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const o=fl(e);return a.next(s=>{o.put(uO(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=Gc(e),i=fl(e),a=dl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Gc(e),r=dl(e),i=fl(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new pO(r).an();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=dl(e);let i=!0;const a=new Map;return L.forEach(this.hn(n),o=>this.Pn(e,o).next(s=>{i&&(i=!!s),a.set(o,s)})).next(()=>{if(i){let o=Se();const s=[];return L.forEach(a,(l,u)=>{J("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${js(n)}`);const c=function(_,P){const E=cx(P);if(E===void 0)return null;for(const A of ig(_,E.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(u,l),d=function(_,P){const E=new Map;for(const A of Wo(P))for(const S of ig(_,A.fieldPath))switch(S.op){case"==":case"in":E.set(A.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return E.set(A.fieldPath.canonicalString(),S.value),Array.from(E.values())}return null}(u,l),h=function(_,P){const E=[];let A=!0;for(const S of Wo(P)){const T=S.kind===0?KP(_,S.fieldPath,_.startAt):YP(_,S.fieldPath,_.startAt);E.push(T.value),A&&(A=T.inclusive)}return new fu(E,A)}(u,l),m=function(_,P){const E=[];let A=!0;for(const S of Wo(P)){const T=S.kind===0?YP(_,S.fieldPath,_.endAt):KP(_,S.fieldPath,_.endAt);E.push(T.value),A&&(A=T.inclusive)}return new fu(E,A)}(u,l),g=this.In(l,u,h),y=this.In(l,u,m),v=this.Tn(l,u,d),b=this.En(l.indexId,c,g,h.inclusive,y,m.inclusive,v);return L.forEach(b,w=>r.G(w,n.limit).next(_=>{_.forEach(P=>{const E=re.fromSegments(P.documentKey);o.has(E)||(o=o.add(E),s.push(E))})}))}).next(()=>s)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=gG(Fe.create(e.filters,"and")).map(r=>gx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,a,o,s){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/u]):Ip,m=this.An(e,h,r[d%u],i),g=this.Rn(e,h,a[d%u],o),y=s.map(v=>this.An(e,h,v,!0));c.push(...this.createRange(m,g,y))}return c}An(e,n,r,i){const a=new Zo(e,re.empty(),n,r);return i?a:a.Zt()}Rn(e,n,r,i){const a=new Zo(e,re.empty(),n,r);return i?a.Zt():a}Pn(e,n){const r=new pO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let o=null;for(const s of a)r.rn(s)&&(!o||s.fields.length>o.fields.length)&&(o=s);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,a=>this.Pn(e,a).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new We(ht.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(a)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Hc;for(const i of Wo(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const o=r.Yt(i.kind);Jo.vt.It(a,o)}return r.zt()}dn(e){const n=new Hc;return Jo.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Hc;return Jo.vt.It(_f(this.databaseId,n),r.Yt(function(a){const o=Wo(a);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Hc);let a=0;for(const o of Wo(e)){const s=r[a++];for(const l of i)if(this.fn(n,o.fieldPath)&&Ef(s))i=this.gn(i,o,s);else{const u=l.Yt(o.kind);Jo.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],a=[];for(const o of r.arrayValue.values||[])for(const s of i){const l=new Hc;l.seed(s.zt()),Jo.vt.It(o,l.Yt(n.kind)),a.push(l)}return a}fn(e,n){return!!e.filters.find(r=>r instanceof Pe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Gc(e),i=fl(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(a=>{const o=[];return L.forEach(a,s=>i.get([s.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new vf(d.sequenceNumber,new ar(Ds(d.readTime),new re(ni(d.documentKey)),d.largestBatchId)):vf.empty(),m=c.fields.map(([g,y])=>new hm(ht.fromServerFormat(g),y));return new ng(c.indexId,c.collectionGroup,m,h)}(s,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:we(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Gc(e),a=fl(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>L.forEach(s,l=>a.put(uO(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,a)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),L.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(a,l);return u.isEqual(c)?L.resolve():this.bn(e,a,l,u,c)}))))})}Dn(e,n,r,i){return dl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return dl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=dl(e);let a=new We(xa);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,s)=>{a=a.add(new Zo(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>a)}Sn(e,n){let r=new We(xa);const i=this.Vn(n,e);if(i==null)return r;const a=cx(n);if(a!=null){const o=e.data.field(a.fieldPath);if(Ef(o))for(const s of o.arrayValue.values||[])r=r.add(new Zo(n.indexId,e.key,this.dn(s),i))}else r=r.add(new Zo(n.indexId,e.key,Ip,i));return r}bn(e,n,r,i,a){J("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const m=l.getIterator(),g=u.getIterator();let y=cl(m),v=cl(g);for(;y||v;){let b=!1,w=!1;if(y&&v){const _=c(y,v);_<0?w=!0:_>0&&(b=!0)}else y!=null?w=!0:b=!0;b?(d(v),v=cl(g)):w?(h(y),y=cl(m)):(y=cl(m),v=cl(g))}}(i,a,xa,s=>{o.push(this.Dn(e,n,r,s))},s=>{o.push(this.vn(e,n,r,s))}),L.waitFor(o)}yn(e){let n=1;return fl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,s)=>xa(o,s)).filter((o,s,l)=>!s||xa(o,l[s-1])!==0);const i=[];i.push(e);for(const o of r){const s=xa(o,e),l=xa(o,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const a=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const s=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Ip,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Ip,[]];a.push(IDBKeyRange.bound(s,l))}return a}Cn(e,n){return xa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(yO)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ue())).next(yO)}}function gO(t){return Lt(t,"collectionParents")}function dl(t){return Lt(t,"indexEntries")}function Gc(t){return Lt(t,"indexConfiguration")}function fl(t){return Lt(t,"indexState")}function yO(t){ce(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ar(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:o},(c,d,h)=>(s++,h.delete()));a.push(l.next(()=>{ce(s===1)}));const u=[];for(const c of n.mutations){const d=e$(e,c.key.path,n.batchId);a.push(i.delete(d)),u.push(c.key)}return L.waitFor(a).next(()=>u)}function ug(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ue();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Jy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){ce(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new Jy(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).J({index:"userMutationsIndex",range:r},(i,a,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=_l(e),o=_a(e);return o.add({}).next(s=>{ce(typeof s=="number");const l=new LE(s,n,r,i),u=function(m,g,y){const v=y.baseMutations.map(w=>og(m.ct,w)),b=y.mutations.map(w=>og(m.ct,w));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,l),c=[];let d=new We((h,m)=>we(h.canonicalString(),m.canonicalString()));for(const h of i){const m=e$(this.userId,h.key.path,s);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(a.put(m,Z7))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),L.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return _a(e).get(n).next(r=>r?(ce(r.userId===this.userId),Xo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return _a(e).J({index:"userMutationsIndex",range:i},(o,s,l)=>{s.userId===this.userId&&(ce(s.batchId>=r),a=Xo(this.serializer,s)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _a(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,a,o)=>{r=a.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).U("userMutationsIndex",n).next(r=>r.map(i=>Xo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=pm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return _l(e).J({range:i},(o,s,l)=>{const[u,c,d]=o,h=ni(c);if(u===this.userId&&n.path.isEqual(h))return _a(e).get(d).next(m=>{if(!m)throw ue();ce(m.userId===this.userId),a.push(Xo(this.serializer,m))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(we);const i=[];return n.forEach(a=>{const o=pm(this.userId,a.path),s=IDBKeyRange.lowerBound(o),l=_l(e).J({range:s},(u,c,d)=>{const[h,m,g]=u,y=ni(m);h===this.userId&&a.path.isEqual(y)?r=r.add(g):d.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=pm(this.userId,r),o=IDBKeyRange.lowerBound(a);let s=new We(we);return _l(e).J({range:o},(l,u,c)=>{const[d,h,m]=l,g=ni(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(s=s.add(m)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(_a(e).get(a).next(o=>{if(o===null)throw ue();ce(o.userId===this.userId),r.push(Xo(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Q$(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return _l(e).J({range:r},(a,o,s)=>{if(a[0]===this.userId){const l=ni(a[1]);i.push(l)}else s.done()}).next(()=>{ce(i.length===0)})})}containsKey(e,n){return X$(e,this.userId,n)}Nn(e){return J$(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function X$(t,e,n){const r=pm(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return _l(t).J({range:a,H:!0},(s,l,u)=>{const[c,d,h]=s;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function _a(t){return Lt(t,"mutations")}function _l(t){return Lt(t,"documentMutations")}function J$(t){return Lt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ms(0)}static kn(){return new Ms(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Ms(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>fe.fromTimestamp(new mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>hl(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(ce(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return hl(e).J((o,s)=>{const l=yd(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(a)).next(()=>i)}forEachTarget(e,n){return hl(e).J((r,i)=>{const a=yd(i);n(a)})}qn(e){return bO(e).get("targetGlobalKey").next(n=>(ce(n!==null),n))}Qn(e,n){return bO(e).put("targetGlobalKey",n)}Kn(e,n){return hl(e).put(H$(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=js(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return hl(e).J({range:i,index:"queryTargetsIndex"},(o,s,l)=>{const u=yd(s);xh(n,u.target)&&(a=u,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Ra(e);return n.forEach(o=>{const s=On(o.path);i.push(a.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ra(e);return L.forEach(n,a=>{const o=On(a.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Ra(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ra(e);let a=Se();return i.J({range:r,H:!0},(o,s,l)=>{const u=ni(o[1]),c=new re(u);a=a.add(c)}).next(()=>a)}containsKey(e,n){const r=On(n.path),i=IDBKeyRange.bound([r],[YM(r)],!1,!0);let a=0;return Ra(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,s],l,u)=>{o!==0&&(a++,u.done())}).next(()=>a>0)}ot(e,n){return hl(e).get(n).next(r=>r?yd(r):null)}}function hl(t){return Lt(t,"targets")}function bO(t){return Lt(t,"targetGlobal")}function Ra(t){return Lt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class wG{constructor(e){this.Un=e,this.buffer=new We(wO),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){J("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Xs(n)}await this.Hn(3e5)})}}class _G{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(gr.oe);const r=new wG(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(vO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vO):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),vl()<=Ie.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function EG(t,e){return new _G(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n){this.db=e,this.garbageCollector=EG(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Pp(e,r)}removeReference(e,n,r){return Pp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Pp(e,n)}nr(e,n){return function(i,a){let o=!1;return J$(i).Y(s=>X$(i,s,a).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,(o,s)=>{if(s<=n){const l=this.nr(e,o).next(u=>{if(!u)return a++,r.getEntry(e,o).next(()=>(r.removeEntry(o,fe.min()),Ra(e).delete(function(d){return[0,On(d.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Pp(e,n)}tr(e,n){const r=Ra(e);let i,a=gr.oe;return r.J({index:"documentTargetsIndex"},([o,s],{path:l,sequenceNumber:u})=>{o===0?(a!==gr.oe&&n(new re(ni(i)),a),a=u,i=l):a=gr.oe}).next(()=>{a!==gr.oe&&n(new re(ni(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pp(t,e){return Ra(t).put(function(r,i){return{targetId:0,path:On(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this.changes=new Ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Lo(e).put(r)}removeEntry(e,n,r){return Lo(e).delete(function(a,o){const s=a.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],sg(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=xt.newInvalidDocument(n);return Lo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(n))},(i,a)=>{r=this.ir(n,a)}).next(()=>r)}sr(e,n){let r={size:0,document:xt.newInvalidDocument(n)};return Lo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(n))},(i,a)=>{r={document:this.ir(n,a),size:ug(a)}}).next(()=>r)}getEntries(e,n){let r=Zn();return this._r(e,n,(i,a)=>{const o=this.ir(i,a);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Zn(),i=new ut(re.comparator);return this._r(e,n,(a,o)=>{const s=this.ir(a,o);r=r.insert(a,s),i=i.insert(a,ug(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new We(EO);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(Kc(i.first()),Kc(i.last())),o=i.getIterator();let s=o.getNext();return Lo(e).J({index:"documentKeyIndex",range:a},(l,u,c)=>{const d=re.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&EO(s,d)<0;)r(s,null),s=o.getNext();s&&s.isEqual(d)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?c.$(Kc(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),sg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lo(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{a?.incrementDocumentReadCount(u.length);let c=Zn();for(const d of u){const h=this.ir(re.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Eh(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let a=Zn();const o=_O(n,r),s=_O(n,ar.max());return Lo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(l,u,c)=>{const d=this.ir(re.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(d.key,d),a.size===i&&c.done()}).next(()=>a)}newChangeBuffer(e){return new AG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return xO(e).get("remoteDocumentGlobalKey").next(n=>(ce(!!n),n))}rr(e,n){return xO(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=uG(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(fe.min())))return r}return xt.newInvalidDocument(e)}}function eL(t){return new TG(t)}class AG extends Z${constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Ao(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new We((a,o)=>we(a.canonicalString(),o.canonicalString()));return this.changes.forEach((a,o)=>{const s=this.lr.get(a);if(n.push(this.cr.removeEntry(e,a,s.readTime)),o.isValidDocument()){const l=sO(this.cr.serializer,o);i=i.add(a.path.popLast());const u=ug(l);r+=u-s.size,n.push(this.cr.addEntry(e,a,l))}else if(r-=s.size,this.trackRemovals){const l=sO(this.cr.serializer,o.convertToNoDocument(fe.min()));n.push(this.cr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((a,o)=>{this.lr.set(a,{size:o,readTime:r.get(a).readTime})}),r))}}function xO(t){return Lt(t,"remoteDocumentGlobal")}function Lo(t){return Lt(t,"remoteDocumentsV14")}function Kc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _O(t,e){const n=e.documentKey.path.toArray();return[t,sg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function EO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=we(n[a],r[a]),i)return i;return i=we(n.length,r.length),i||(i=we(n[n.length-2],r[r.length-2]),i||we(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Md(r.mutation,i,Ln.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=md();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Zn();const o=Dd(),s=function(){return Dd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ca)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Md(c.mutation,u,c.mutation.getFieldMask(),mt.now())):o.set(u.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new IG(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Dd();let i=new ut((o,s)=>o-s),a=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ln.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||Se()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=x$();c.forEach(h=>{if(!a.has(h)){const m=P$(n.get(h),r.get(h));m!==null&&d.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):L.resolve(ri());let s=-1,l=a;return o.next(u=>L.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?L.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Se())).next(c=>({batchId:s,changes:w$(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=md();return this.indexManager.getCollectionParents(e,a).next(s=>L.forEach(s,l=>{const u=function(d,h){return new nc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,xt.newInvalidDocument(c)))});let s=md();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Md(c.mutation,u,Ln.empty(),mt.now()),Eh(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:G$(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.overlays=new ut(re.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ri();return L.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=ri(),a=n.length+1,o=new re(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=ri(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ri(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return L.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FE(n,r));let a=this.Ir.get(n);a===void 0&&(a=Se(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.Tr=new We(Bt.Er),this.dr=new We(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new Le([])),r=new Bt(n,e),i=new Bt(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new Le([])),r=new Bt(n,e),i=new Bt(n,e+1);let a=Se();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new We(Bt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LE(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Bt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return L.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),L.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(we);return n.forEach(i=>{const a=new Bt(i,0),o=new Bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;re.isDocumentKey(a)||(a=a.child(""));const o=new Bt(new re(a),0);let s=new We(we);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),L.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const a=new Bt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Bt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.Mr=e,this.docs=function(){return new ut(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():xt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Zn();const o=n.path,s=new re(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CE(QM(c),r)<=0||(i.has(c.key)||Eh(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return L.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jG(this)}getSize(e){return L.resolve(this.size)}}class jG extends Z${constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.persistence=e,this.Nr=new Ao(n=>js(n),xh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new WE,this.targetCount=0,this.kr=Ms.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ms(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),L.waitFor(a).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gr(0),this.Kr=!1,this.Kr=!0,this.$r=new NG,this.referenceDelegate=e(this),this.Ur=new RG(this),this.indexManager=new yG,this.remoteDocumentCache=function(i){return new kG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new W$(n),this.Gr=new PG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new CG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new DG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class DG extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Jr=new WE,this.Yr=null}static Zr(e){return new Zy(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=re.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.serializer=e}O(e,n,r,i){const a=new zy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$P,{unique:!0}),l.createObjectStore("documentMutations")}(e),SO(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),SO(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fe.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(a))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$P,{unique:!0});const d=u.store("mutations"),h=c.map(m=>d.put(m));return L.waitFor(h)})}(e,a))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(a))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(a)))),r<7&&i>=7&&(o=o.next(()=>this.ii(a))),r<8&&i>=8&&(o=o.next(()=>this.si(e,a))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(a))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:dH});u.createIndex("collectionPathOverlayIndex",fH,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",hH,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:eH});u.createIndex("documentKeyIndex",tH),u.createIndex("collectionGroupIndex",nH)}(e)).next(()=>this._i(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,a))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:sH}).createIndex("sequenceNumberIndex",lH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:uH}).createIndex("documentKeyIndex",cH,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=ug(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,a=>{const o=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(s=>L.forEach(s,l=>{ce(l.userId===a.userId);const u=Xo(this.serializer,l);return Q$(e,a.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((o,s)=>{const l=new Le(o),u=function(d){return[0,On(d)]}(l);a.push(n.get(u).next(c=>c?L.resolve():(d=>n.put({targetId:0,path:On(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(a))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:oH});const r=n.store("collectionParents"),i=new qE,a=o=>{if(i.add(o)){const s=o.lastSegment(),l=o.popLast();return r.put({collectionId:s,parent:On(l)})}};return n.store("remoteDocuments").J({H:!0},(o,s)=>{const l=new Le(o);return a(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,s,l],u)=>{const c=ni(s);return a(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const a=yd(i),o=H$(this.serializer,a);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((a,o)=>{const s=n.store("remoteDocumentsV14"),l=function(d){return d.document?new re(Le.fromString(d.document.name).popFirst(5)):d.noDocument?re.fromSegments(d.noDocument.path):d.unknownDocument?re.fromSegments(d.unknownDocument.path):ue()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(s.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=eL(this.serializer),a=new nL(Zy.Zr,this.serializer.ct);return r.U().next(o=>{const s=new Map;return o.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:Se();Xo(this.serializer,l).keys().forEach(d=>c=c.add(d)),s.set(l.userId,c)}),L.forEach(s,(l,u)=>{const c=new Jt(u),d=Xy.lt(this.serializer,c),h=a.getIndexManager(c),m=Jy.lt(c,this.serializer,h,a.referenceDelegate);return new tL(i,m,d,h).recalculateAndSaveOverlaysForDocumentKeys(new dx(n,gr.oe),l).next()})})}}function SO(t){t.createObjectStore("targetDocuments",{keyPath:iH}).createIndex("documentTargetsIndex",aH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rH,{unique:!0}),t.createObjectStore("targetGlobal")}const cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class HE{constructor(e,n,r,i,a,o,s,l,u,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=a,this.window=o,this.document=s,this.ci=u,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!HE.D())throw new te(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SG(this,i),this.Ai=n+"main",this.serializer=new W$(l),this.Ri=new eo(this.Ai,this.hi,new MG(this.serializer)),this.$r=new dG,this.Ur=new bG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eL(this.serializer),this.Gr=new cG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&Sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(q.FAILED_PRECONDITION,cb);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new gr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Op(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(To(e))return J("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Yc(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return Op(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Lt(n,"clientMetadata");return r.U().next(i=>{const a=this.xi(i,18e5),o=i.filter(s=>a.indexOf(s)===-1);return L.forEach(o,s=>r.delete(s.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):Yc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new te(q.FAILED_PRECONDITION,cb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Op(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(a||o&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&J("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new dx(e,gr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Op(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Jy.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Xy.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===17?gH:l===16?mH:l===15?jE:l===14?r$:l===13?n$:l===12?pH:l===11?t$:void ue()}(this.hi);let o;return this.Ri.runTransaction(e,i,a,s=>(o=new dx(s,this.Qr?this.Qr.next():gr.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new te(q.FAILED_PRECONDITION,XM);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(s=>(o.raiseOnCommittedEvent(),s))}Ki(e){return Yc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(q.FAILED_PRECONDITION,cb)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yc(e).put("owner",n)}static D(){return eo.D()}bi(e){const n=Yc(e);return n.get("owner").next(r=>this.vi(r)?(J("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Sn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;tM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return J("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Sn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yc(t){return Lt(t,"owner")}function Op(t){return Lt(t,"clientMetadata")}function $G(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new GE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tM()?8:ZM($t())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new LG;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(vl()<=Ie.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(vl()<=Ie.DEBUG&&J("QueryEngine","Query:",bl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vl()<=Ie.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):L.resolve())}Yi(e,n){if(QP(n))return L.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vx(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Se(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,o,l.readTime)?this.Yi(e,vx(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return QP(n)||i.isEqual(fe.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?L.resolve(null):(vl()<=Ie.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bl(n)),this.rs(e,o,n,H7(i,-1)).next(s=>s))})}ts(e,n){let r=new We(v$(e));return n.forEach((i,a)=>{Eh(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return vl()<=Ie.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",bl(n)),this.Ji.getDocumentsMatchingQuery(e,n,ar.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(we),this._s=new Ao(a=>js(a),xh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function iL(t,e,n,r){return new VG(t,e,n,r)}async function aL(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Se();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function FG(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let m=L.resolve();return h.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const v=u.docVersions.get(g);ce(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Se();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oL(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function BG(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,d)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ct.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,c)&&s.push(n.Ur.updateTargetData(a,m))});let l=Zn(),u=Se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(UG(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(fe.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return L.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function UG(t,e,n){let r=Se(),i=Se();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Zn();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):J("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function zG(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qG(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ax(t,e,n){const r=ve(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!To(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function TO(t,e,n){const r=ve(t);let i=fe.min(),a=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ve(l),h=d._s.get(c);return h!==void 0?L.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,o,wr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?a:Se())).next(s=>(WG(r,CH(e),s),{documents:s,Ts:a})))}function WG(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class AO{constructor(){this.activeTargetIds=$H()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sL{constructor(){this.so=new AO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=null;function db(){return Np===null?Np=function(){return 268435456+Math.round(2147483648*Math.random())}():Np++,"0x"+Np.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class YG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=db(),l=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,l,u,i).then(c=>(J("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ns("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=GG[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=db();return new Promise((o,s)=>{const l=new UM;l.setWithCredentials(!0),l.listenOnce(zM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fm.NO_ERROR:const c=l.getResponseJson();J(cn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case fm.TIMEOUT:J(cn,`RPC '${e}' ${a} timed out`),s(new te(q.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const d=l.getStatus();if(J(cn,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h?.error;if(m&&m.status&&m.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(m.status);s(new te(g,m.message))}else s(new te(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new te(q.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{J(cn,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);J(cn,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=db(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HM(),s=WM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");J(cn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,m=!1;const g=new KG({Io:v=>{m?J(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(J(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),J(cn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),y=(v,b,w)=>{v.listen(b,_=>{try{w(_)}catch(P){setTimeout(()=>{throw P},0)}})};return y(d,pd.EventType.OPEN,()=>{m||(J(cn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(d,pd.EventType.CLOSE,()=>{m||(m=!0,J(cn,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(d,pd.EventType.ERROR,v=>{m||(m=!0,Ns(cn,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new te(q.UNAVAILABLE,"The operation could not be completed")))}),y(d,pd.EventType.MESSAGE,v=>{var b;if(!m){const w=v.data[0];ce(!!w);const _=w,P=_.error||((b=_[0])===null||b===void 0?void 0:b.error);if(P){J(cn,`RPC '${e}' stream ${i} received error:`,P);const E=P.status;let A=function(O){const C=It[O];if(C!==void 0)return C$(C)}(E),S=P.message;A===void 0&&(A=q.INTERNAL,S="Unknown error status: "+E+" with message "+P.message),m=!0,g.So(new te(A,S)),d.close()}else J(cn,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),y(s,qM.STAT_EVENT,v=>{v.stat===ux.PROXY?J(cn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===ux.NOPROXY&&J(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(){return typeof window<"u"?window:null}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return new ZH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Sn(n.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XG extends uL{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=nG(this.serializer,e),r=function(a){if(!("targetChange"in a))return fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Nn(o.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xx(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=rg(l)?{documents:V$(a,l)}:{query:F$(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=R$(a,o.resumeToken);const u=bx(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){s.readTime=yu(a,o.snapshotVersion.toTimestamp());const u=bx(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=iG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xx(this.serializer),n.removeTarget=e,this.a_(n)}}class JG extends uL{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ce(!!e.streamToken),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=rG(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>og(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,wx(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(q.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,wx(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class eK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Sn(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Zs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.L_.add(4),await Th(u),u.q_.set("Unknown"),u.L_.delete(4),await tv(u)}(this))})}),this.q_=new eK(r,i)}}async function tv(t){if(Zs(t))for(const e of t.B_)await e(!0)}async function Th(t){for(const e of t.B_)await e(!1)}function cL(t,e){const n=ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),XE(n)?QE(n):ic(n).r_()&&YE(n,e))}function KE(t,e){const n=ve(t),r=ic(n);n.N_.delete(e),r.r_()&&dL(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function YE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).A_(e)}function dL(t,e){t.Q_.xe(e),ic(t).R_(e)}function QE(t){t.Q_=new YH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.q_.v_()}function XE(t){return Zs(t)&&!ic(t).n_()&&t.N_.size>0}function Zs(t){return ve(t).L_.size===0}function fL(t){t.Q_=void 0}async function nK(t){t.q_.set("Online")}async function rK(t){t.N_.forEach((e,n)=>{YE(t,e)})}async function iK(t,e){fL(t),XE(t)?(t.q_.M_(e),QE(t)):t.q_.set("Unknown")}async function aK(t,e,n){if(t.q_.set("Online"),e instanceof j$&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cg(t,r)}else if(e instanceof vm?t.Q_.Ke(e):e instanceof k$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{const r=await oL(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),dL(a,l);const d=new Ui(c.target,l,u,c.sequenceNumber);YE(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await cg(t,r)}}async function cg(t,e,n){if(!To(e))throw e;t.L_.add(1),await Th(t),t.q_.set("Offline"),n||(n=()=>oL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await tv(t)})}function hL(t,e){return e().catch(n=>cg(t,n,e))}async function Ah(t){const e=ve(t),n=ho(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oK(e);)try{const i=await zG(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sK(e,i)}catch(i){await cg(e,i)}pL(e)&&mL(e)}function oK(t){return Zs(t)&&t.O_.length<10}function sK(t,e){t.O_.push(e);const n=ho(t);n.r_()&&n.V_&&n.m_(e.mutations)}function pL(t){return Zs(t)&&!ho(t).n_()&&t.O_.length>0}function mL(t){ho(t).start()}async function lK(t){ho(t).p_()}async function uK(t){const e=ho(t);for(const n of t.O_)e.m_(n.mutations)}async function cK(t,e,n){const r=t.O_.shift(),i=VE.from(r,e,n);await hL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ah(t)}async function dK(t,e){e&&ho(t).V_&&await async function(r,i){if(function(o){return HH(o)&&o!==q.ABORTED}(i.code)){const a=r.O_.shift();ho(r).s_(),await hL(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ah(r)}}(t,e),pL(t)&&mL(t)}async function PO(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.L_.add(3),await Th(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await tv(n)}async function fK(t,e){const n=ve(t);e?(n.L_.delete(2),await tv(n)):e||(n.L_.add(2),await Th(n),n.q_.set("Unknown"))}function ic(t){return t.K_||(t.K_=function(n,r,i){const a=ve(n);return a.w_(),new XG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:nK.bind(null,t),Ro:rK.bind(null,t),mo:iK.bind(null,t),d_:aK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),XE(t)?QE(t):t.q_.set("Unknown")):(await t.K_.stop(),fL(t))})),t.K_}function ho(t){return t.U_||(t.U_=function(n,r,i){const a=ve(n);return a.w_(),new JG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lK.bind(null,t),mo:dK.bind(null,t),f_:uK.bind(null,t),g_:cK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ah(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new JE(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZE(t,e){if(Sn("AsyncQueue",`${e}: ${t}`),To(t))return new te(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=md(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Yl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.W_=new ut(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vu{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new vu(e,n,Yl.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class pK{constructor(){this.queries=NO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ve(n),a=i.queries;i.queries=NO(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new te(q.ABORTED,"Firestore shutting down"))}}function NO(){return new Ao(t=>y$(t),Hy)}async function eS(t,e){const n=ve(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new hK,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=ZE(o,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&nS(n)}async function tS(t,e){const n=ve(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mK(t,e){const n=ve(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&nS(n)}function gK(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function nS(t){t.Y_.forEach(e=>{e.next()})}var Ix,CO;(CO=Ix||(Ix={})).ea="default",CO.Cache="cache";class rS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.key=e}}class yL{constructor(e){this.key=e}}class yK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=v$(e),this.Ra=new Yl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new OO,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),m=Eh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),v=!0):this.ga(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(m,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return y(m)-y(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new vu(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new OO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new yL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new gL(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bK{constructor(e){this.key=e,this.va=!1}}class wK{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ao(s=>y$(s),Hy),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(re.comparator),this.Na=new Map,this.La=new WE,this.Ba={},this.ka=new Map,this.qa=Ms.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xK(t,e,n=!0){const r=EL(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await vL(r,e,n,!0),i}async function _K(t,e){const n=EL(t);await vL(n,e,!0,!1)}async function vL(t,e,n,r){const i=await qG(t.localStore,wr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await EK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cL(t.remoteStore,i),s}async function EK(t,e,n,r,i){t.Ka=(d,h,m)=>async function(y,v,b,w){let _=v.view.ma(b);_.ns&&(_=await TO(y.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,_)));const P=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(_,y.isPrimaryClient,P,E);return jO(y,v.targetId,A.wa),A.snapshot}(t,d,h,m);const a=await TO(t.localStore,e,!0),o=new yK(e,a.Ts),s=o.ma(a.documents),l=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);jO(t,n,u.wa);const c=new vK(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function SK(t,e,n){const r=ve(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!Hy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ax(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KE(r.remoteStore,i.targetId),Px(r,i.targetId)}).catch(Xs)):(Px(r,i.targetId),await Ax(r.localStore,i.targetId,!0))}async function TK(t,e){const n=ve(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KE(n.remoteStore,r.targetId))}async function AK(t,e,n){const r=SL(t);try{const i=await function(o,s){const l=ve(o),u=mt.now(),c=s.reduce((m,g)=>m.add(g.key),Se());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Zn(),y=Se();return l.cs.getEntries(m,c).next(v=>{g=v,g.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{d=v;const b=[];for(const w of s){const _=qH(w,d.get(w.key).overlayedDocument);_!=null&&b.push(new ca(w.key,_,l$(_.value.mapValue),gn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,s)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:w$(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ut(we)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ih(r,i.changes),await Ah(r.remoteStore)}catch(i){const a=ZE(i,"Failed to persist write");n.reject(a)}}async function bL(t,e){const n=ve(t);try{const r=await BG(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ce(o.va):i.removedDocuments.size>0&&(ce(o.va),o.va=!1))}),await Ih(n,r,e)}catch(r){await Xs(r)}}function kO(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ve(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&nS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IK(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new ut(re.comparator);o=o.insert(a,xt.newNoDocument(a,fe.min()));const s=Se().add(a),l=new Qy(fe.min(),new Map,new ut(we),o,s);await bL(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),iS(r)}else await Ax(r.localStore,e,!1).then(()=>Px(r,e,n)).catch(Xs)}async function PK(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await FG(n.localStore,e);xL(n,r,null),wL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ih(n,i)}catch(i){await Xs(i)}}async function OK(t,e,n){const r=ve(t);try{const i=await function(o,s){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(ce(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);xL(r,e,n),wL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ih(r,i)}catch(i){await Xs(i)}}function wL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function xL(t,e,n){const r=ve(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Px(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_L(t,r)})}function _L(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(KE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iS(t))}function jO(t,e,n){for(const r of n)r instanceof gL?(t.La.addReference(r.key,e),NK(t,r)):r instanceof yL?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_L(t,r.key)):ue()}function NK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),iS(t))}function iS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new bK(n)),t.Oa=t.Oa.insert(n,r),cL(t.remoteStore,new Ui(wr(_h(n.path)),r,"TargetPurposeLimboResolution",gr.oe))}}async function Ih(t,e,n){const r=ve(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n?.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=GE.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ve(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(u,h=>L.forEach(h.$i,m=>c.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>L.forEach(h.Ui,m=>c.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!To(d))throw d;J("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=c.os.get(h),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,y)}}}(r.localStore,a))}async function CK(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await aL(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new te(q.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ih(n,r.hs)}}function kK(t,e){const n=ve(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function EL(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IK.bind(null,e),e.Ca.d_=mK.bind(null,e.eventManager),e.Ca.$a=gK.bind(null,e.eventManager),e}function SL(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OK.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ev(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iL(this.persistence,new rL,e.initialUser,this.serializer)}Ga(e){return new nL(Zy.Zr,this.serializer)}Wa(e){return new sL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class TL extends Af{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await SL(this.Ja.syncEngine),await Ah(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return iL(this.persistence,new rL,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new xG(r,e.asyncQueue,n)}Ha(e,n){const r=new Q7(n,this.persistence);return new Y7(e.asyncQueue,r)}Ga(e){const n=$G(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new HE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,QG(),bm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new sL}}class If{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CK.bind(null,this.syncEngine),await fK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pK}()}createDatastore(e){const n=ev(e.databaseInfo.databaseId),r=function(a){return new YG(a)}(e.databaseInfo);return function(a,o,s,l){return new ZG(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new tK(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>kO(this.syncEngine,n,0),function(){return IO.D()?new IO:new HG}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const d=new wK(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ve(i);J("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Th(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}If.provider={build:()=>new If};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=KM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ZE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fb(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RK(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PO(e.remoteStore,i)),t._onlineComponents=e}async function RK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await fb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await fb(t,new Af)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await fb(t,new Af);return t._offlineComponents}async function AL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await RO(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await RO(t,new If))),t._onlineComponents}function DK(t){return AL(t).then(e=>e.syncEngine)}async function dg(t){const e=await AL(t),n=e.eventManager;return n.onListen=xK.bind(null,e.syncEngine),n.onUnlisten=SK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_K.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TK.bind(null,e.syncEngine),n}function MK(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new aS({next:h=>{c.Za(),o.enqueueAndForget(()=>tS(a,d));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new te(q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new te(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new rS(_h(s.path),c,{includeMetadataChanges:!0,_a:!0});return eS(a,d)}(await dg(t),t.asyncQueue,e,n,r)),r.promise}function $K(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new aS({next:h=>{c.Za(),o.enqueueAndForget(()=>tS(a,d)),h.fromCache&&l.source==="server"?u.reject(new te(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new rS(s,c,{includeMetadataChanges:!0,_a:!0});return eS(a,d)}(await dg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,n){if(!n)throw new te(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LK(t,e,n,r){if(e===!0&&r===!0)throw new te(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MO(t){if(!re.isDocumentKey(t))throw new te(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $O(t){if(re.isDocumentKey(t))throw new te(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nv(t);throw new te(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new te(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new te(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new te(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $7;switch(r.type){case"firstParty":return new B7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DO.get(n);r&&(J("ComponentProvider","Removing Datastore"),DO.delete(n),r.terminate())}(this),Promise.resolve()}}function VK(t,e,n,r={}){var i;const a=(t=Cn(t,rv))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Jt.MOCK_USER;else{s=ZD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Jt(u)}t._authCredentials=new L7(new GM(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class to extends Io{constructor(e,n,r){super(e,n,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new re(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function hn(t,e,...n){if(t=Ye(t),PL("collection","path",e),t instanceof rv){const r=Le.fromString(e,...n);return $O(r),new to(t,null,r)}{if(!(t instanceof yn||t instanceof to))throw new te(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return $O(r),new to(t.firestore,null,r)}}function Ge(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=KM.newId()),PL("doc","path",e),t instanceof rv){const r=Le.fromString(e,...n);return MO(r),new yn(t,null,new re(r))}{if(!(t instanceof yn||t instanceof to))throw new te(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return MO(r),new yn(t.firestore,t instanceof to?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lL(this,"async_queue_retry"),this.Vu=()=>{const r=bm();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!To(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=JE.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function FO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=-1;class gi extends rv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VO(e),this._firestoreClient=void 0,await e}}}function BK(t,e,n){n||(n="(default)");const r=ua(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(uu(a,e))return i;throw new te(q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new te(q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function UK(t,e){const n=typeof t=="object"?t:Vy(),r=typeof t=="string"?t:"(default)",i=ua(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=QD("firestore");a&&VK(i,...a)}return i}function iv(t){if(t._terminated)throw new te(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OL(t),t._firestoreClient}function OL(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,c){return new vH(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IL(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jK(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}}(t._componentsProvider))}function zK(t,e){Ns("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return qK(t,If.provider,{build:r=>new TL(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function qK(t,e,n){if((t=Cn(t,gi))._firestoreClient||t._terminated)throw new te(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new te(q.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},OL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bu(Ct.fromBase64String(e))}catch(n){throw new te(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bu(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=/^__.*__$/;class HK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new rc(e,this.data,n,this.fieldTransforms)}}class NL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class lS{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(CL(this.Cu)&&WK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class GK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ev(e)}Qu(e,n,r,i=!1){return new lS({Cu:e,methodName:n,qu:r,path:ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sv(t){const e=t._freezeSettings(),n=ev(t._databaseId);return new GK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kL(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);cS("Data must be an object, but it was:",o,r);const s=jL(r,o);let l,u;if(a.merge)l=new Ln(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const h=Ox(e,d,n);if(!o.contains(h))throw new te(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DL(c,h)||c.push(h)}l=new Ln(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new HK(new mn(s),l,u)}class lv extends ov{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lv}}class uS extends ov{_toFieldTransform(e){return new I$(e.path,new pu)}isEqual(e){return e instanceof uS}}function KK(t,e,n,r){const i=t.Qu(1,e,n);cS("Data must be an object, but it was:",i,r);const a=[],o=mn.empty();Js(r,(l,u)=>{const c=dS(e,l,n);u=Ye(u);const d=i.Nu(c);if(u instanceof lv)a.push(c);else{const h=Ph(u,d);h!=null&&(a.push(c),o.set(c,h))}});const s=new Ln(a);return new NL(o,s,i.fieldTransforms)}function YK(t,e,n,r,i,a){const o=t.Qu(1,e,n),s=[Ox(e,r,n)],l=[i];if(a.length%2!=0)throw new te(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Ox(e,a[h])),l.push(a[h+1]);const u=[],c=mn.empty();for(let h=s.length-1;h>=0;--h)if(!DL(u,s[h])){const m=s[h];let g=l[h];g=Ye(g);const y=o.Nu(m);if(g instanceof lv)u.push(m);else{const v=Ph(g,y);v!=null&&(u.push(m),c.set(m,v))}}const d=new Ln(u);return new NL(c,d,o.fieldTransforms)}function QK(t,e,n,r=!1){return Ph(n,t.Qu(r?4:3,e))}function Ph(t,e){if(RL(t=Ye(t)))return cS("Unsupported field value:",e,t),jL(t,e);if(t instanceof ov)return function(r,i){if(!CL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Ph(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=mt.fromDate(r);return{timestampValue:yu(i.serializer,a)}}if(r instanceof mt){const a=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yu(i.serializer,a)}}if(r instanceof oS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bu)return{bytesValue:R$(i.serializer,r._byteString)};if(r instanceof yn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:UE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sS)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return $E(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${nv(r)}`)}(t,e)}function jL(t,e){const n={};return i$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const a=Ph(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function RL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof oS||t instanceof bu||t instanceof yn||t instanceof ov||t instanceof sS)}function cS(t,e,n){if(!RL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ox(t,e,n){if((e=Ye(e))instanceof av)return e._internalPath;if(typeof e=="string")return dS(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const XK=new RegExp("[~\\*/\\[\\]]");function dS(t,e,n){if(e.search(XK)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new av(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(q.INVALID_ARGUMENT,s+t+l)}function DL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JK extends ML{data(){return super.data()}}function uv(t,e){return typeof e=="string"?dS(t,e):e instanceof av?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fS{}class LL extends fS{}function no(t,e,...n){let r=[];e instanceof fS&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof hS).length,s=a.filter(l=>l instanceof cv).length;if(o>1||o>0&&s>0)throw new te(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cv extends LL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cv(e,n,r)}_apply(e){const n=this._parse(e);return VL(e._query,n),new Io(e.firestore,e.converter,yx(e._query,n))}_parse(e){const n=sv(e.firestore);return function(a,o,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new te(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){UO(d,c);const m=[];for(const g of d)m.push(BO(l,a,g));h={arrayValue:{values:m}}}else h=BO(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||UO(d,c),h=QK(s,o,d,c==="in"||c==="not-in");return Pe.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ro(t,e,n){const r=e,i=uv("where",t);return cv._create(i,r,n)}class hS extends fS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)VL(o,l),o=yx(o,l)}(e._query,n),new Io(e.firestore,e.converter,yx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pS extends LL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pS(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new te(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(a,o)}(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new nc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ZK(t,e="asc"){const n=e,r=uv("orderBy",t);return pS._create(r,n)}function BO(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new te(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g$(e)&&n.indexOf("/")!==-1)throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!re.isDocumentKey(r))throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _f(t,new re(r))}if(n instanceof yn)return _f(t,n._key);throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(n)}.`)}function UO(t,e){if(!Array.isArray(t)||t.length===0)throw new te(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VL(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eY{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new sS(a)}convertGeoPoint(e){return new oS(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=DE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wf(e));default:return null}}convertTimestamp(e){const n=ia(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);ce(q$(r));const i=new Cs(r.get(1),r.get(3)),a=new re(r.popFirst(5));return i.isEqual(n)||Sn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BL extends ML{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wm extends BL{data(e={}){return super.data(e)}}class UL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wm(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new wm(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new wm(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:tY(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){t=Cn(t,yn);const e=Cn(t.firestore,gi);return MK(iv(e),t._key).then(n=>WL(e,t,n))}class mS extends eY{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function zL(t){t=Cn(t,Io);const e=Cn(t.firestore,gi),n=iv(e),r=new mS(e);return $L(t._query),$K(n,t._query).then(i=>new UL(e,r,t,i))}function Ql(t,e,n){t=Cn(t,yn);const r=Cn(t.firestore,gi),i=FL(t.converter,e,n);return dv(r,[kL(sv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gn.none())])}function yr(t,e,n,...r){t=Cn(t,yn);const i=Cn(t.firestore,gi),a=sv(i);let o;return o=typeof(e=Ye(e))=="string"||e instanceof av?YK(a,"updateDoc",t._key,e,n,r):KK(a,"updateDoc",t._key,e),dv(i,[o.toMutation(t._key,gn.exists(!0))])}function qL(t){return dv(Cn(t.firestore,gi),[new Yy(t._key,gn.none())])}function ys(t,e){const n=Cn(t.firestore,gi),r=Ge(t),i=FL(t.converter,e);return dv(n,[kL(sv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function io(t,...e){var n,r,i;t=Ye(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||FO(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(FO(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof yn)u=Cn(t.firestore,gi),c=_h(t._key.path),l={next:d=>{e[o]&&e[o](WL(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Cn(t,Io);u=Cn(d.firestore,gi),c=d._query;const h=new mS(u);l={next:m=>{e[o]&&e[o](new UL(u,h,d,m))},error:e[o+1],complete:e[o+2]},$L(t._query)}return function(h,m,g,y){const v=new aS(y),b=new rS(m,v,g);return h.asyncQueue.enqueueAndForget(async()=>eS(await dg(h),b)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>tS(await dg(h),b))}}(iv(u),c,s,l)}function dv(t,e){return function(r,i){const a=new di;return r.asyncQueue.enqueueAndForget(async()=>AK(await DK(r),i,a)),a.promise}(iv(t),e)}function WL(t,e,n){const r=n.docs.get(e._key),i=new mS(t);return new BL(t,i,e._key,r,new vd(n.hasPendingWrites,n.fromCache),e.converter)}class nY{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=HL(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function rY(t){return new nY(t)}class iY{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=If.provider,this._offlineComponentProvider={build:n=>new TL(n,e?.cacheSizeBytes,this.forceOwnership)}}}function HL(t){return new iY(void 0)}function Tt(){return new uS("serverTimestamp")}(function(e,n=!0){(function(i){tc=i})(Qs),Wr(new Sr("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new gi(new V7(r.getProvider("auth-internal")),new z7(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),zn(RP,"4.7.3",e),zn(RP,"4.7.3","esm2017")})();var aY="firebase",oY="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(aY,oY,"app");const sY=(t,e)=>e.some(n=>t instanceof n);let zO,qO;function lY(){return zO||(zO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uY(){return qO||(qO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GL=new WeakMap,Nx=new WeakMap,KL=new WeakMap,hb=new WeakMap,gS=new WeakMap;function cY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ao(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GL.set(n,t)}).catch(()=>{}),gS.set(e,t),e}function dY(t){if(Nx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Nx.set(t,e)}let Cx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fY(t){Cx=t(Cx)}function hY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pb(this),e,...n);return KL.set(r,e.sort?e.sort():[e]),ao(r)}:uY().includes(t)?function(...e){return t.apply(pb(this),e),ao(GL.get(this))}:function(...e){return ao(t.apply(pb(this),e))}}function pY(t){return typeof t=="function"?hY(t):(t instanceof IDBTransaction&&dY(t),sY(t,lY())?new Proxy(t,Cx):t)}function ao(t){if(t instanceof IDBRequest)return cY(t);if(hb.has(t))return hb.get(t);const e=pY(t);return e!==t&&(hb.set(t,e),gS.set(e,t)),e}const pb=t=>gS.get(t);function mY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ao(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ao(o.result),l.oldVersion,l.newVersion,ao(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const gY=["get","getKey","getAll","getAllKeys","count"],yY=["put","add","delete","clear"],mb=new Map;function WO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mb.get(e))return mb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gY.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return mb.set(e,a),a}fY(t=>({...t,get:(e,n,r)=>WO(e,n)||t.get(e,n,r),has:(e,n)=>!!WO(e,n)||t.has(e,n)}));const YL="@firebase/installations",yS="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1e4,XL=`w:${yS}`,JL="FIS_v2",vY="https://firebaseinstallations.googleapis.com/v1",bY=60*60*1e3,wY="installations",xY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new Ys(wY,xY,_Y);function ZL(t){return t instanceof Ir&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV({projectId:t}){return`${vY}/projects/${t}/installations`}function tV(t){return{token:t.token,requestStatus:2,expiresIn:SY(t.expiresIn),creationTime:Date.now()}}async function nV(t,e){const r=(await e.json()).error;return $s.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EY(t,{refreshToken:e}){const n=rV(t);return n.append("Authorization",TY(e)),n}async function iV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SY(t){return Number(t.replace("s","000"))}function TY(t){return`${JL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eV(t),i=rV(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:JL,appId:t.appId,sdkVersion:XL},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await iV(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:tV(u.authToken)}}else throw await nV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=/^[cdef][\w-]{21}$/,kx="";function OY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=NY(t);return PY.test(n)?n:kx}catch{return kx}}function NY(t){return IY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new Map;function sV(t,e){const n=fv(t);lV(n,e),CY(n,e)}function lV(t,e){const n=oV.get(t);if(n)for(const r of n)r(e)}function CY(t,e){const n=kY();n&&n.postMessage({key:t,fid:e}),jY()}let as=null;function kY(){return!as&&"BroadcastChannel"in self&&(as=new BroadcastChannel("[Firebase] FID Change"),as.onmessage=t=>{lV(t.data.key,t.data.fid)}),as}function jY(){oV.size===0&&as&&(as.close(),as=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY="firebase-installations-database",DY=1,Ls="firebase-installations-store";let gb=null;function vS(){return gb||(gb=mY(RY,DY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ls)}}})),gb}async function hg(t,e){const n=fv(t),i=(await vS()).transaction(Ls,"readwrite"),a=i.objectStore(Ls),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&sV(t,e.fid),e}async function uV(t){const e=fv(t),r=(await vS()).transaction(Ls,"readwrite");await r.objectStore(Ls).delete(e),await r.done}async function hv(t,e){const n=fv(t),i=(await vS()).transaction(Ls,"readwrite"),a=i.objectStore(Ls),o=await a.get(n),s=e(o);return s===void 0?await a.delete(n):await a.put(s,n),await i.done,s&&(!o||o.fid!==s.fid)&&sV(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t){let e;const n=await hv(t.appConfig,r=>{const i=MY(r),a=$Y(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===kx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MY(t){const e=t||{fid:OY(),registrationStatus:0};return cV(e)}function $Y(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject($s.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=LY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VY(t)}:{installationEntry:e}}async function LY(t,e){try{const n=await AY(t,e);return hg(t.appConfig,n)}catch(n){throw ZL(n)&&n.customData.serverCode===409?await uV(t.appConfig):await hg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VY(t){let e=await HO(t.appConfig);for(;e.registrationStatus===1;)await aV(100),e=await HO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bS(t);return r||n}return e}function HO(t){return hv(t,e=>{if(!e)throw $s.create("installation-not-found");return cV(e)})}function cV(t){return FY(t)?{fid:t.fid,registrationStatus:0}:t}function FY(t){return t.registrationStatus===1&&t.registrationTime+QL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BY({appConfig:t,heartbeatServiceProvider:e},n){const r=UY(t,n),i=EY(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:XL,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await iV(()=>fetch(r,s));if(l.ok){const u=await l.json();return tV(u)}else throw await nV("Generate Auth Token",l)}function UY(t,{fid:e}){return`${eV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t,e=!1){let n;const r=await hv(t.appConfig,a=>{if(!dV(a))throw $s.create("not-registered");const o=a.authToken;if(!e&&WY(o))return a;if(o.requestStatus===1)return n=zY(t,e),a;{if(!navigator.onLine)throw $s.create("app-offline");const s=GY(a);return n=qY(t,s),s}});return n?await n:r.authToken}async function zY(t,e){let n=await GO(t.appConfig);for(;n.authToken.requestStatus===1;)await aV(100),n=await GO(t.appConfig);const r=n.authToken;return r.requestStatus===0?wS(t,e):r}function GO(t){return hv(t,e=>{if(!dV(e))throw $s.create("not-registered");const n=e.authToken;return KY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qY(t,e){try{const n=await BY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await hg(t.appConfig,r),n}catch(n){if(ZL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hg(t.appConfig,r)}throw n}}function dV(t){return t!==void 0&&t.registrationStatus===2}function WY(t){return t.requestStatus===2&&!HY(t)}function HY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bY}function GY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function KY(t){return t.requestStatus===1&&t.requestTime+QL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(t){const e=t,{installationEntry:n,registrationPromise:r}=await bS(e);return r?r.catch(console.error):wS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QY(t,e=!1){const n=t;return await XY(n),(await wS(n,e)).token}async function XY(t){const{registrationPromise:e}=await bS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(t){if(!t||!t.options)throw yb("App Configuration");if(!t.name)throw yb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yb(t){return $s.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="installations",ZY="installations-internal",eQ=t=>{const e=t.getProvider("app").getImmediate(),n=JY(e),r=ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},tQ=t=>{const e=t.getProvider("app").getImmediate(),n=ua(e,fV).getImmediate();return{getId:()=>YY(n),getToken:i=>QY(n,i)}};function nQ(){Wr(new Sr(fV,eQ,"PUBLIC")),Wr(new Sr(ZY,tQ,"PRIVATE"))}nQ();zn(YL,yS);zn(YL,yS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="analytics",rQ="firebase_id",iQ="origin",aQ=60*1e3,oQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new Ly("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nr=new Ys("analytics","Analytics",sQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t){if(!t.startsWith(xS)){const e=nr.create("invalid-gtag-resource",{gtagURL:t});return qn.warn(e.message),""}return t}function hV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function cQ(t,e){const n=uQ("firebase-js-sdk-policy",{createScriptURL:lQ}),r=document.createElement("script"),i=`${xS}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function dQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fQ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const l=(await hV(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){qn.error(s)}t("config",i,a)}async function hQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await hV(n);for(const l of o){const u=s.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)a.push(c);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){qn.error(a)}}function pQ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await hQ(t,e,n,s,l)}else if(a==="config"){const[s,l]=o;await fQ(t,e,n,r,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){qn.error(s)}}return i}function mQ(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=pQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function gQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=30,vQ=1e3;class bQ{constructor(e={},n=vQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pV=new bQ;function wQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xQ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:wQ(r)},a=oQ.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function _Q(t,e=pV,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw nr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw nr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new TQ;return setTimeout(async()=>{s.abort()},aQ),mV({appId:r,apiKey:i,measurementId:a},o,s,e)}async function mV(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pV){var a;const{appId:o,measurementId:s}=t;try{await EQ(r,e)}catch(l){if(s)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:s};throw l}try{const l=await xQ(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!SQ(u)){if(i.deleteThrottleMetadata(o),s)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:s};throw l}const c=Number((a=u?.customData)===null||a===void 0?void 0:a.httpStatus)===503?iP(n,i.intervalMillis,yQ):iP(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),qn.debug(`Calling attemptFetch again in ${c} millis`),mV(t,d,r,i)}}function EQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SQ(t){if(!(t instanceof Ir)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class TQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AQ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(){if(gE())try{await nM()}catch(t){return qn.warn(nr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return qn.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PQ(t,e,n,r,i,a,o){var s;const l=_Q(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>qn.error(m)),e.push(l);const u=IQ().then(m=>{if(m)return r.getId()}),[c,d]=await Promise.all([l,u]);gQ(a)||cQ(a,c.measurementId),i("js",new Date);const h=(s=o?.config)!==null&&s!==void 0?s:{};return h[iQ]="firebase",h.update=!0,d!=null&&(h[rQ]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e){this.app=e}_delete(){return delete $d[this.app.options.appId],Promise.resolve()}}let $d={},KO=[];const YO={};let vb="dataLayer",NQ="gtag",QO,gV,XO=!1;function CQ(){const t=[];if(eM()&&t.push("This is a browser extension environment."),o8()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nr.create("invalid-analytics-context",{errorInfo:e});qn.warn(n.message)}}function kQ(t,e,n){CQ();const r=t.options.appId;if(!r)throw nr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nr.create("no-api-key");if($d[r]!=null)throw nr.create("already-exists",{id:r});if(!XO){dQ(vb);const{wrappedGtag:a,gtagCore:o}=mQ($d,KO,YO,vb,NQ);gV=a,QO=o,XO=!0}return $d[r]=PQ(t,KO,YO,e,QO,vb,n),new OQ(t)}function jQ(t=Vy()){t=Ye(t);const e=ua(t,pg);return e.isInitialized()?e.getImmediate():RQ(t)}function RQ(t,e={}){const n=ua(t,pg);if(n.isInitialized()){const i=n.getImmediate();if(uu(e,n.getOptions()))return i;throw nr.create("already-initialized")}return n.initialize({options:e})}function DQ(t,e,n,r){t=Ye(t),AQ(gV,$d[t.app.options.appId],e,n,r).catch(i=>qn.error(i))}const JO="@firebase/analytics",ZO="0.10.8";function MQ(){Wr(new Sr(pg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return kQ(r,i,n)},"PUBLIC")),Wr(new Sr("analytics-internal",t,"PRIVATE")),zn(JO,ZO),zn(JO,ZO,"esm2017");function t(e){try{const n=e.getProvider(pg).getImmediate();return{logEvent:(r,i,a)=>DQ(n,r,i,a)}}catch(n){throw nr.create("interop-component-reg-failed",{reason:n})}}}MQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="firebasestorage.googleapis.com",vV="storageBucket",$Q=2*60*1e3,LQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends Ir{constructor(e,n,r=0){super(bb(e),`Firebase Storage: ${n} (${bb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function bb(t){return"storage/"+t}function _S(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,t)}function VQ(t){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function FQ(t){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,t)}function UQ(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zQ(t){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qQ(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WQ(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function HQ(t){return new Et(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function GQ(t){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KQ(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vV+"' property when initializing the app?")}function YQ(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QQ(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XQ(t){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jx(t){return new Et(_t.INVALID_ARGUMENT,t)}function bV(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function JQ(t){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ld(t,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qc(t){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw GQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=n===yV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${v}`,"i"),_=[{regex:s,indices:l,postModify:a},{regex:m,indices:g,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<_.length;P++){const E=_[P],A=E.regex.exec(e);if(A){const S=A[E.indices.bucket];let T=A[E.indices.path];T||(T=""),r=new er(S,T),E.postModify(r);break}}if(r==null)throw HQ(e);return r}}class ZQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(m,l())},v)}function h(){a&&clearTimeout(a)}function m(v,...b){if(u){h();return}if(v){h(),c.call(null,v,...b);return}if(l()||o){h(),c.call(null,v,...b);return}r<64&&(r*=2);let _;s===1?(s=2,_=0):_=(r+Math.random())*1e3,d(_)}let g=!1;function y(v){g||(g=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),d(0)):v||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,y(!0)},n),y}function tX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(t){return t!==void 0}function rX(t){return typeof t=="object"&&!Array.isArray(t)}function ES(t){return typeof t=="string"||t instanceof String}function eN(t){return SS()&&t instanceof Blob}function SS(){return typeof Blob<"u"}function tN(t,e,n,r){if(r<e)throw jx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function wV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vs||(vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n,r,i,a,o,s,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Cp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===vs.NO_ERROR,l=a.getStatus();if(!s||iX(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===vs.ABORT;r(!1,new Cp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Cp(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());nX(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=_S();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bV():WQ();o(l)}else{const l=qQ();o(l)}};this.canceled_?n(!1,new Cp(!1,null,!0)):this.backoffId_=eX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function oX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cX(t,e,n,r,i,a,o=!0){const s=wV(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return lX(u,e),oX(u,n),sX(u,a),uX(u,r),new aX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fX(...t){const e=dX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(SS())return new Blob(t);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t){if(typeof atob>"u")throw XQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wb{constructor(e,n){this.data=e,this.contentType=n||null}}function mX(t,e){switch(t){case ii.RAW:return new wb(xV(e));case ii.BASE64:case ii.BASE64URL:return new wb(_V(t,e));case ii.DATA_URL:return new wb(yX(e),vX(e))}throw _S()}function xV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gX(t){let e;try{e=decodeURIComponent(t)}catch{throw Ld(ii.DATA_URL,"Malformed data URL.")}return xV(e)}function _V(t,e){switch(t){case ii.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Ld(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Ld(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pX(e)}catch(i){throw i.message.includes("polyfill")?i:Ld(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class EV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ld(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function yX(t){const e=new EV(t);return e.base64?_V(ii.BASE64,e.rest):gX(e.rest)}function vX(t){return new EV(t).contentType}function bX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){let r=0,i="";eN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(eN(this.data_)){const r=this.data_,i=hX(r,e,n);return i===null?null:new Da(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Da(r,!0)}}static getBlob(...e){if(SS()){const n=e.map(r=>r instanceof Da?r.data_:r);return new Da(fX.apply(null,n))}else{const n=e.map(o=>ES(o)?mX(ii.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new Da(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){let e;try{e=JSON.parse(t)}catch{return null}return rX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function TV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t,e){return e}class xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||_X}}let kp=null;function EX(t){return!ES(t)||t.length<2?t:TV(t)}function AV(){if(kp)return kp;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(a,o){return EX(o)}const n=new xn("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new xn("size");return i.xform=r,t.push(i),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),kp=t,kp}function SX(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new er(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function TX(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return SX(r,t),r}function IV(t,e,n){const r=SV(e);return r===null?null:TX(t,r,n)}function AX(t,e,n,r){const i=SV(e);if(i===null||!ES(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),m=pv(h,n,r),g=wV({alt:"media",token:u});return m+g})[0]}function IX(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class TS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){if(!t)throw _S()}function PX(t,e){function n(r,i){const a=IV(t,i,e);return PV(a!==null),a}return n}function OX(t,e){function n(r,i){const a=IV(t,i,e);return PV(a!==null),AX(a,i,t.host,t._protocol)}return n}function OV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=UQ():i=BQ():n.getStatus()===402?i=FQ(t.bucket):n.getStatus()===403?i=zQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function NV(t){const e=OV(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=VQ(t.path)),a.serverResponse=i.serverResponse,a}return n}function NX(t,e,n){const r=e.fullServerUrl(),i=pv(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new TS(i,a,OX(t,n),o);return s.errorHandler=NV(e),s}function CX(t,e){const n=e.fullServerUrl(),r=pv(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function o(l,u){}const s=new TS(r,i,o,a);return s.successCodes=[200,204],s.errorHandler=NV(e),s}function kX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function jX(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kX(null,e)),r}function RX(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let _="";for(let P=0;P<2;P++)_=_+Math.random().toString().slice(2);return _}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=jX(e,r,i),c=IX(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=Da.getBlob(d,r,h);if(m===null)throw YQ();const g={name:u.fullPath},y=pv(a,t.host,t._protocol),v="POST",b=t.maxUploadRetryTime,w=new TS(y,v,PX(t,n),b);return w.urlParams=g,w.headers=o,w.body=m.uploadData(),w.errorHandler=OV(e),w}class DX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Qc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MX extends DX{initXhr(){this.xhr_.responseType="text"}}function AS(){return new MX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vs(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TV(this._location.path)}get storage(){return this._service}get parent(){const e=wX(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new Vs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JQ(e)}}function $X(t,e,n){t._throwIfRoot("uploadBytes");const r=RX(t.storage,t._location,AV(),new Da(e,!0),n);return t.storage.makeRequestWithTokens(r,AS).then(i=>({metadata:i,ref:t}))}function LX(t){t._throwIfRoot("getDownloadURL");const e=NX(t.storage,t._location,AV());return t.storage.makeRequestWithTokens(e,AS).then(n=>{if(n===null)throw QQ();return n})}function VX(t){t._throwIfRoot("deleteObject");const e=CX(t.storage,t._location);return t.storage.makeRequestWithTokens(e,AS)}function FX(t,e){const n=xX(t._location.path,e),r=new er(t._location.bucket,n);return new Vs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t){return/^[A-Za-z]+:\/\//.test(t)}function UX(t,e){return new Vs(t,e)}function CV(t,e){if(t instanceof IS){const n=t;if(n._bucket==null)throw KQ();const r=new Vs(n,n._bucket);return e!=null?CV(r,e):r}else return e!==void 0?FX(t,e):t}function zX(t,e){if(e&&BX(e)){if(t instanceof IS)return UX(t,e);throw jx("To use ref(service, url), the first argument must be a Storage instance.")}else return CV(t,e)}function nN(t,e){const n=e?.[vV];return n==null?null:er.makeFromBucketSpec(n,t)}function qX(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ZD(i,t.app.options.projectId))}class IS{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=yV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$Q,this._maxUploadRetryTime=LQ,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=nN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=nN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vs(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new ZQ(bV());{const o=cX(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rN="@firebase/storage",iN="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="storage";function WX(t,e,n){return t=Ye(t),$X(t,e,n)}function HX(t){return t=Ye(t),LX(t)}function GX(t){return t=Ye(t),VX(t)}function aN(t,e){return t=Ye(t),zX(t,e)}function oN(t=Vy(),e){t=Ye(t);const r=ua(t,kV).getImmediate({identifier:e}),i=QD("storage");return i&&KX(r,...i),r}function KX(t,e,n,r={}){qX(t,e,n,r)}function YX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IS(n,r,i,e,Qs)}function QX(){Wr(new Sr(kV,YX,"PUBLIC").setMultipleInstances(!0)),zn(rN,iN,""),zn(rN,iN,"esm2017")}QX();const sN={apiKey:"AIzaSyB-HVMtQLj9XIYhAnfh08ZYMOgm_szeF6M",authDomain:"gestiondespresentoirs-4ab01.firebaseapp.com",projectId:"gestiondespresentoirs-4ab01",storageBucket:"gestiondespresentoirs-4ab01.firebasestorage.app",messagingSenderId:"747803683779",appId:"1:747803683779:web:a468fa7312ff3fc9bbab76",measurementId:"G-VMK849TR6L"};let Xr,ge,ai,Vd,XX;try{Xr=ix(sN),ge=BK(Xr,{localCache:rY({tabManager:HL(),cacheSizeBytes:FK})}),ai=kP(Xr),OM(ai,IE).catch(console.error),Vd=oN(Xr),XX=jQ(Xr),(async()=>{try{await zK(ge),console.log("Offline persistence enabled")}catch(e){e.code==="failed-precondition"?console.warn("Multiple tabs open, persistence enabled in first tab only"):e.code==="unimplemented"?console.warn("Browser doesn't support persistence"):console.error("Persistence error:",e)}})().catch(console.error)}catch(t){console.error("Firebase initialization error:",t);try{Xr||(Xr=ix(sN)),ge||(ge=UK(Xr)),ai||(ai=kP(Xr)),Vd||(Vd=oN(Xr)),console.log("Firebase initialized with fallback configuration")}catch(e){console.error("Critical Firebase initialization error:",e),K.error("Erreur critique de l'application")}}let os=navigator.onLine;const JX=3,ZX=2e3,PS=async t=>{let e;for(let n=0;n<JX;n++)try{return await t()}catch(r){if(e=r,r.code==="auth/network-request-failed"){await new Promise(i=>setTimeout(i,ZX));continue}throw r}throw e},jV=()=>{const t=os;os=navigator.onLine,t&&!os?K.warning("Connexion internet perdue. Mode hors-ligne activé."):!t&&os&&K.success("Connexion internet rétablie.")};window.addEventListener("online",jV);window.addEventListener("offline",jV);OM(ai,IE).catch(t=>{console.error("Error setting auth persistence:",t)});const mv=t=>{switch(t.code){case"auth/invalid-email":return"Adresse email invalide";case"auth/user-disabled":return"Ce compte a été désactivé";case"auth/user-not-found":return"Aucun compte associé à cet email";case"auth/wrong-password":return"Email ou mot de passe incorrect";case"auth/email-already-in-use":return"Cette adresse email est déjà utilisée";case"auth/weak-password":return"Le mot de passe doit contenir au moins 6 caractères";case"auth/network-request-failed":return"Erreur de connexion réseau. Vérification de la connexion...";case"auth/too-many-requests":return"Trop de tentatives. Veuillez réessayer plus tard.";case"auth/operation-not-allowed":return"Cette opération n'est pas autorisée";default:return"Une erreur est survenue lors de l'authentification"}},eJ=async t=>{try{const e=await Oh(Ge(ge,"users",t));if(!e.exists())return null;const n=e.data();return{role:n.role||"user",permissions:n.permissions||[]}}catch(e){return console.error("Error getting user role:",e),null}},RV=async(t,e)=>{if(!os)throw new Error("Pas de connexion internet");try{return(await PS(async()=>{const r=await xW(ai,t,e);return await Ql(Ge(ge,"users",r.user.uid),{email:t,role:"user",permissions:["read"],createdAt:Tt(),updatedAt:Tt()}),r})).user}catch(n){throw console.error("Error creating user:",n),new Error(mv(n))}},DV=async(t,e)=>{if(!os)throw new Error("Pas de connexion internet");try{return(await PS(()=>_W(ai,t,e))).user}catch(n){throw console.error("Error signing in:",n),new Error(mv(n))}},tJ=async()=>{try{await AW(ai)}catch(t){throw console.error("Error signing out:",t),new Error(mv(t))}},MV=t=>TW(ai,t),nJ=async()=>{if(!os)throw new Error("Pas de connexion internet");try{const t=new Mi;return(await PS(async()=>{const n=await WW(ai,t),r=Ge(ge,"users",n.user.uid);return(await Oh(r)).exists()||await Ql(r,{email:n.user.email,role:"user",permissions:["read"],createdAt:Tt(),updatedAt:Tt()}),n})).user}catch(t){throw console.error("Error signing in with Google:",t),new Error(mv(t))}},rJ=()=>{const[t,e]=D.useState(null),[n,r]=D.useState(null),[i,a]=D.useState(!0);return D.useEffect(()=>{const o=MV(async s=>{if(e(s),s){const l=await eJ(s.uid);r(l)}else r(null);a(!1)});return()=>o()},[]),{user:t,userRole:n,loading:i,isAdmin:n?.role==="admin",isAuthenticated:!!t}},iJ=({children:t,requireAdmin:e=!1})=>{const{user:n,userRole:r,loading:i}=rJ(),a=wo();return i?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):n?e&&r?.role!=="admin"?f.jsx(QI,{to:"/unauthorized",replace:!0}):f.jsx(f.Fragment,{children:t}):f.jsx(QI,{to:"/login",state:{from:a},replace:!0})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>D.createElement("svg",{ref:c,...aJ,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${oJ(t)}`,s].join(" "),...u},[...e.map(([d,h])=>D.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Ce("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=Ce("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=Ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=Ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=Ce("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),UV=D.createContext(void 0),xJ=({children:t})=>{const[e,n]=D.useState(null),[r,i]=D.useState(!0);D.useEffect(()=>{const o=MV(async s=>{if(s)try{(await Oh(Ge(ge,"users",s.uid))).exists()||await Ql(Ge(ge,"users",s.uid),{email:s.email,role:"user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(l){console.error("Error checking user document:",l),K.error("Erreur lors de la vérification du compte")}n(s),i(!1)});return()=>o()},[]);const a={currentUser:e,loading:r,signIn:DV,signOut:tJ,signUp:RV,signInWithGoogle:nJ};return f.jsx(UV.Provider,{value:a,children:!r&&t})},Ei=()=>{const t=D.useContext(UV);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},_J=({onComplete:t})=>{const{currentUser:e}=Ei(),[n,r]=D.useState([]),[i,a]=D.useState(!0),[o,s]=D.useState(""),[l,u]=D.useState(!1),[c,d]=D.useState({name:"",domain:""});D.useEffect(()=>{(async()=>{try{const y=no(hn(ge,"organizations")),b=(await zL(y)).docs.map(w=>({id:w.id,...w.data()}));r(b)}catch(y){console.error("Error loading organizations:",y),K.error("Erreur lors du chargement des organisations")}finally{a(!1)}})()},[]);const h=async()=>{if(!(!o||!e))try{a(!0),await Ql(Ge(ge,"users",e.uid),{organizationId:o,email:e.email,role:"user",createdAt:new Date().toISOString()},{merge:!0}),K.success("Organisation rejointe avec succès"),t()}catch(g){console.error("Error joining organization:",g),K.error("Erreur lors de la connexion à l'organisation")}finally{a(!1)}},m=async g=>{if(g.preventDefault(),!!e)try{a(!0);const y=Ge(hn(ge,"organizations"));await Ql(y,{name:c.name,domain:c.domain,createdAt:new Date().toISOString(),settings:{baseUrl:`${window.location.origin}/stand/`,maxReservationDays:30,minAdvanceHours:24,emailNotifications:{newReservation:!0,posterRequest:!0,maintenance:!0},maintenance:{preventiveIntervalMonths:3,emailNotifications:!0}}}),await Ql(Ge(ge,"users",e.uid),{organizationId:y.id,email:e.email,role:"admin",createdAt:new Date().toISOString()},{merge:!0}),K.success("Organisation créée avec succès"),t()}catch(y){console.error("Error creating organization:",y),K.error("Erreur lors de la création de l'organisation")}finally{a(!1)}};return i?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsx("div",{className:"max-w-md w-full",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:f.jsx(ac,{className:"h-8 w-8"})})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l?"Créer une organisation":"Rejoindre une organisation"}),f.jsx("p",{className:"text-gray-600 mt-2",children:l?"Créez votre propre organisation":"Sélectionnez une organisation existante ou créez-en une nouvelle"})]}),l?f.jsxs("form",{onSubmit:m,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'organisation"}),f.jsx("input",{type:"text",required:!0,className:"input bg-white",value:c.name,onChange:g=>d({...c,name:g.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domaine"}),f.jsx("input",{type:"text",required:!0,className:"input bg-white",value:c.domain,onChange:g=>d({...c,domain:g.target.value}),placeholder:"exemple.com"})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Création en cours..."]}):"Créer l'organisation"}),f.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary",disabled:i,children:"Retour"})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sélectionner une organisation"}),f.jsxs("select",{className:"input bg-white",value:o,onChange:g=>s(g.target.value),required:!0,children:[f.jsx("option",{value:"",children:"Choisir une organisation"}),n.map(g=>f.jsx("option",{value:g.id,children:g.name},g.id))]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("button",{onClick:h,disabled:!o||i,className:"btn btn-primary",children:i?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Connexion en cours..."]}):"Rejoindre l'organisation"}),f.jsxs("button",{onClick:()=>u(!0),className:"btn btn-secondary",disabled:i,children:[f.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Créer une nouvelle organisation"]})]})]})]})})})},EJ=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,a]=D.useState(!1),[o,s]=D.useState(!1),[l,u]=D.useState(""),[c,d]=D.useState(!1),h=_i(),g=wo().state?.from?.pathname||"/",y=async v=>{v.preventDefault(),u(""),s(!0);try{if(!navigator.onLine)throw new Error("Pas de connexion internet");i?(await RV(t,n),d(!0),K.success("Compte créé avec succès")):(await DV(t,n),h(g,{replace:!0}),K.success("Connexion réussie"))}catch(b){console.error("Authentication error:",b),u(b.message||"Une erreur est survenue"),K.error(b.message)}finally{s(!1)}};return c?f.jsx(_J,{onComplete:()=>{h(g,{replace:!0}),K.success("Organisation sélectionnée avec succès")}}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:f.jsx("div",{className:"max-w-md w-full",children:f.jsxs("div",{className:"card p-8 shadow-xl border-2 border-blue-100",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg",children:f.jsx(Fd,{className:"h-8 w-8"})})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"Créer un compte":"Connexion"}),f.jsx("p",{className:"text-gray-600 mt-2",children:i?"Créez votre compte pour commencer":"Accédez à votre espace"})]}),l&&f.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[f.jsx(sJ,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),f.jsx("p",{className:"text-sm text-red-700",children:l})]}),f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(VV,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"email",required:!0,className:"input pl-10",value:t,onChange:v=>e(v.target.value),placeholder:"votre@email.com"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"password",required:!0,minLength:6,className:"input pl-10",value:n,onChange:v=>r(v.target.value),placeholder:"••••••••"})]})]}),f.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary w-full",children:o?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),i?"Création en cours...":"Connexion en cours..."]}):i?"Créer un compte":"Se connecter"})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx("button",{onClick:()=>a(!i),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:i?"Déjà un compte ? Se connecter":"Créer un compte"})})]})})})},zV=D.createContext(void 0),SJ=({children:t})=>{const[e,n]=D.useState(null),[r,i]=D.useState(!0),[a,o]=D.useState(null),{currentUser:s}=Ei();D.useEffect(()=>{if(!s){n(null),i(!1);return}(async()=>{try{const c=await Oh(Ge(ge,"users",s.uid));if(!c.exists()){i(!1);return}const d=c.data().organizationId;if(!d){i(!1);return}const h=io(Ge(ge,"organizations",d),m=>{m.exists()?n({id:m.id,...m.data()}):n(null),i(!1)},m=>{console.error("Error fetching organization:",m),o(m),i(!1)});return()=>h()}catch(c){console.error("Error loading organization:",c),o(c),i(!1)}})()},[s]);const l={currentOrganization:e,loading:r,error:a,setCurrentOrganization:n};return f.jsx(zV.Provider,{value:l,children:t})},Pr=()=>{const t=D.useContext(zV);if(!t)throw new Error("useOrganization must be used within an OrganizationProvider");return t},TJ=async(t,e,n,r,i)=>{try{const a=await ys(hn(ge,"notifications"),{type:e,title:n,message:r,organizationId:t,createdAt:Tt(),read:!1,data:i});return await IJ(t,e,n,r),a.id}catch(a){throw console.error("Error creating notification:",a),a}},AJ=(t,e)=>{const n=no(hn(ge,"notifications"),ro("organizationId","==",t),ZK("createdAt","desc"));return io(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})},IJ=async(t,e,n,r)=>{try{const a=(await ge.collection("organizations").doc(t).get()).data()?.settings?.emailNotifications;if(!a)return;switch(e){case"reservation":if(!a.newReservation)return;break;case"maintenance":if(!a.maintenance)return;break;case"poster":if(!a.posterRequest)return;break;default:return}const s=(await ge.collection("users").where("organizationId","==",t).get()).docs.map(async l=>{const u=l.data();K.success(`Email envoyé à ${u.email}: ${n}`)});await Promise.all(s)}catch(i){console.error("Error sending email notifications:",i)}};function Ne(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function xb(t,e){const n=Ne(t);return isNaN(e)?vi(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function PJ(t,e){const n=Ne(t);if(isNaN(e))return vi(t,NaN);if(!e)return n;const r=n.getDate(),i=vi(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const qV=6048e5,OJ=864e5;let NJ={};function vv(){return NJ}function Pf(t,e){const n=vv(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ne(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function mg(t){return Pf(t,{weekStartsOn:1})}function WV(t){const e=Ne(t),n=e.getFullYear(),r=vi(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=mg(r),a=vi(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=mg(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function lN(t){const e=Ne(t);return e.setHours(0,0,0,0),e}function uN(t){const e=Ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function HV(t,e){const n=lN(t),r=lN(e),i=+n-uN(n),a=+r-uN(r);return Math.round((i-a)/OJ)}function CJ(t){const e=WV(t),n=vi(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),mg(n)}function Bd(t,e){const n=Ne(t),r=Ne(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function kJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oc(t){if(!kJ(t)&&typeof t!="number")return!1;const e=Ne(t);return!isNaN(Number(e))}function jJ(t,e){const n=Ne(t),r=Ne(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function RJ(t,e){const n=Ne(t),r=Ne(e);return n.getFullYear()-r.getFullYear()}function Dx(t,e){const n=Ne(t),r=Ne(e),i=cN(n,r),a=Math.abs(HV(n,r));n.setDate(n.getDate()-i*a);const o=+(cN(n,r)===-i),s=i*(a-o);return s===0?0:s}function cN(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function DJ(t){const e=Ne(t);return e.setHours(23,59,59,999),e}function GV(t){const e=Ne(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function MJ(t){const e=Ne(t);return+DJ(e)==+GV(e)}function KV(t,e){const n=Ne(t),r=Ne(e),i=Bd(n,r),a=Math.abs(jJ(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let s=Bd(n,r)===-i;MJ(Ne(t))&&a===1&&Bd(t,r)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function $J(t,e){const n=Ne(t),r=Ne(e),i=Bd(n,r),a=Math.abs(RJ(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=Bd(n,r)===-i,s=i*(a-+o);return s===0?0:s}function LJ(t,e){const n=Ne(t.start),r=Ne(t.end);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Ne(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function VJ(t){const e=Ne(t);return e.setDate(1),e.setHours(0,0,0,0),e}function FJ(t){const e=Ne(t),n=vi(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const BJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UJ=(t,e,n)=>{let r;const i=BJ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HJ={date:Xl({formats:zJ,defaultWidth:"full"}),time:Xl({formats:qJ,defaultWidth:"full"}),dateTime:Xl({formats:WJ,defaultWidth:"full"})},GJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KJ=(t,e,n,r)=>GJ[t];function ei(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n?.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n?.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const YJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nZ={ordinalNumber:tZ,era:ei({values:YJ,defaultWidth:"wide"}),quarter:ei({values:QJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ei({values:XJ,defaultWidth:"wide"}),day:ei({values:JJ,defaultWidth:"wide"}),dayPeriod:ei({values:ZJ,defaultWidth:"wide",formattingValues:eZ,defaultFormattingWidth:"wide"})};function ti(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?iZ(s,d=>d.test(o)):rZ(s,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function rZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function iZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function YV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const aZ=/^(\d+)(th|st|nd|rd)?/i,oZ=/\d+/i,sZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lZ={any:[/^b/i,/^(a|c)/i]},uZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cZ={any:[/1/i,/2/i,/3/i,/4/i]},dZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yZ={ordinalNumber:YV({matchPattern:aZ,parsePattern:oZ,valueCallback:t=>parseInt(t,10)}),era:ti({matchPatterns:sZ,defaultMatchWidth:"wide",parsePatterns:lZ,defaultParseWidth:"any"}),quarter:ti({matchPatterns:uZ,defaultMatchWidth:"wide",parsePatterns:cZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ti({matchPatterns:dZ,defaultMatchWidth:"wide",parsePatterns:fZ,defaultParseWidth:"any"}),day:ti({matchPatterns:hZ,defaultMatchWidth:"wide",parsePatterns:pZ,defaultParseWidth:"any"}),dayPeriod:ti({matchPatterns:mZ,defaultMatchWidth:"any",parsePatterns:gZ,defaultParseWidth:"any"})},vZ={code:"en-US",formatDistance:UJ,formatLong:HJ,formatRelative:KJ,localize:nZ,match:yZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bZ(t){const e=Ne(t);return HV(e,FJ(e))+1}function wZ(t){const e=Ne(t),n=+mg(e)-+CJ(e);return Math.round(n/qV)+1}function QV(t,e){const n=Ne(t),r=n.getFullYear(),i=vv(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=vi(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=Pf(o,e),l=vi(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=Pf(l,e);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function xZ(t,e){const n=vv(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=QV(t,e),a=vi(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Pf(a,e)}function _Z(t,e){const n=Ne(t),r=+Pf(n,e)-+xZ(n,e);return Math.round(r/qV)+1}function Ve(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ea={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ve(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ve(n+1,2)},d(t,e){return Ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ve(t.getHours()%12||12,e.length)},H(t,e){return Ve(t.getHours(),e.length)},m(t,e){return Ve(t.getMinutes(),e.length)},s(t,e){return Ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ve(i,e.length)}},pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dN={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ea.y(t,e)},Y:function(t,e,n,r){const i=QV(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Ve(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ve(a,e.length)},R:function(t,e){const n=WV(t);return Ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ve(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ea.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=_Z(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ve(i,e.length)},I:function(t,e,n){const r=wZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ve(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ea.d(t,e)},D:function(t,e,n){const r=bZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ve(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ve(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ve(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ve(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=pl.noon:r===0?i=pl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=pl.evening:r>=12?i=pl.afternoon:r>=4?i=pl.morning:i=pl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ea.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ea.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ea.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ea.s(t,e)},S:function(t,e){return Ea.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hN(r);case"XXXX":case"XX":return Ho(r);case"XXXXX":case"XXX":default:return Ho(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return hN(r);case"xxxx":case"xx":return Ho(r);case"xxxxx":case"xxx":default:return Ho(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fN(r,":");case"OOOO":default:return"GMT"+Ho(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fN(r,":");case"zzzz":default:return"GMT"+Ho(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ve(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ve(r,e.length)}};function fN(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ve(a,2)}function hN(t,e){return t%60===0?(t>0?"-":"+")+Ve(Math.abs(t)/60,2):Ho(t,e)}function Ho(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ve(Math.trunc(r/60),2),a=Ve(r%60,2);return n+i+e+a}const pN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return pN(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",pN(r,e)).replace("{{time}}",XV(i,e))},SZ={p:XV,P:EZ},TZ=/^D+$/,AZ=/^Y+$/,IZ=["D","DD","YY","YYYY"];function PZ(t){return TZ.test(t)}function OZ(t){return AZ.test(t)}function NZ(t,e,n){const r=CZ(t,e,n);if(console.warn(r),IZ.includes(t))throw new RangeError(r)}function CZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RZ=/^'([^]*?)'?$/,DZ=/''/g,MZ=/[a-zA-Z]/;function Wt(t,e,n){const r=vv(),i=n?.locale??r.locale??vZ,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Ne(t);if(!oc(s))throw new RangeError("Invalid time value");let l=e.match(jZ).map(c=>{const d=c[0];if(d==="p"||d==="P"){const h=SZ[d];return h(c,i.formatLong)}return c}).join("").match(kZ).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const d=c[0];if(d==="'")return{isToken:!1,value:$Z(c)};if(dN[d])return{isToken:!0,value:c};if(d.match(MZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const d=c.value;(!n?.useAdditionalWeekYearTokens&&OZ(d)||!n?.useAdditionalDayOfYearTokens&&PZ(d))&&NZ(d,e,String(t));const h=dN[d[0]];return h(s,d,i.localize,u)}).join("")}function $Z(t){const e=t.match(RZ);return e?e[1].replace(DZ,"'"):t}function LZ(t,e){const n=Ne(t),r=Ne(e);return+n<+r}const VZ={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},FZ=(t,e,n)=>{let r;const i=VZ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},BZ={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},UZ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zZ={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qZ={date:Xl({formats:BZ,defaultWidth:"full"}),time:Xl({formats:UZ,defaultWidth:"full"}),dateTime:Xl({formats:zZ,defaultWidth:"full"})},WZ={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},HZ=(t,e,n,r)=>WZ[t],GZ={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},KZ={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},YZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},QZ={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},XZ={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},JZ=(t,e)=>{const n=Number(t),r=e?.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=r&&i.includes(r)?"ère":"er":a="ème",n+a},ZZ=["MMM","MMMM"],eee={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&ZZ.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:JZ,era:ei({values:GZ,defaultWidth:"wide"}),quarter:ei({values:KZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ei({values:YZ,defaultWidth:"wide"}),day:ei({values:QZ,defaultWidth:"wide"}),dayPeriod:ei({values:XZ,defaultWidth:"wide"})},tee=/^(\d+)(ième|ère|ème|er|e)?/i,nee=/\d+/i,ree={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},iee={any:[/^av/i,/^ap/i]},aee={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},oee={any:[/1/i,/2/i,/3/i,/4/i]},see={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},lee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},uee={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},cee={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},dee={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},fee={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},hee={ordinalNumber:YV({matchPattern:tee,parsePattern:nee,valueCallback:t=>parseInt(t)}),era:ti({matchPatterns:ree,defaultMatchWidth:"wide",parsePatterns:iee,defaultParseWidth:"any"}),quarter:ti({matchPatterns:aee,defaultMatchWidth:"wide",parsePatterns:oee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ti({matchPatterns:see,defaultMatchWidth:"wide",parsePatterns:lee,defaultParseWidth:"any"}),day:ti({matchPatterns:uee,defaultMatchWidth:"wide",parsePatterns:cee,defaultParseWidth:"any"}),dayPeriod:ti({matchPatterns:dee,defaultMatchWidth:"any",parsePatterns:fee,defaultParseWidth:"any"})},el={code:"fr",formatDistance:FZ,formatLong:qZ,formatRelative:HZ,localize:eee,match:hee,options:{weekStartsOn:1,firstWeekContainsDate:4}},pee=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!1),{currentOrganization:i}=Pr();D.useEffect(()=>{if(!i?.id)return;const o=AJ(i.id,s=>e(s));return()=>o()},[i?.id]);const a=t.filter(o=>!o.read).length;return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>r(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[f.jsx(Nh,{className:"h-5 w-5"}),a>0&&f.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:a})]}),n&&f.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50",children:[f.jsx("div",{className:"p-4 border-b border-gray-100",children:f.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(o=>f.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${o.read?"":"bg-blue-50"}`,children:f.jsx("div",{className:"flex items-start gap-3",children:f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium text-gray-900",children:o.title}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.message}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Wt(new Date(o.createdAt),"PPp",{locale:el})})]})})},o.id)):f.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune notification"})})]})]})},mee=()=>{const t=wo(),e=_i(),{signOut:n}=Ei(),{currentOrganization:r}=Pr(),[i,a]=D.useState(!1),o=[{name:"Tableau de bord",href:"/",icon:LV},{name:"Statistiques",href:"/statistics",icon:$V},{name:"Maintenance",href:"/maintenance",icon:yi},{name:"Paramètres",icon:Rx,subItems:[{name:"Général",href:"/settings",icon:Rx},{name:"Présentoirs",href:"/settings/stands",icon:ac},{name:"Affiches",href:"/settings/posters",icon:jh},{name:"Publications",href:"/settings/publications",icon:Ch},{name:"Maintenance",href:"/settings/maintenance",icon:yi},{name:"Notifications",href:"/settings/notifications",icon:Nh},{name:"Profil",href:"/settings/profile",icon:Dh}]}],s=async()=>{try{await n(),e("/login"),K.success("Déconnexion réussie")}catch(l){console.error("Error signing out:",l),K.error("Erreur lors de la déconnexion")}};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:"lg:hidden",children:f.jsxs("div",{className:"fixed inset-0 z-40",children:[f.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white shadow-md px-4 py-2 flex items-center justify-between",children:[f.jsx("button",{onClick:()=>a(!i),className:"p-2 rounded-lg hover:bg-gray-100",children:i?f.jsx(BV,{className:"h-6 w-6 text-gray-600"}):f.jsx(yJ,{className:"h-6 w-6 text-gray-600"})}),f.jsx("div",{className:"text-lg font-semibold text-gray-900",children:r?.name||"Gestion des Présentoirs"})]}),i&&f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>a(!1)}),f.jsx("div",{className:`fixed top-14 left-0 bottom-0 w-64 bg-white transform transition-transform duration-200 ease-in-out ${i?"translate-x-0":"-translate-x-full"}`,children:f.jsx("nav",{className:"h-full overflow-y-auto py-4",children:o.map(l=>f.jsx("div",{children:l.subItems?f.jsxs("div",{className:"px-4 py-2",children:[f.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[f.jsx(l.icon,{className:"h-5 w-5 mr-2"}),f.jsx("span",{className:"font-medium",children:l.name})]}),f.jsx("div",{className:"ml-6 space-y-1",children:l.subItems.map(u=>f.jsx(Di,{to:u.href,className:`block px-3 py-2 rounded-lg text-sm ${t.pathname===u.href?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>a(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(u.icon,{className:"h-4 w-4 mr-2"}),u.name]})},u.name))})]}):f.jsxs(Di,{to:l.href,className:`flex items-center px-4 py-2 text-sm ${t.pathname===l.href?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>a(!1),children:[f.jsx(l.icon,{className:"h-5 w-5 mr-2"}),l.name]})},l.name))})})]})}),f.jsx("nav",{className:"hidden lg:block bg-white shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r?.name||"Gestion des Présentoirs"})}),f.jsx("div",{className:"hidden lg:ml-6 lg:flex lg:space-x-8",children:o.map(l=>f.jsx("div",{className:"relative group",children:l.subItems?f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-700",children:[f.jsx(l.icon,{className:"h-4 w-4 mr-2"}),l.name]}),f.jsx("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:f.jsx("div",{className:"py-1",children:l.subItems.map(u=>f.jsxs(Di,{to:u.href,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[f.jsx(u.icon,{className:"h-4 w-4 mr-2"}),u.name]},u.name))})})]}):f.jsxs(Di,{to:l.href,className:`inline-flex items-center px-1 pt-1 text-sm font-medium ${t.pathname===l.href?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[f.jsx(l.icon,{className:"h-4 w-4 mr-2"}),l.name]})},l.name))})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Di,{to:"/help",className:"text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Aide",children:f.jsx(hJ,{className:"h-5 w-5"})}),f.jsx(pee,{}),f.jsxs("button",{onClick:s,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:[f.jsx(gJ,{className:"h-4 w-4 mr-2"}),"Déconnexion"]})]})]})})}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 mt-14 lg:mt-0",children:f.jsx(qz,{})})]})},Mx=(t,e)=>e.some(n=>t instanceof n);let mN,gN;function gee(){return mN||(mN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yee(){return gN||(gN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,_b=new WeakMap,bv=new WeakMap;function vee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(bs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return bv.set(e,t),e}function bee(t){if($x.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});$x.set(t,e)}let Lx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $x.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JV(t){Lx=t(Lx)}function wee(t){return yee().includes(t)?function(...e){return t.apply(Vx(this),e),bs(this.request)}:function(...e){return bs(t.apply(Vx(this),e))}}function xee(t){return typeof t=="function"?wee(t):(t instanceof IDBTransaction&&bee(t),Mx(t,gee())?new Proxy(t,Lx):t)}function bs(t){if(t instanceof IDBRequest)return vee(t);if(_b.has(t))return _b.get(t);const e=xee(t);return e!==t&&(_b.set(t,e),bv.set(e,t)),e}const Vx=t=>bv.get(t);function _ee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bs(o.result),l.oldVersion,l.newVersion,bs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const Eee=["get","getKey","getAll","getAllKeys","count"],See=["put","add","delete","clear"],Eb=new Map;function yN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eb.get(e))return Eb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=See.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Eee.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Eb.set(e,a),a}JV(t=>({...t,get:(e,n,r)=>yN(e,n)||t.get(e,n,r),has:(e,n)=>!!yN(e,n)||t.has(e,n)}));const Tee=["continue","continuePrimaryKey","advance"],vN={},Fx=new WeakMap,ZV=new WeakMap,Aee={get(t,e){if(!Tee.includes(e))return t[e];let n=vN[e];return n||(n=vN[e]=function(...r){Fx.set(this,ZV.get(this)[e](...r))}),n}};async function*Iee(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Aee);for(ZV.set(n,e),bv.set(n,Vx(e));e;)yield n,e=await(Fx.get(n)||e.continue()),Fx.delete(n)}function bN(t,e){return e===Symbol.asyncIterator&&Mx(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mx(t,[IDBIndex,IDBObjectStore])}JV(t=>({...t,get(e,n,r){return bN(e,n)?Iee:t.get(e,n,r)},has(e,n){return bN(e,n)||t.has(e,n)}}));const Pee="presentoirs-app",Oee=1,ss=async()=>_ee(Pee,Oee,{upgrade(t){t.objectStoreNames.contains("cache")||t.createObjectStore("cache"),t.objectStoreNames.contains("preferences")||t.createObjectStore("preferences")}}),Sb={async set(t,e){await(await ss()).put("cache",e,t)},async get(t){return(await ss()).get("cache",t)},async delete(t){await(await ss()).delete("cache",t)},async clear(){await(await ss()).clear("cache")}},Nee={async setPreference(t,e){await(await ss()).put("preferences",e,t)},async getPreference(t){return(await ss()).get("preferences",t)},async deletePreference(t){await(await ss()).delete("preferences",t)}},e4=D.createContext(void 0),Cee=({children:t})=>{const[e,n]=D.useState([]),[r,i]=D.useState([]),[a,o]=D.useState([]),[s,l]=D.useState(!0),{currentUser:u}=Ei(),{currentOrganization:c}=Pr();D.useEffect(()=>{if(!u||!c?.id){n([]),i([]),o([]),l(!1);return}const y=no(hn(ge,"stands"),ro("organizationId","==",c.id)),v=io(y,async E=>{const A=E.docs.map(S=>({id:S.id,...S.data()}));console.log("Loaded stands:",A),n(A),await Sb.set("stands",A),l(!1)},E=>{console.error("Error fetching stands:",E),K.error("Erreur lors du chargement des présentoirs"),l(!1)}),b=no(hn(ge,"posters"),ro("organizationId","==",c.id)),w=io(b,async E=>{const A=E.docs.map(S=>({id:S.id,...S.data()}));i(A),await Sb.set("posters",A)},E=>{console.error("Error fetching posters:",E),K.error("Erreur lors du chargement des affiches")}),_=no(hn(ge,"publications"),ro("organizationId","==",c.id)),P=io(_,async E=>{const A=E.docs.map(S=>({id:S.id,...S.data()}));o(A),await Sb.set("publications",A)},E=>{console.error("Error fetching publications:",E),K.error("Erreur lors du chargement des publications")});return()=>{v(),w(),P()}},[u,c?.id]);const g={stands:e,setStands:n,availablePosters:r,setAvailablePosters:i,publications:a,setPublications:o,addMaintenance:async(y,v)=>{if(!u||!c)throw new Error("User must be authenticated");const b={...v,id:crypto.randomUUID(),standId:y,organizationId:c.id,createdAt:Tt()};try{await ys(hn(ge,"maintenance"),b),n(w=>w.map(_=>_.id===y?{..._,maintenanceHistory:[..._.maintenanceHistory||[],b],lastMaintenance:v.date}:_))}catch(w){throw console.error("Error adding maintenance:",w),K.error("Erreur lors de l'ajout de la maintenance"),w}},addStand:async y=>{if(!u||!c)throw new Error("User must be authenticated");try{await ys(hn(ge,"stands"),{...y,organizationId:c.id,createdAt:Tt()})}catch(v){throw console.error("Error adding stand:",v),K.error("Erreur lors de l'ajout du présentoir"),v}},removeStand:async y=>{if(!u||!c)throw new Error("User must be authenticated");try{await ys(hn(ge,"stands"),{id:y}),n(v=>v.filter(b=>b.id!==y))}catch(v){throw console.error("Error removing stand:",v),K.error("Erreur lors de la suppression du présentoir"),v}},loading:s};return f.jsx(e4.Provider,{value:g,children:t})},sc=()=>{const t=D.useContext(e4);if(!t)throw new Error("useStands must be used within a StandsProvider");return t};var kee=Object.defineProperty,gg=Object.getOwnPropertySymbols,t4=Object.prototype.hasOwnProperty,n4=Object.prototype.propertyIsEnumerable,wN=(t,e,n)=>e in t?kee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jee=(t,e)=>{for(var n in e||(e={}))t4.call(e,n)&&wN(t,n,e[n]);if(gg)for(var n of gg(e))n4.call(e,n)&&wN(t,n,e[n]);return t},Ree=(t,e)=>{var n={};for(var r in t)t4.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&gg)for(var r of gg(t))e.indexOf(r)<0&&n4.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Fs;(t=>{const e=class{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(c);if(this.drawCodewords(m),d==-1){let g=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const v=this.getPenaltyScore();v<g&&(d=y,g=v),this.applyMask(y)}}a(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const c=t.QrSegment.makeSegments(l);return e.encodeSegments(c,u)}static encodeBinary(l,u){const c=t.QrSegment.makeBytes(l);return e.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,h=-1,m=!0){if(!(e.MIN_VERSION<=c&&c<=d&&d<=e.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,y;for(g=c;;g++){const _=e.getNumDataCodewords(g,u)*8,P=s.getTotalBits(l,g);if(P<=_){y=P;break}if(g>=d)throw new RangeError("Data too long")}for(const _ of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])m&&y<=e.getNumDataCodewords(g,_)*8&&(u=_);let v=[];for(const _ of l){r(_.mode.modeBits,4,v),r(_.numChars,_.mode.numCharCountBits(g),v);for(const P of _.getData())v.push(P)}a(v.length==y);const b=e.getNumDataCodewords(g,u)*8;a(v.length<=b),r(0,Math.min(4,b-v.length),v),r(0,(8-v.length%8)%8,v),a(v.length%8==0);for(let _=236;v.length<b;_^=253)r(_,8,v);let w=[];for(;w.length*8<v.length;)w.push(0);return v.forEach((_,P)=>w[P>>>3]|=_<<7-(P&7)),new e(g,u,w,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let h=0;h<10;h++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;a(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;a(u>>>18==0);for(let c=0;c<18;c++){const d=i(u,c),h=this.size-11+c%3,m=Math.floor(c/3);this.setFunctionModule(h,m,d),this.setFunctionModule(m,h,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(c)),m=l+d,g=u+c;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=e.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],h=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],m=Math.floor(e.getNumRawDataModules(u)/8),g=d-m%d,y=Math.floor(m/d);let v=[];const b=e.reedSolomonComputeDivisor(h);for(let _=0,P=0;_<d;_++){let E=l.slice(P,P+y-h+(_<g?0:1));P+=E.length;const A=e.reedSolomonComputeRemainder(E,b);_<g&&E.push(0),v.push(E.concat(A))}let w=[];for(let _=0;_<v[0].length;_++)v.forEach((P,E)=>{(_!=y-h||E>=g)&&w.push(P[_])});return a(w.length==m),w}drawCodewords(l){if(l.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const m=c-h,y=(c+1&2)==0?this.size-1-d:d;!this.isFunction[y][m]&&u<l.length*8&&(this.modules[y][m]=i(l[u>>>3],7-(u&7)),u++)}}a(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,g=0,y=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[h][v]==m?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,y),m||(l+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),m=this.modules[h][v],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,y)*e.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,y=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][h]==m?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,y),m||(l+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),m=this.modules[v][h],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,y)*e.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(l+=e.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return a(0<=d&&d<=9),l+=d*e.PENALTY_N4,a(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(e.getNumRawDataModules(l)/8)-e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let h=0;h<u.length;h++)u[h]=e.reedSolomonMultiply(u[h],c),h+1<u.length&&(u[h]^=u[h+1]);c=e.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(const d of l){const h=d^c.shift();c.push(0),u.forEach((m,g)=>c[g]^=e.reedSolomonMultiply(m,h))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return a(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];a(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(l,u,c){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let d=u-1;d>=0;d--)c.push(l>>>d&1)}function i(l,u){return(l>>>u&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)r(c,8,u);return new o(o.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const d=Math.min(l.length-c,3);r(parseInt(l.substr(c,d),10),d*3+1,u),c+=d}return new o(o.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),r(d,11,u)}return c<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new o(o.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,u);else if(l<16384)r(2,2,u),r(l,14,u);else if(l<1e6)r(6,3,u),r(l,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const d of l){const h=d.mode.numCharCountBits(u);if(d.numChars>=1<<h)return 1/0;c+=4+h+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substr(c+1,2),16)),c+=2);return u}};let s=o;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=s})(Fs||(Fs={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(Fs||(Fs={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Fs||(Fs={}));var bd=Fs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Dee={L:bd.QrCode.Ecc.LOW,M:bd.QrCode.Ecc.MEDIUM,Q:bd.QrCode.Ecc.QUARTILE,H:bd.QrCode.Ecc.HIGH},Mee=128,$ee="L",Lee="#FFFFFF",Vee="#000000",Fee=!1,r4=4,Bee=.1;function Uee(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(o,s){if(!o&&a!==null){n.push(`M${a+e} ${i+e}h${s-a}v1H${a+e}z`),a=null;return}if(s===r.length-1){if(!o)return;a===null?n.push(`M${s+e},${i+e} h1v1H${s+e}z`):n.push(`M${a+e},${i+e} h${s+1-a}v1H${a+e}z`);return}o&&a===null&&(a=s)})}),n.join("")}function zee(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function qee(t,e,n,r){if(r==null)return null;const i=n?r4:0,a=t.length+i*2,o=Math.floor(e*Bee),s=a/e,l=(r.width||o)*s,u=(r.height||o)*s,c=r.x==null?t.length/2-l/2:r.x*s,d=r.y==null?t.length/2-u/2:r.y*s;let h=null;if(r.excavate){let m=Math.floor(c),g=Math.floor(d),y=Math.ceil(l+c-m),v=Math.ceil(u+d-g);h={x:m,y:g,w:y,h:v}}return{x:c,y:d,h:u,w:l,excavation:h}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function i4(t){const e=t,{value:n,size:r=Mee,level:i=$ee,bgColor:a=Lee,fgColor:o=Vee,includeMargin:s=Fee,imageSettings:l}=e,u=Ree(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let c=bd.QrCode.encodeText(n,Dee[i]).getModules();const d=s?r4:0,h=c.length+d*2,m=qee(c,r,s,l);let g=null;l!=null&&m!=null&&(m.excavation!=null&&(c=zee(c,m.excavation)),g=M.createElement("image",{xlinkHref:l.src,height:m.h,width:m.w,x:m.x+d,y:m.y+d,preserveAspectRatio:"none"}));const y=Uee(c,d);return M.createElement("svg",jee({height:r,width:r,viewBox:`0 0 ${h} ${h}`},u),M.createElement("path",{fill:a,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),M.createElement("path",{fill:o,d:y,shapeRendering:"crispEdges"}),g)}const Hr=({isOpen:t,onClose:e,children:n,title:r})=>t?f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[f.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity",onClick:e}),f.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 transition-colors rounded-lg p-1 hover:bg-gray-100",children:f.jsx(BV,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"p-6",children:n})]})]})}):null,Wee=(t,e,n=30)=>{const r=new Date,i=new Date(r.getTime()+n*24*60*60*1e3);return t<r?"La date de début doit être dans le futur":e<t?"La date de fin doit être après la date de début":e>i?`La durée maximale de réservation est de ${n} jours`:null},a4=({stand:t,isOpen:e,onClose:n,onReserve:r})=>{const i=xb(new Date,1),[a,o]=D.useState({name:"",startDate:i,endDate:xb(i,7)}),s=l=>{if(l.preventDefault(),a.name.trim().length<2){K.error("Le nom doit contenir au moins 2 caractères");return}const u=Wee(a.startDate,a.endDate);if(u){K.error(u);return}r(t.id,a),n(),K.success(`Présentoir réservé avec succès pour ${a.name}`)};return f.jsx(Hr,{isOpen:e,onClose:n,title:`Réserver ${t.name}`,children:f.jsxs("form",{onSubmit:s,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Votre nom"}),f.jsx("input",{type:"text",id:"name",required:!0,minLength:2,className:"input",value:a.name,onChange:l=>o({...a,name:l.target.value}),placeholder:"Entrez votre nom"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),f.jsx("input",{type:"date",id:"startDate",required:!0,min:Wt(i,"yyyy-MM-dd"),className:"input",value:Wt(a.startDate,"yyyy-MM-dd"),onChange:l=>o({...a,startDate:new Date(l.target.value),endDate:xb(new Date(l.target.value),7)})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),f.jsx("input",{type:"date",id:"endDate",required:!0,min:Wt(a.startDate,"yyyy-MM-dd"),className:"input",value:Wt(a.endDate,"yyyy-MM-dd"),onChange:l=>o({...a,endDate:new Date(l.target.value)})})]})]}),f.jsx("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-blue-700",children:f.jsxs("ul",{className:"space-y-1",children:[f.jsx("li",{children:"• Durée maximale de réservation : 30 jours"}),f.jsx("li",{children:"• La réservation commence le lendemain"})]})}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Réserver"})]})]})})},Bx=["Périodiques","Brochures","Campagnes","Invitations"],Ux=["Livres","Carte de Visites","Brochures","Tour De Garde","Réveillez-vous"],o4=({stand:t,isOpen:e,onClose:n,onSubmit:r,availablePosters:i})=>{const[a,o]=D.useState(""),[s,l]=D.useState(""),[u,c]=D.useState(""),d=a?i.filter(g=>g.category===a):i,h=g=>{if(g.preventDefault(),!s){K.error("Veuillez sélectionner une affiche");return}try{r(t.id,s,u),n()}catch(y){console.error("Error submitting poster request:",y),K.error("Erreur lors de la demande")}},m=i.find(g=>g.name===s);return f.jsx(Hr,{isOpen:e,onClose:n,title:"Demande de changement d'affiche",children:f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Affiche actuelle"}),f.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:f.jsxs("div",{className:"flex items-center text-gray-600",children:[f.jsx(jh,{className:"h-5 w-5 mr-2 text-gray-400"}),f.jsx("span",{children:t.currentPoster})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrer par catégorie"}),f.jsxs("select",{className:"input bg-white mb-4",value:a,onChange:g=>{o(g.target.value),l("")},children:[f.jsx("option",{value:"",children:"Toutes les catégories"}),Bx.map(g=>f.jsx("option",{value:g,children:g},g))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouvelle affiche souhaitée"}),f.jsxs("select",{className:"input bg-white",value:s,onChange:g=>l(g.target.value),required:!0,children:[f.jsx("option",{value:"",children:"Sélectionnez une affiche"}),d.map(g=>f.jsx("option",{value:g.name,children:g.name},g.id))]}),m&&f.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-4",children:[m.imageUrl?f.jsx("img",{src:m.imageUrl,alt:m.name,className:"w-20 h-20 object-cover rounded-lg"}):f.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:f.jsx(gv,{className:"h-8 w-8 text-gray-400"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900",children:m.name}),m.description&&f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motif de la demande"}),f.jsx("textarea",{className:"input min-h-[100px]",value:u,onChange:g=>c(g.target.value),placeholder:"Expliquez pourquoi vous souhaitez changer l'affiche...",required:!0})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Envoyer la demande"})]})]})})},s4=({stand:t,isOpen:e,onClose:n,onUpdateStock:r,publications:i})=>{const[a,o]=D.useState(()=>(t.publications||[]).reduce((u,c)=>({...u,[c.publicationId]:c.quantity}),{})),s=u=>{u.preventDefault(),Object.entries(a).forEach(([c,d])=>{r(t.id,c,d)}),n(),K.success("Stock mis à jour avec succès")},l=(u,c)=>{const d=i.find(h=>h.id===u);return d&&c<d.minStock};return f.jsx(Hr,{isOpen:e,onClose:n,title:"Gestion du stock des publications",children:f.jsxs("form",{onSubmit:s,className:"space-y-6",children:[f.jsx("div",{className:"space-y-8",children:Ux.map(u=>{const c=i.filter(d=>d.category===u);return c.length===0?null:f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u}),c.map(d=>{const h=a[d.id]||0,m=l(d.id,h);return f.jsx("div",{className:"card p-4",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:f.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:d.title}),m&&f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[f.jsx(Wn,{className:"h-3 w-3"}),"Stock bas"]})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:d.description}),f.jsxs("div",{className:"mt-3",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantité en stock"}),f.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[f.jsx("input",{type:"number",min:"0",className:"input w-24",value:a[d.id]||0,onChange:g=>o({...a,[d.id]:parseInt(g.target.value)||0})}),f.jsxs("span",{className:"text-sm text-gray-500",children:["Minimum requis: ",d.minStock]})]})]})]})]})},d.id)})]},u)})}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Mettre à jour le stock"})]})]})})},Hee=({stand:t,isOpen:e,onClose:n,onSubmit:r,publications:i})=>{const[a,o]=D.useState(""),[s,l]=D.useState(Wt(new Date,"yyyy-MM-dd")),[u,c]=D.useState(""),[d,h]=D.useState(1),[m,g]=D.useState(""),y=b=>{if(b.preventDefault(),!a){K.error("Veuillez sélectionner une publication");return}r(t.id,a,{startDate:new Date(s),endDate:u?new Date(u):void 0,quantity:d,notes:m}),n()},v=i.find(b=>b.id===a);return f.jsx(Hr,{isOpen:e,onClose:n,title:"Demande d'association de publications",children:f.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publication"}),f.jsxs("select",{className:"input bg-white",value:a,onChange:b=>o(b.target.value),required:!0,children:[f.jsx("option",{value:"",children:"Sélectionner une publication"}),i.map(b=>f.jsx("option",{value:b.id,children:b.title},b.id))]}),v&&f.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("img",{src:v.imageUrl,alt:v.title,className:"w-20 h-20 object-cover rounded-lg"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900",children:v.title}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),f.jsx("input",{type:"date",className:"input bg-white",value:s,onChange:b=>l(b.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin (optionnel)"}),f.jsx("input",{type:"date",className:"input bg-white",value:u,onChange:b=>c(b.target.value),min:s})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité"}),f.jsx("input",{type:"number",min:"1",className:"input bg-white w-32",value:d,onChange:b=>h(parseInt(b.target.value)),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optionnel)"}),f.jsx("textarea",{className:"input bg-white",value:m,onChange:b=>g(b.target.value),rows:3,placeholder:"Informations complémentaires..."})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Envoyer la demande"})]})]})})},NS=({stand:t,isOpen:e,onClose:n,onSubmit:r,type:i})=>{const[a,o]=D.useState({date:Wt(new Date,"yyyy-MM-dd"),performedBy:"",description:"",issues:"",resolution:""}),s=l=>{if(l.preventDefault(),a.performedBy.trim().length<2){K.error("Le nom doit contenir au moins 2 caractères");return}r(t.id,{date:new Date(a.date),type:i,performedBy:a.performedBy,description:a.description,issues:a.issues,resolution:a.resolution}),n(),K.success("Maintenance enregistrée avec succès")};return f.jsx(Hr,{isOpen:e,onClose:n,title:`${i==="preventive"?"Maintenance préventive":"Maintenance curative"} - ${t.name}`,children:f.jsxs("form",{onSubmit:s,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de maintenance"}),f.jsx("input",{type:"date",className:"input",value:a.date,onChange:l=>o({...a,date:l.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effectuée par"}),f.jsx("input",{type:"text",className:"input",value:a.performedBy,onChange:l=>o({...a,performedBy:l.target.value}),required:!0,minLength:2,placeholder:"Nom du technicien"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description des opérations"}),f.jsx("textarea",{className:"input",value:a.description,onChange:l=>o({...a,description:l.target.value}),required:!0,rows:3,placeholder:"Détaillez les opérations effectuées"})]}),i==="curative"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Problèmes constatés"}),f.jsx("textarea",{className:"input",value:a.issues,onChange:l=>o({...a,issues:l.target.value}),required:!0,rows:3,placeholder:"Décrivez les problèmes rencontrés"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Solutions apportées"}),f.jsx("textarea",{className:"input",value:a.resolution,onChange:l=>o({...a,resolution:l.target.value}),required:!0,rows:3,placeholder:"Décrivez les solutions mises en place"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enregistrer la maintenance"})]})]})})},Gee=({stands:t,onReserve:e,onCancelReservation:n,onPosterRequest:r,onUpdateStock:i,availablePosters:a,publications:o,hoveredStandId:s,setHoveredStandId:l,getLowStockPublications:u})=>{const[c,d]=D.useState(null),[h,m]=D.useState(null),[g,y]=D.useState(null),[v,b]=D.useState(null),[w,_]=D.useState(null),P=E=>{if(!E)return"";try{const A=new Date(E);return oc(A)?Wt(A,"PPP",{locale:el}):""}catch(A){return console.error("Error formatting date:",A),""}};return f.jsxs("div",{className:"card overflow-hidden bg-gradient-to-br from-white to-gray-50",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50",children:f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Liste des Présentoirs"})}),f.jsx("div",{className:"divide-y divide-gray-100",children:t.map(E=>{const A=u(E.id).length>0,S=a.find(T=>T.name===E.currentPoster)?.imageUrl;return f.jsx("div",{className:"p-6 hover:bg-gray-50/50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between gap-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Di,{to:`/stand/${E.id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:E.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${E.isReserved?"bg-red-100/80 text-red-700 ring-1 ring-red-600/10":"bg-green-100/80 text-green-700 ring-1 ring-green-600/10"}`,children:E.isReserved?"Réservé":"Disponible"}),A&&f.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100/80 text-yellow-700 ring-1 ring-yellow-600/10 flex items-center gap-1",children:[f.jsx(Wn,{className:"h-4 w-4"}),"Stock bas"]})]})]}),f.jsxs("div",{className:"mt-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center text-gray-600",children:[f.jsx(yv,{className:"h-4 w-4 mr-2 text-gray-400"}),f.jsx("span",{children:E.location})]}),f.jsxs("div",{className:"flex items-center text-gray-600",children:[f.jsx(jh,{className:"h-4 w-4 mr-2 text-gray-400"}),f.jsxs("span",{children:["Affiche actuelle: ",E.currentPoster]})]}),E.isReserved&&E.reservedBy&&E.reservedUntil&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center text-gray-600",children:[f.jsx(Dh,{className:"h-4 w-4 mr-2 text-gray-400"}),f.jsxs("span",{children:["Réservé par: ",E.reservedBy]})]}),f.jsxs("div",{className:"flex items-center text-gray-600",children:[f.jsx(kh,{className:"h-4 w-4 mr-2 text-gray-400"}),f.jsxs("span",{children:["Jusqu'au: ",P(E.reservedUntil)]})]})]}),f.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-4",children:[f.jsx("h4",{className:"text-sm font-medium text-indigo-900 text-center mb-3",children:"Réservation"}),f.jsx("div",{className:"flex flex-col gap-2",children:E.isReserved?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n(E.id),className:"btn bg-gradient-to-r from-indigo-500 to-indigo-600 text-white hover:from-indigo-600 hover:to-indigo-700 shadow-md hover:shadow-lg w-full",children:"Annuler la réservation"}),f.jsx("button",{onClick:()=>m(E),className:"btn bg-gradient-to-r from-indigo-400 to-indigo-500 text-white hover:from-indigo-500 hover:to-indigo-600 shadow-md hover:shadow-lg w-full",children:"Changer l'affiche"})]}):f.jsx("button",{onClick:()=>d(E),className:"btn bg-gradient-to-r from-indigo-500 to-indigo-600 text-white hover:from-indigo-600 hover:to-indigo-700 shadow-md hover:shadow-lg w-full",children:"Réserver"})})]}),f.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4",children:[f.jsx("h4",{className:"text-sm font-medium text-emerald-900 text-center mb-3",children:"Publications"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>_(E),className:"btn bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700 shadow-md hover:shadow-lg w-full",children:[f.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Associer une publication"]}),f.jsxs("button",{onClick:()=>y(E),className:`btn bg-gradient-to-r from-emerald-400 to-emerald-500 text-white hover:from-emerald-500 hover:to-emerald-600 shadow-md hover:shadow-lg w-full ${A?"animate-pulse ring-2 ring-yellow-400":""}`,children:[f.jsx(Ch,{className:"h-4 w-4 mr-2"}),"Gérer le stock",A&&f.jsx(Wn,{className:"h-4 w-4 ml-2 text-yellow-200"})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4",children:[f.jsx("h4",{className:"text-sm font-medium text-amber-900 text-center mb-3",children:"Maintenance"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("button",{onClick:()=>b({stand:E,type:"preventive"}),className:"btn bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-md hover:shadow-lg w-full",children:[f.jsx(yi,{className:"h-4 w-4 mr-2"}),"Préventive"]}),f.jsxs("button",{onClick:()=>b({stand:E,type:"curative"}),className:"btn bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700 shadow-md hover:shadow-lg w-full",children:[f.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Curative"]})]})]})]})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[S?f.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden border border-gray-200 bg-white flex items-center justify-center",children:f.jsx("img",{src:S,alt:E.currentPoster,className:"w-full h-full object-contain"})}):f.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 bg-gray-50 flex items-center justify-center",children:f.jsx(gv,{className:"h-8 w-8 text-gray-400"})}),f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100",children:f.jsx(i4,{value:`${window.location.origin}/stand/${E.id}`,size:96,level:"H",includeMargin:!0})}),f.jsxs(Di,{to:`/stand/${E.id}`,className:"btn btn-secondary inline-flex items-center text-sm px-3 py-1.5",children:[f.jsx(fJ,{className:"h-4 w-4 mr-1.5"}),"Accéder à la page publique"]})]})]})]})},E.id)})}),c&&f.jsx(a4,{stand:c,isOpen:!0,onClose:()=>d(null),onReserve:e}),h&&f.jsx(o4,{stand:h,isOpen:!0,onClose:()=>m(null),onSubmit:r,availablePosters:a}),g&&f.jsx(s4,{stand:g,isOpen:!0,onClose:()=>y(null),onUpdateStock:i,publications:o}),w&&f.jsx(Hee,{stand:w,isOpen:!0,onClose:()=>_(null),onSubmit:(E,A,S)=>{console.log("Association publication:",{standId:E,publicationId:A,data:S})},publications:o}),v&&f.jsx(NS,{stand:v.stand,type:v.type,isOpen:!0,onClose:()=>b(null),onSubmit:i})]})},Xc=({title:t,value:e,icon:n,color:r,link:i})=>f.jsx(Di,{to:i,className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer bg-gradient-to-br hover:shadow-lg",style:{background:`linear-gradient(to bottom right, var(--${r}))`},children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg",children:n}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:e})]})]})}),l4=({isOpen:t,onClose:e})=>{const{currentUser:n}=Ei(),{currentOrganization:r}=Pr(),[i,a]=D.useState(!1),[o,s]=D.useState([]),[l,u]=D.useState({name:"",location:"",currentPoster:""});D.useEffect(()=>{(async()=>{if(r?.id)try{const h=no(hn(ge,"posters"),ro("organizationId","==",r.id),ro("isActive","==",!0)),g=(await zL(h)).docs.map(y=>({id:y.id,...y.data()}));s(g)}catch(h){console.error("Error loading posters:",h),K.error("Erreur lors du chargement des affiches")}})()},[r?.id]);const c=async d=>{if(d.preventDefault(),!n||!r){K.error("Vous devez être connecté");return}if(l.name.trim().length<2){K.error("Le nom doit contenir au moins 2 caractères");return}try{a(!0),await ys(hn(ge,"stands"),{...l,organizationId:r.id,createdAt:Tt(),lastUpdated:Tt(),isReserved:!1,maintenanceHistory:[],publications:[],posterRequests:[],reservationHistory:[]}),K.success("Présentoir ajouté avec succès"),e()}catch(h){console.error("Erreur lors de l'ajout:",h),K.error("Erreur lors de l'ajout du présentoir")}finally{a(!1)}};return f.jsx(Hr,{isOpen:t,onClose:e,title:"Ajouter un nouveau présentoir",children:f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du présentoir *"}),f.jsx("input",{type:"text",className:"input",value:l.name,onChange:d=>u({...l,name:d.target.value}),required:!0,minLength:2,placeholder:"Ex: Présentoir Hall Principal"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation *"}),f.jsx("input",{type:"text",className:"input",value:l.location,onChange:d=>u({...l,location:d.target.value}),required:!0,placeholder:"Ex: Hall d'entrée"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affiche actuelle"}),f.jsxs("select",{className:"input",value:l.currentPoster,onChange:d=>u({...l,currentPoster:d.target.value}),children:[f.jsx("option",{value:"",children:"Sélectionnez une affiche"}),o.map(d=>f.jsx("option",{value:d.name,children:d.name},d.id))]}),l.currentPoster&&f.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(()=>{const d=o.find(h=>h.name===l.currentPoster);return d?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-white flex items-center justify-center",children:d.imageUrl?f.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-full h-full object-cover"}):f.jsx(gv,{className:"h-8 w-8 text-gray-400"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900",children:d.name}),d.description&&f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description})]})]}):null})()})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:i,children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ajout en cours..."]}):"Ajouter le présentoir"})]})]})})},Kee=()=>{_i();const{stands:t,publications:e,availablePosters:n,addMaintenance:r}=sc(),{currentUser:i}=Ei(),{currentOrganization:a}=Pr(),[o,s]=D.useState(null),[l,u]=D.useState(!1),[c,d]=D.useState(null);D.useState(null);const[h,m]=D.useState(null),[g,y]=D.useState(null),v=A=>{const S=t.find(T=>T.id===A);return S?(S.publications||[]).map(T=>{const O=e.find(C=>C.id===T.publicationId);return O&&T.quantity<O.minStock?{title:O.title,current:T.quantity,required:O.minStock}:null}).filter(Boolean):[]},b={total:t.length,reserved:t.filter(A=>A.isReserved).length,available:t.filter(A=>!A.isReserved).length,needsMaintenance:t.filter(A=>{const S=A.maintenanceHistory?.slice(-1)[0];if(!S)return!0;const T=new Date(S.date);return T.setMonth(T.getMonth()+3),new Date>T}).length,lowStock:t.reduce((A,S)=>A+(v(S.id).length>0?1:0),0)},w=async(A,S,T)=>{if(!i||!a){K.error("Vous devez être connecté");return}try{const O=t.find(R=>R.id===A);if(!O)return;const C=Ge(ge,"stands",A);await yr(C,{publications:(O.publications||[]).map(R=>R.publicationId===S?{...R,quantity:T,lastUpdated:new Date().toISOString()}:R),lastUpdated:Tt()});const N=e.find(R=>R.id===S);N&&T<N.minStock&&await TJ(a.id,"stock","Stock bas",`Le stock de ${N.title} est bas (${T}/${N.minStock})`,{standId:A,publicationId:S,quantity:T}),K.success("Stock mis à jour")}catch(O){console.error("Error updating stock:",O),K.error("Erreur lors de la mise à jour")}},_=async(A,S)=>{try{const T=Ge(ge,"stands",A);await yr(T,{isReserved:!0,reservedBy:S.name,reservedUntil:S.endDate.toISOString(),lastUpdated:Tt()}),K.success("Réservation effectuée avec succès")}catch(T){console.error("Error making reservation:",T),K.error("Erreur lors de la réservation")}},P=async A=>{try{const S=Ge(ge,"stands",A);await yr(S,{isReserved:!1,reservedBy:null,reservedUntil:null,lastUpdated:Tt()}),K.success("Réservation annulée")}catch(S){console.error("Error canceling reservation:",S),K.error("Erreur lors de l'annulation")}},E=async(A,S,T)=>{try{const O=t.find(N=>N.id===A);if(!O)return;const C=Ge(ge,"stands",A);await yr(C,{posterRequests:[...O.posterRequests||[],{id:crypto.randomUUID(),requestedPoster:S,requestDate:new Date().toISOString(),status:"pending",notes:T}],lastUpdated:Tt()}),K.success("Demande d'affiche envoyée")}catch(O){console.error("Error requesting poster:",O),K.error("Erreur lors de la demande")}};return f.jsxs("div",{className:"space-y-8",children:[f.jsx("div",{children:f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tableau de Bord"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[f.jsx(Xc,{title:"Total Présentoirs",value:b.total,icon:f.jsx(LV,{className:"h-6 w-6"}),color:"from-blue-50 to-blue-100",link:"/stands"}),f.jsx(Xc,{title:"Disponibles",value:b.available,icon:f.jsx(ac,{className:"h-6 w-6"}),color:"from-green-50 to-green-100",link:"/stands/available"}),f.jsx(Xc,{title:"Réservés",value:b.reserved,icon:f.jsx($V,{className:"h-6 w-6"}),color:"from-yellow-50 to-yellow-100",link:"/stands/reserved"}),f.jsx(Xc,{title:"Maintenance",value:b.needsMaintenance,icon:f.jsx(yi,{className:"h-6 w-6"}),color:"from-red-50 to-red-100",link:"/maintenance"}),f.jsx(Xc,{title:"Stock Bas",value:b.lowStock,icon:f.jsx(Wn,{className:"h-6 w-6"}),color:"from-orange-50 to-orange-100",link:"/stands/low-stock"})]}),f.jsx("div",{className:"space-y-6",children:f.jsx(Gee,{stands:t,getLowStockPublications:v,onReserve:_,onCancelReservation:P,onPosterRequest:E,onUpdateStock:w,availablePosters:n,publications:e,hoveredStandId:o,setHoveredStandId:s})}),l&&f.jsx(l4,{isOpen:l,onClose:()=>u(!1)}),c&&f.jsx(o4,{stand:c,isOpen:!0,onClose:()=>d(null),onSubmit:E,availablePosters:n}),h&&f.jsx(s4,{stand:h,isOpen:!0,onClose:()=>m(null),onUpdateStock:w,publications:e}),g&&f.jsx(NS,{stand:g,type:"preventive",isOpen:!0,onClose:()=>y(null),onSubmit:(A,S)=>{r(A,S),y(null)}})]})};function u4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u4(t))&&(r&&(r+=" "),r+=e);return r}var Yee=Array.isArray,Hn=Yee,Qee=typeof ap=="object"&&ap&&ap.Object===Object&&ap,c4=Qee,Xee=c4,Jee=typeof self=="object"&&self&&self.Object===Object&&self,Zee=Xee||Jee||Function("return this")(),Si=Zee,ete=Si,tte=ete.Symbol,Mh=tte,xN=Mh,d4=Object.prototype,nte=d4.hasOwnProperty,rte=d4.toString,Jc=xN?xN.toStringTag:void 0;function ite(t){var e=nte.call(t,Jc),n=t[Jc];try{t[Jc]=void 0;var r=!0}catch{}var i=rte.call(t);return r&&(e?t[Jc]=n:delete t[Jc]),i}var ate=ite,ote=Object.prototype,ste=ote.toString;function lte(t){return ste.call(t)}var ute=lte,_N=Mh,cte=ate,dte=ute,fte="[object Null]",hte="[object Undefined]",EN=_N?_N.toStringTag:void 0;function pte(t){return t==null?t===void 0?hte:fte:EN&&EN in Object(t)?cte(t):dte(t)}var da=pte;function mte(t){return t!=null&&typeof t=="object"}var fa=mte,gte=da,yte=fa,vte="[object Symbol]";function bte(t){return typeof t=="symbol"||yte(t)&&gte(t)==vte}var lc=bte,wte=Hn,xte=lc,_te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ete=/^\w*$/;function Ste(t,e){if(wte(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xte(t)?!0:Ete.test(t)||!_te.test(t)||e!=null&&t in Object(e)}var CS=Ste;function Tte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Po=Tte;const uc=Ue(Po);var Ate=da,Ite=Po,Pte="[object AsyncFunction]",Ote="[object Function]",Nte="[object GeneratorFunction]",Cte="[object Proxy]";function kte(t){if(!Ite(t))return!1;var e=Ate(t);return e==Ote||e==Nte||e==Pte||e==Cte}var kS=kte;const me=Ue(kS);var jte=Si,Rte=jte["__core-js_shared__"],Dte=Rte,Tb=Dte,SN=function(){var t=/[^.]+$/.exec(Tb&&Tb.keys&&Tb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mte(t){return!!SN&&SN in t}var $te=Mte,Lte=Function.prototype,Vte=Lte.toString;function Fte(t){if(t!=null){try{return Vte.call(t)}catch{}try{return t+""}catch{}}return""}var f4=Fte,Bte=kS,Ute=$te,zte=Po,qte=f4,Wte=/[\\^$.*+?()[\]{}|]/g,Hte=/^\[object .+?Constructor\]$/,Gte=Function.prototype,Kte=Object.prototype,Yte=Gte.toString,Qte=Kte.hasOwnProperty,Xte=RegExp("^"+Yte.call(Qte).replace(Wte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jte(t){if(!zte(t)||Ute(t))return!1;var e=Bte(t)?Xte:Hte;return e.test(qte(t))}var Zte=Jte;function ene(t,e){return t?.[e]}var tne=ene,nne=Zte,rne=tne;function ine(t,e){var n=rne(t,e);return nne(n)?n:void 0}var tl=ine,ane=tl,one=ane(Object,"create"),wv=one,TN=wv;function sne(){this.__data__=TN?TN(null):{},this.size=0}var lne=sne;function une(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cne=une,dne=wv,fne="__lodash_hash_undefined__",hne=Object.prototype,pne=hne.hasOwnProperty;function mne(t){var e=this.__data__;if(dne){var n=e[t];return n===fne?void 0:n}return pne.call(e,t)?e[t]:void 0}var gne=mne,yne=wv,vne=Object.prototype,bne=vne.hasOwnProperty;function wne(t){var e=this.__data__;return yne?e[t]!==void 0:bne.call(e,t)}var xne=wne,_ne=wv,Ene="__lodash_hash_undefined__";function Sne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_ne&&e===void 0?Ene:e,this}var Tne=Sne,Ane=lne,Ine=cne,Pne=gne,One=xne,Nne=Tne;function cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cc.prototype.clear=Ane;cc.prototype.delete=Ine;cc.prototype.get=Pne;cc.prototype.has=One;cc.prototype.set=Nne;var Cne=cc;function kne(){this.__data__=[],this.size=0}var jne=kne;function Rne(t,e){return t===e||t!==t&&e!==e}var jS=Rne,Dne=jS;function Mne(t,e){for(var n=t.length;n--;)if(Dne(t[n][0],e))return n;return-1}var xv=Mne,$ne=xv,Lne=Array.prototype,Vne=Lne.splice;function Fne(t){var e=this.__data__,n=$ne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vne.call(e,n,1),--this.size,!0}var Bne=Fne,Une=xv;function zne(t){var e=this.__data__,n=Une(e,t);return n<0?void 0:e[n][1]}var qne=zne,Wne=xv;function Hne(t){return Wne(this.__data__,t)>-1}var Gne=Hne,Kne=xv;function Yne(t,e){var n=this.__data__,r=Kne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Qne=Yne,Xne=jne,Jne=Bne,Zne=qne,ere=Gne,tre=Qne;function dc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dc.prototype.clear=Xne;dc.prototype.delete=Jne;dc.prototype.get=Zne;dc.prototype.has=ere;dc.prototype.set=tre;var _v=dc,nre=tl,rre=Si,ire=nre(rre,"Map"),RS=ire,AN=Cne,are=_v,ore=RS;function sre(){this.size=0,this.__data__={hash:new AN,map:new(ore||are),string:new AN}}var lre=sre;function ure(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cre=ure,dre=cre;function fre(t,e){var n=t.__data__;return dre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ev=fre,hre=Ev;function pre(t){var e=hre(this,t).delete(t);return this.size-=e?1:0,e}var mre=pre,gre=Ev;function yre(t){return gre(this,t).get(t)}var vre=yre,bre=Ev;function wre(t){return bre(this,t).has(t)}var xre=wre,_re=Ev;function Ere(t,e){var n=_re(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Sre=Ere,Tre=lre,Are=mre,Ire=vre,Pre=xre,Ore=Sre;function fc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fc.prototype.clear=Tre;fc.prototype.delete=Are;fc.prototype.get=Ire;fc.prototype.has=Pre;fc.prototype.set=Ore;var DS=fc,h4=DS,Nre="Expected a function";function MS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(MS.Cache||h4),n}MS.Cache=h4;var p4=MS;const Cre=Ue(p4);var kre=p4,jre=500;function Rre(t){var e=kre(t,function(r){return n.size===jre&&n.clear(),r}),n=e.cache;return e}var Dre=Rre,Mre=Dre,$re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lre=/\\(\\)?/g,Vre=Mre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($re,function(n,r,i,a){e.push(i?a.replace(Lre,"$1"):r||n)}),e}),Fre=Vre;function Bre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $S=Bre,IN=Mh,Ure=$S,zre=Hn,qre=lc,Wre=1/0,PN=IN?IN.prototype:void 0,ON=PN?PN.toString:void 0;function m4(t){if(typeof t=="string")return t;if(zre(t))return Ure(t,m4)+"";if(qre(t))return ON?ON.call(t):"";var e=t+"";return e=="0"&&1/t==-Wre?"-0":e}var Hre=m4,Gre=Hre;function Kre(t){return t==null?"":Gre(t)}var g4=Kre,Yre=Hn,Qre=CS,Xre=Fre,Jre=g4;function Zre(t,e){return Yre(t)?t:Qre(t,e)?[t]:Xre(Jre(t))}var y4=Zre,eie=lc,tie=1/0;function nie(t){if(typeof t=="string"||eie(t))return t;var e=t+"";return e=="0"&&1/t==-tie?"-0":e}var Sv=nie,rie=y4,iie=Sv;function aie(t,e){e=rie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[iie(e[n++])];return n&&n==r?t:void 0}var LS=aie,oie=LS;function sie(t,e,n){var r=t==null?void 0:oie(t,e);return r===void 0?n:r}var v4=sie;const rr=Ue(v4);function lie(t){return t==null}var uie=lie;const xe=Ue(uie);var cie=da,die=Hn,fie=fa,hie="[object String]";function pie(t){return typeof t=="string"||!die(t)&&fie(t)&&cie(t)==hie}var mie=pie;const $h=Ue(mie);var b4={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=Symbol.for("react.element"),FS=Symbol.for("react.portal"),Tv=Symbol.for("react.fragment"),Av=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Ov=Symbol.for("react.context"),gie=Symbol.for("react.server_context"),Nv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),jv=Symbol.for("react.memo"),Rv=Symbol.for("react.lazy"),yie=Symbol.for("react.offscreen"),w4;w4=Symbol.for("react.module.reference");function Or(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case VS:switch(t=t.type,t){case Tv:case Iv:case Av:case Cv:case kv:return t;default:switch(t=t&&t.$$typeof,t){case gie:case Ov:case Nv:case Rv:case jv:case Pv:return t;default:return e}}case FS:return e}}}ze.ContextConsumer=Ov;ze.ContextProvider=Pv;ze.Element=VS;ze.ForwardRef=Nv;ze.Fragment=Tv;ze.Lazy=Rv;ze.Memo=jv;ze.Portal=FS;ze.Profiler=Iv;ze.StrictMode=Av;ze.Suspense=Cv;ze.SuspenseList=kv;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return Or(t)===Ov};ze.isContextProvider=function(t){return Or(t)===Pv};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===VS};ze.isForwardRef=function(t){return Or(t)===Nv};ze.isFragment=function(t){return Or(t)===Tv};ze.isLazy=function(t){return Or(t)===Rv};ze.isMemo=function(t){return Or(t)===jv};ze.isPortal=function(t){return Or(t)===FS};ze.isProfiler=function(t){return Or(t)===Iv};ze.isStrictMode=function(t){return Or(t)===Av};ze.isSuspense=function(t){return Or(t)===Cv};ze.isSuspenseList=function(t){return Or(t)===kv};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tv||t===Iv||t===Av||t===Cv||t===kv||t===yie||typeof t=="object"&&t!==null&&(t.$$typeof===Rv||t.$$typeof===jv||t.$$typeof===Pv||t.$$typeof===Ov||t.$$typeof===Nv||t.$$typeof===w4||t.getModuleId!==void 0)};ze.typeOf=Or;b4.exports=ze;var vie=b4.exports,bie=da,wie=fa,xie="[object Number]";function _ie(t){return typeof t=="number"||wie(t)&&bie(t)==xie}var x4=_ie;const Eie=Ue(x4);var Sie=x4;function Tie(t){return Sie(t)&&t!=+t}var Aie=Tie;const hc=Ue(Aie);var Tn=function(e){return e===0?0:e>0?1:-1},ls=function(e){return $h(e)&&e.indexOf("%")===e.length-1},ee=function(e){return Eie(e)&&!hc(e)},Mt=function(e){return ee(e)||$h(e)},Iie=0,pc=function(e){var n=++Iie;return"".concat(e||"").concat(n)},An=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!$h(e))return r;var a;if(ls(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return hc(a)&&(a=r),i&&a>n&&(a=n),a},Ma=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Pie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Mn=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function yg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):rr(r,e))===n})}function Jl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}var Oie=["viewBox","children"],Nie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NN=["points","pathLength"],Ab={svg:Oie,polygon:NN,polyline:NN},BS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!uc(r))return null;var i={};return Object.keys(r).forEach(function(a){BS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Cie=function(e,n,r){return function(i){return e(n,r,i),null}},Bs=function(e,n,r){if(!uc(e)||zx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];BS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Cie(o,n,r))}),i},kie=["children"],jie=["children"];function CN(t,e){if(t==null)return{};var n=Rie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}var kN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jN=null,Ib=null,US=function t(e){if(e===jN&&Array.isArray(Ib))return Ib;var n=[];return D.Children.forEach(e,function(r){xe(r)||(vie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ib=n,jN=e,n};function xr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ki(i)}):r=[Ki(e)],US(t).forEach(function(i){var a=rr(i,"type.displayName")||rr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Qn(t,e){var n=xr(t,e);return n&&n[0]}var RN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},Die=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mie=function(e){return e&&e.type&&$h(e.type)&&Die.indexOf(e.type)>=0},$ie=function(e){return e&&qx(e)==="object"&&"clipDot"in e},Lie=function(e,n,r,i){var a,o=(a=Ab?.[i])!==null&&a!==void 0?a:[];return!me(e)&&(i&&o.includes(n)||Nie.includes(n))||r&&BS.includes(n)},de=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!uc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Lie((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},Wx=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!DN(a,o))return!1}return!0},DN=function(e,n){if(xe(e)&&xe(n))return!0;if(!xe(e)&&!xe(n)){var r=e.props||{},i=r.children,a=CN(r,kie),o=n.props||{},s=o.children,l=CN(o,jie);return i&&s?Jl(a,l)&&Wx(i,s):!i&&!s?Jl(a,l):!1}return!1},MN=function(e,n){var r=[],i={};return US(e).forEach(function(a,o){if(Mie(a))r.push(a);else if(a){var s=Ki(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},Vie=function(e){var n=e&&e.type;return n&&kN[n]?kN[n]:null},Fie=function(e,n){return US(n).indexOf(e)},Bie=["children","width","height","viewBox","className","style","title","desc"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function Uie(t,e){if(t==null)return{};var n=zie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gx(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=Uie(t,Bie),c=i||{width:n,height:r,x:0,y:0},d=Ee("recharts-surface",a);return M.createElement("svg",Hx({},de(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var qie=["children","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function Wie(t,e){if(t==null)return{};var n=Hie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var je=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=Wie(t,qie),a=Ee("recharts-layer",r);return M.createElement("g",Kx({className:a},de(i,!0),{ref:e}),n)}),zr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Gie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Kie=Gie,Yie=Kie;function Qie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Yie(t,e,n)}var Xie=Qie,Jie="\\ud800-\\udfff",Zie="\\u0300-\\u036f",eae="\\ufe20-\\ufe2f",tae="\\u20d0-\\u20ff",nae=Zie+eae+tae,rae="\\ufe0e\\ufe0f",iae="\\u200d",aae=RegExp("["+iae+Jie+nae+rae+"]");function oae(t){return aae.test(t)}var _4=oae;function sae(t){return t.split("")}var lae=sae,E4="\\ud800-\\udfff",uae="\\u0300-\\u036f",cae="\\ufe20-\\ufe2f",dae="\\u20d0-\\u20ff",fae=uae+cae+dae,hae="\\ufe0e\\ufe0f",pae="["+E4+"]",Yx="["+fae+"]",Qx="\\ud83c[\\udffb-\\udfff]",mae="(?:"+Yx+"|"+Qx+")",S4="[^"+E4+"]",T4="(?:\\ud83c[\\udde6-\\uddff]){2}",A4="[\\ud800-\\udbff][\\udc00-\\udfff]",gae="\\u200d",I4=mae+"?",P4="["+hae+"]?",yae="(?:"+gae+"(?:"+[S4,T4,A4].join("|")+")"+P4+I4+")*",vae=P4+I4+yae,bae="(?:"+[S4+Yx+"?",Yx,T4,A4,pae].join("|")+")",wae=RegExp(Qx+"(?="+Qx+")|"+bae+vae,"g");function xae(t){return t.match(wae)||[]}var _ae=xae,Eae=lae,Sae=_4,Tae=_ae;function Aae(t){return Sae(t)?Tae(t):Eae(t)}var Iae=Aae,Pae=Xie,Oae=_4,Nae=Iae,Cae=g4;function kae(t){return function(e){e=Cae(e);var n=Oae(e)?Nae(e):void 0,r=n?n[0]:e.charAt(0),i=n?Pae(n,1).join(""):e.slice(1);return r[t]()+i}}var jae=kae,Rae=jae,Dae=Rae("toUpperCase"),Mae=Dae;const Dv=Ue(Mae);function Je(t){return function(){return t}}const O4=Math.cos,bg=Math.sin,Gr=Math.sqrt,wg=Math.PI,Mv=2*wg,Xx=Math.PI,Jx=2*Xx,Go=1e-6,$ae=Jx-Go;function N4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Lae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N4:Lae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Go)if(!(Math.abs(d*l-u*c)>Go)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,y=l*l+u*u,v=m*m+g*g,b=Math.sqrt(y),w=Math.sqrt(h),_=a*Math.tan((Xx-Math.acos((y+h-v)/(2*b*w)))/2),P=_/w,E=_/b;Math.abs(P-1)>Go&&this._append`L${e+P*c},${n+P*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Go||Math.abs(this._y1-c)>Go)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Jx+Jx),h>$ae?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Go&&this._append`A${r},${r},0,${+(h>=Xx)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vae(e)}function qS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function C4(t){this._context=t}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $v(t){return new C4(t)}function k4(t){return t[0]}function j4(t){return t[1]}function R4(t,e){var n=Je(!0),r=null,i=$v,a=null,o=zS(s);t=typeof t=="function"?t:t===void 0?k4:Je(t),e=typeof e=="function"?e:e===void 0?j4:Je(e);function s(l){var u,c=(l=qS(l)).length,d,h=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Je(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Je(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function jp(t,e,n){var r=null,i=Je(!0),a=null,o=$v,s=null,l=zS(u);t=typeof t=="function"?t:t===void 0?k4:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?j4:Je(+n);function u(d){var h,m,g,y=(d=qS(d)).length,v,b=!1,w,_=new Array(y),P=new Array(y);for(a==null&&(s=o(w=l())),h=0;h<=y;++h){if(!(h<y&&i(v=d[h],h,d))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(_[g],P[g]);s.lineEnd(),s.areaEnd()}b&&(_[h]=+t(v,h,d),P[h]=+e(v,h,d),s.point(r?+r(v,h,d):_[h],n?+n(v,h,d):P[h]))}if(w)return s=null,w+""||null}function c(){return R4().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Je(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Je(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Je(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class D4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Fae(t){return new D4(t,!0)}function Bae(t){return new D4(t,!1)}const WS={draw(t,e){const n=Gr(e/wg);t.moveTo(n,0),t.arc(0,0,n,0,Mv)}},Uae={draw(t,e){const n=Gr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},M4=Gr(1/3),zae=M4*2,qae={draw(t,e){const n=Gr(e/zae),r=n*M4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Wae={draw(t,e){const n=Gr(e),r=-n/2;t.rect(r,r,n,n)}},Hae=.8908130915292852,$4=bg(wg/10)/bg(7*wg/10),Gae=bg(Mv/10)*$4,Kae=-O4(Mv/10)*$4,Yae={draw(t,e){const n=Gr(e*Hae),r=Gae*n,i=Kae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Mv*a/5,s=O4(o),l=bg(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Pb=Gr(3),Qae={draw(t,e){const n=-Gr(e/(Pb*3));t.moveTo(0,n*2),t.lineTo(-Pb*n,-n),t.lineTo(Pb*n,-n),t.closePath()}},lr=-.5,ur=Gr(3)/2,Zx=1/Gr(12),Xae=(Zx/2+1)*3,Jae={draw(t,e){const n=Gr(e/Xae),r=n/2,i=n*Zx,a=r,o=n*Zx+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(lr*r-ur*i,ur*r+lr*i),t.lineTo(lr*a-ur*o,ur*a+lr*o),t.lineTo(lr*s-ur*l,ur*s+lr*l),t.lineTo(lr*r+ur*i,lr*i-ur*r),t.lineTo(lr*a+ur*o,lr*o-ur*a),t.lineTo(lr*s+ur*l,lr*l-ur*s),t.closePath()}};function Zae(t,e){let n=null,r=zS(i);t=typeof t=="function"?t:Je(t||WS),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Je(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Je(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function xg(){}function _g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function L4(t){this._context=t}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eoe(t){return new L4(t)}function V4(t){this._context=t}V4.prototype={areaStart:xg,areaEnd:xg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function toe(t){return new V4(t)}function F4(t){this._context=t}F4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function noe(t){return new F4(t)}function B4(t){this._context=t}B4.prototype={areaStart:xg,areaEnd:xg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function roe(t){return new B4(t)}function $N(t){return t<0?-1:1}function LN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return($N(a)+$N(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function VN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ob(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Eg(t){this._context=t}Eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ob(this,this._t0,VN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ob(this,VN(this,n=LN(this,t,e)),n);break;default:Ob(this,this._t0,n=LN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function U4(t){this._context=new z4(t)}(U4.prototype=Object.create(Eg.prototype)).point=function(t,e){Eg.prototype.point.call(this,e,t)};function z4(t){this._context=t}z4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ioe(t){return new Eg(t)}function aoe(t){return new U4(t)}function q4(t){this._context=t}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FN(t),i=FN(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ooe(t){return new q4(t)}function Lv(t,e){this._context=t,this._t=e}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function soe(t){return new Lv(t,.5)}function loe(t){return new Lv(t,0)}function uoe(t){return new Lv(t,1)}function xu(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function e_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function coe(t,e){return t[e]}function doe(t){const e=[];return e.key=t,e}function foe(){var t=Je([]),e=e_,n=xu,r=coe;function i(a){var o=Array.from(t.apply(this,arguments),doe),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,c=qS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Je(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Je(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?e_:typeof a=="function"?a:Je(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??xu,i):n},i}function hoe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xu(t,e)}}function poe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}xu(t,e)}}function moe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,m=(d-h)/2,g=0;g<s;++g){var y=t[e[g]],v=y[r][1]||0,b=y[r-1][1]||0;m+=v-b}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,xu(t,e)}}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}var goe=["type","size","sizeType"];function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yoe(t,e,n){return e=voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function voe(t){var e=boe(t,"string");return Of(e)=="symbol"?e:e+""}function boe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){if(t==null)return{};var n=xoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var W4={symbolCircle:WS,symbolCross:Uae,symbolDiamond:qae,symbolSquare:Wae,symbolStar:Yae,symbolTriangle:Qae,symbolWye:Jae},_oe=Math.PI/180,Eoe=function(e){var n="symbol".concat(Dv(e));return W4[n]||WS},Soe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_oe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Toe=function(e,n){W4["symbol".concat(Dv(e))]=n},HS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=woe(e,goe),u=UN(UN({},l),{},{type:r,size:a,sizeType:s}),c=function(){var v=Eoe(r),b=Zae().type(v).size(Soe(a,s,r));return b()},d=u.className,h=u.cx,m=u.cy,g=de(u,!0);return h===+h&&m===+m&&a===+a?M.createElement("path",t_({},g,{className:Ee("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};HS.registerSymbol=Toe;function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){Nf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Poe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function Ooe(t,e,n){return e&&Poe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Noe(t,e,n){return e=Sg(e),Coe(t,H4()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function Coe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(t)}function koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function Nf(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=Roe(t,"string");return _u(e)=="symbol"?e:e+""}function Roe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cr=32,GS=function(t){function e(){return Ioe(this,e),Noe(this,e,arguments)}return joe(e,t),Ooe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=cr/2,o=cr/6,s=cr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:cr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(cr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=Aoe({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(HS,{fill:l,cx:a,cy:a,size:cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:cr,height:cr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var y=m.formatter||l,v=Ee(Nf(Nf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=me(m.value)?null:m.value;zr(!me(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return M.createElement("li",n_({className:v,style:d,key:"legend-item-".concat(g)},Bs(r.props,m,g)),M.createElement(Gx,{width:o,height:o,viewBox:c,style:h},r.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(b,m,g):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Nf(GS,"displayName","Legend");Nf(GS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Doe=_v;function Moe(){this.__data__=new Doe,this.size=0}var $oe=Moe;function Loe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Voe=Loe;function Foe(t){return this.__data__.get(t)}var Boe=Foe;function Uoe(t){return this.__data__.has(t)}var zoe=Uoe,qoe=_v,Woe=RS,Hoe=DS,Goe=200;function Koe(t,e){var n=this.__data__;if(n instanceof qoe){var r=n.__data__;if(!Woe||r.length<Goe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hoe(r)}return n.set(t,e),this.size=n.size,this}var Yoe=Koe,Qoe=_v,Xoe=$oe,Joe=Voe,Zoe=Boe,ese=zoe,tse=Yoe;function mc(t){var e=this.__data__=new Qoe(t);this.size=e.size}mc.prototype.clear=Xoe;mc.prototype.delete=Joe;mc.prototype.get=Zoe;mc.prototype.has=ese;mc.prototype.set=tse;var K4=mc,nse="__lodash_hash_undefined__";function rse(t){return this.__data__.set(t,nse),this}var ise=rse;function ase(t){return this.__data__.has(t)}var ose=ase,sse=DS,lse=ise,use=ose;function Tg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new sse;++e<n;)this.add(t[e])}Tg.prototype.add=Tg.prototype.push=lse;Tg.prototype.has=use;var Y4=Tg;function cse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Q4=cse;function dse(t,e){return t.has(e)}var X4=dse,fse=Y4,hse=Q4,pse=X4,mse=1,gse=2;function yse(t,e,n,r,i,a){var o=n&mse,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,m=n&gse?new fse:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],y=e[d];if(r)var v=o?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!hse(e,function(b,w){if(!pse(m,w)&&(g===b||i(g,b,n,r,a)))return m.push(w)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var J4=yse,vse=Si,bse=vse.Uint8Array,wse=bse;function xse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _se=xse;function Ese(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var KS=Ese,qN=Mh,WN=wse,Sse=jS,Tse=J4,Ase=_se,Ise=KS,Pse=1,Ose=2,Nse="[object Boolean]",Cse="[object Date]",kse="[object Error]",jse="[object Map]",Rse="[object Number]",Dse="[object RegExp]",Mse="[object Set]",$se="[object String]",Lse="[object Symbol]",Vse="[object ArrayBuffer]",Fse="[object DataView]",HN=qN?qN.prototype:void 0,Nb=HN?HN.valueOf:void 0;function Bse(t,e,n,r,i,a,o){switch(n){case Fse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vse:return!(t.byteLength!=e.byteLength||!a(new WN(t),new WN(e)));case Nse:case Cse:case Rse:return Sse(+t,+e);case kse:return t.name==e.name&&t.message==e.message;case Dse:case $se:return t==e+"";case jse:var s=Ase;case Mse:var l=r&Pse;if(s||(s=Ise),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Ose,o.set(t,e);var c=Tse(s(t),s(e),r,i,a,o);return o.delete(t),c;case Lse:if(Nb)return Nb.call(t)==Nb.call(e)}return!1}var Use=Bse;function zse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Z4=zse,qse=Z4,Wse=Hn;function Hse(t,e,n){var r=e(t);return Wse(t)?r:qse(r,n(t))}var Gse=Hse;function Kse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Yse=Kse;function Qse(){return[]}var Xse=Qse,Jse=Yse,Zse=Xse,ele=Object.prototype,tle=ele.propertyIsEnumerable,GN=Object.getOwnPropertySymbols,nle=GN?function(t){return t==null?[]:(t=Object(t),Jse(GN(t),function(e){return tle.call(t,e)}))}:Zse,rle=nle;function ile(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ale=ile,ole=da,sle=fa,lle="[object Arguments]";function ule(t){return sle(t)&&ole(t)==lle}var cle=ule,KN=cle,dle=fa,eF=Object.prototype,fle=eF.hasOwnProperty,hle=eF.propertyIsEnumerable,ple=KN(function(){return arguments}())?KN:function(t){return dle(t)&&fle.call(t,"callee")&&!hle.call(t,"callee")},YS=ple,Ag={exports:{}};function mle(){return!1}var gle=mle;Ag.exports;(function(t,e){var n=Si,r=gle,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ag,Ag.exports);var tF=Ag.exports,yle=9007199254740991,vle=/^(?:0|[1-9]\d*)$/;function ble(t,e){var n=typeof t;return e=e??yle,!!e&&(n=="number"||n!="symbol"&&vle.test(t))&&t>-1&&t%1==0&&t<e}var QS=ble,wle=9007199254740991;function xle(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wle}var XS=xle,_le=da,Ele=XS,Sle=fa,Tle="[object Arguments]",Ale="[object Array]",Ile="[object Boolean]",Ple="[object Date]",Ole="[object Error]",Nle="[object Function]",Cle="[object Map]",kle="[object Number]",jle="[object Object]",Rle="[object RegExp]",Dle="[object Set]",Mle="[object String]",$le="[object WeakMap]",Lle="[object ArrayBuffer]",Vle="[object DataView]",Fle="[object Float32Array]",Ble="[object Float64Array]",Ule="[object Int8Array]",zle="[object Int16Array]",qle="[object Int32Array]",Wle="[object Uint8Array]",Hle="[object Uint8ClampedArray]",Gle="[object Uint16Array]",Kle="[object Uint32Array]",rt={};rt[Fle]=rt[Ble]=rt[Ule]=rt[zle]=rt[qle]=rt[Wle]=rt[Hle]=rt[Gle]=rt[Kle]=!0;rt[Tle]=rt[Ale]=rt[Lle]=rt[Ile]=rt[Vle]=rt[Ple]=rt[Ole]=rt[Nle]=rt[Cle]=rt[kle]=rt[jle]=rt[Rle]=rt[Dle]=rt[Mle]=rt[$le]=!1;function Yle(t){return Sle(t)&&Ele(t.length)&&!!rt[_le(t)]}var Qle=Yle;function Xle(t){return function(e){return t(e)}}var nF=Xle,Ig={exports:{}};Ig.exports;(function(t,e){var n=c4,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Ig,Ig.exports);var Jle=Ig.exports,Zle=Qle,eue=nF,YN=Jle,QN=YN&&YN.isTypedArray,tue=QN?eue(QN):Zle,rF=tue,nue=ale,rue=YS,iue=Hn,aue=tF,oue=QS,sue=rF,lue=Object.prototype,uue=lue.hasOwnProperty;function cue(t,e){var n=iue(t),r=!n&&rue(t),i=!n&&!r&&aue(t),a=!n&&!r&&!i&&sue(t),o=n||r||i||a,s=o?nue(t.length,String):[],l=s.length;for(var u in t)(e||uue.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||oue(u,l)))&&s.push(u);return s}var due=cue,fue=Object.prototype;function hue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fue;return t===n}var pue=hue;function mue(t,e){return function(n){return t(e(n))}}var iF=mue,gue=iF,yue=gue(Object.keys,Object),vue=yue,bue=pue,wue=vue,xue=Object.prototype,_ue=xue.hasOwnProperty;function Eue(t){if(!bue(t))return wue(t);var e=[];for(var n in Object(t))_ue.call(t,n)&&n!="constructor"&&e.push(n);return e}var Sue=Eue,Tue=kS,Aue=XS;function Iue(t){return t!=null&&Aue(t.length)&&!Tue(t)}var Lh=Iue,Pue=due,Oue=Sue,Nue=Lh;function Cue(t){return Nue(t)?Pue(t):Oue(t)}var Vv=Cue,kue=Gse,jue=rle,Rue=Vv;function Due(t){return kue(t,Rue,jue)}var Mue=Due,XN=Mue,$ue=1,Lue=Object.prototype,Vue=Lue.hasOwnProperty;function Fue(t,e,n,r,i,a){var o=n&$ue,s=XN(t),l=s.length,u=XN(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in e:Vue.call(e,h)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=o;++d<l;){h=s[d];var b=t[h],w=e[h];if(r)var _=o?r(w,b,h,e,t,a):r(b,w,h,t,e,a);if(!(_===void 0?b===w||i(b,w,n,r,a):_)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var P=t.constructor,E=e.constructor;P!=E&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof E=="function"&&E instanceof E)&&(y=!1)}return a.delete(t),a.delete(e),y}var Bue=Fue,Uue=tl,zue=Si,que=Uue(zue,"DataView"),Wue=que,Hue=tl,Gue=Si,Kue=Hue(Gue,"Promise"),Yue=Kue,Que=tl,Xue=Si,Jue=Que(Xue,"Set"),aF=Jue,Zue=tl,ece=Si,tce=Zue(ece,"WeakMap"),nce=tce,i_=Wue,a_=RS,o_=Yue,s_=aF,l_=nce,oF=da,gc=f4,JN="[object Map]",rce="[object Object]",ZN="[object Promise]",eC="[object Set]",tC="[object WeakMap]",nC="[object DataView]",ice=gc(i_),ace=gc(a_),oce=gc(o_),sce=gc(s_),lce=gc(l_),Ko=oF;(i_&&Ko(new i_(new ArrayBuffer(1)))!=nC||a_&&Ko(new a_)!=JN||o_&&Ko(o_.resolve())!=ZN||s_&&Ko(new s_)!=eC||l_&&Ko(new l_)!=tC)&&(Ko=function(t){var e=oF(t),n=e==rce?t.constructor:void 0,r=n?gc(n):"";if(r)switch(r){case ice:return nC;case ace:return JN;case oce:return ZN;case sce:return eC;case lce:return tC}return e});var uce=Ko,Cb=K4,cce=J4,dce=Use,fce=Bue,rC=uce,iC=Hn,aC=tF,hce=rF,pce=1,oC="[object Arguments]",sC="[object Array]",Rp="[object Object]",mce=Object.prototype,lC=mce.hasOwnProperty;function gce(t,e,n,r,i,a){var o=iC(t),s=iC(e),l=o?sC:rC(t),u=s?sC:rC(e);l=l==oC?Rp:l,u=u==oC?Rp:u;var c=l==Rp,d=u==Rp,h=l==u;if(h&&aC(t)){if(!aC(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Cb),o||hce(t)?cce(t,e,n,r,i,a):dce(t,e,l,n,r,i,a);if(!(n&pce)){var m=c&&lC.call(t,"__wrapped__"),g=d&&lC.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,v=g?e.value():e;return a||(a=new Cb),i(y,v,n,r,a)}}return h?(a||(a=new Cb),fce(t,e,n,r,i,a)):!1}var yce=gce,vce=yce,uC=fa;function sF(t,e,n,r,i){return t===e?!0:t==null||e==null||!uC(t)&&!uC(e)?t!==t&&e!==e:vce(t,e,n,r,sF,i)}var JS=sF,bce=K4,wce=JS,xce=1,_ce=2;function Ece(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new bce;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?wce(c,u,xce|_ce,r,d):h))return!1}}return!0}var Sce=Ece,Tce=Po;function Ace(t){return t===t&&!Tce(t)}var lF=Ace,Ice=lF,Pce=Vv;function Oce(t){for(var e=Pce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ice(i)]}return e}var Nce=Oce;function Cce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var uF=Cce,kce=Sce,jce=Nce,Rce=uF;function Dce(t){var e=jce(t);return e.length==1&&e[0][2]?Rce(e[0][0],e[0][1]):function(n){return n===t||kce(n,t,e)}}var Mce=Dce;function $ce(t,e){return t!=null&&e in Object(t)}var Lce=$ce,Vce=y4,Fce=YS,Bce=Hn,Uce=QS,zce=XS,qce=Sv;function Wce(t,e,n){e=Vce(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=qce(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&zce(i)&&Uce(o,i)&&(Bce(t)||Fce(t)))}var Hce=Wce,Gce=Lce,Kce=Hce;function Yce(t,e){return t!=null&&Kce(t,e,Gce)}var Qce=Yce,Xce=JS,Jce=v4,Zce=Qce,ede=CS,tde=lF,nde=uF,rde=Sv,ide=1,ade=2;function ode(t,e){return ede(t)&&tde(e)?nde(rde(t),e):function(n){var r=Jce(n,t);return r===void 0&&r===e?Zce(n,t):Xce(e,r,ide|ade)}}var sde=ode;function lde(t){return t}var yc=lde;function ude(t){return function(e){return e?.[t]}}var cde=ude,dde=LS;function fde(t){return function(e){return dde(e,t)}}var hde=fde,pde=cde,mde=hde,gde=CS,yde=Sv;function vde(t){return gde(t)?pde(yde(t)):mde(t)}var bde=vde,wde=Mce,xde=sde,_de=yc,Ede=Hn,Sde=bde;function Tde(t){return typeof t=="function"?t:t==null?_de:typeof t=="object"?Ede(t)?xde(t[0],t[1]):wde(t):Sde(t)}var Ti=Tde;function Ade(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var cF=Ade;function Ide(t){return t!==t}var Pde=Ide;function Ode(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Nde=Ode,Cde=cF,kde=Pde,jde=Nde;function Rde(t,e,n){return e===e?jde(t,e,n):Cde(t,kde,n)}var Dde=Rde,Mde=Dde;function $de(t,e){var n=t==null?0:t.length;return!!n&&Mde(t,e,0)>-1}var Lde=$de;function Vde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fde=Vde;function Bde(){}var Ude=Bde,kb=aF,zde=Ude,qde=KS,Wde=1/0,Hde=kb&&1/qde(new kb([,-0]))[1]==Wde?function(t){return new kb(t)}:zde,Gde=Hde,Kde=Y4,Yde=Lde,Qde=Fde,Xde=X4,Jde=Gde,Zde=KS,efe=200;function tfe(t,e,n){var r=-1,i=Yde,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Qde;else if(a>=efe){var u=e?null:Jde(t);if(u)return Zde(u);o=!1,i=Xde,l=new Kde}else l=e?[]:s;e:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var nfe=tfe,rfe=Ti,ife=nfe;function afe(t,e){return t&&t.length?ife(t,rfe(e)):[]}var ofe=afe;const cC=Ue(ofe);function dF(t,e,n){return e===!0?cC(t,n):me(e)?cC(t,e):t}function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}var sfe=["ref"];function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){Fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hF(r.key),r)}}function ufe(t,e,n){return e&&fC(t.prototype,e),n&&fC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cfe(t,e,n){return e=Pg(e),dfe(t,fF()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function dfe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ffe(t)}function ffe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function hfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function Fv(t,e,n){return e=hF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t){var e=pfe(t,"string");return Eu(e)=="symbol"?e:e+""}function pfe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mfe(t,e){if(t==null)return{};var n=gfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yfe(t){return t.value}function vfe(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=mfe(e,sfe);return M.createElement(GS,n)}var hC=1,oo=function(t){function e(){var n;lfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cfe(this,e,[].concat(i)),Fv(n,"lastBoundingBox",{width:-1,height:-1}),n}return hfe(e,t),ufe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hC||Math.abs(i.height-this.lastBoundingBox.height)>hC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ci({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ci(Ci({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Ci(Ci({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},vfe(a,Ci(Ci({},this.props),{},{payload:dF(c,u,yfe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ci(Ci({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Fv(oo,"displayName","Legend");Fv(oo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pC=Mh,bfe=YS,wfe=Hn,mC=pC?pC.isConcatSpreadable:void 0;function xfe(t){return wfe(t)||bfe(t)||!!(mC&&t&&t[mC])}var _fe=xfe,Efe=Z4,Sfe=_fe;function pF(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Sfe),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?pF(s,e-1,n,r,i):Efe(i,s):r||(i[i.length]=s)}return i}var mF=pF;function Tfe(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Afe=Tfe,Ife=Afe,Pfe=Ife(),Ofe=Pfe,Nfe=Ofe,Cfe=Vv;function kfe(t,e){return t&&Nfe(t,e,Cfe)}var gF=kfe,jfe=Lh;function Rfe(t,e){return function(n,r){if(n==null)return n;if(!jfe(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Dfe=Rfe,Mfe=gF,$fe=Dfe,Lfe=$fe(Mfe),ZS=Lfe,Vfe=ZS,Ffe=Lh;function Bfe(t,e){var n=-1,r=Ffe(t)?Array(t.length):[];return Vfe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var yF=Bfe;function Ufe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var zfe=Ufe,gC=lc;function qfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=gC(t),o=e!==void 0,s=e===null,l=e===e,u=gC(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Wfe=qfe,Hfe=Wfe;function Gfe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Hfe(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Kfe=Gfe,jb=$S,Yfe=LS,Qfe=Ti,Xfe=yF,Jfe=zfe,Zfe=nF,ehe=Kfe,the=yc,nhe=Hn;function rhe(t,e,n){e.length?e=jb(e,function(a){return nhe(a)?function(o){return Yfe(o,a.length===1?a[0]:a)}:a}):e=[the];var r=-1;e=jb(e,Zfe(Qfe));var i=Xfe(t,function(a,o,s){var l=jb(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Jfe(i,function(a,o){return ehe(a,o,n)})}var ihe=rhe;function ahe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ohe=ahe,she=ohe,yC=Math.max;function lhe(t,e,n){return e=yC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=yC(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),she(t,this,s)}}var uhe=lhe;function che(t){return function(){return t}}var dhe=che,fhe=tl,hhe=function(){try{var t=fhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),vF=hhe,phe=dhe,vC=vF,mhe=yc,ghe=vC?function(t,e){return vC(t,"toString",{configurable:!0,enumerable:!1,value:phe(e),writable:!0})}:mhe,yhe=ghe,vhe=800,bhe=16,whe=Date.now;function xhe(t){var e=0,n=0;return function(){var r=whe(),i=bhe-(r-n);if(n=r,i>0){if(++e>=vhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _he=xhe,Ehe=yhe,She=_he,The=She(Ehe),Ahe=The,Ihe=yc,Phe=uhe,Ohe=Ahe;function Nhe(t,e){return Ohe(Phe(t,e,Ihe),t+"")}var Che=Nhe,khe=jS,jhe=Lh,Rhe=QS,Dhe=Po;function Mhe(t,e,n){if(!Dhe(n))return!1;var r=typeof e;return(r=="number"?jhe(n)&&Rhe(e,n.length):r=="string"&&e in n)?khe(n[e],t):!1}var Bv=Mhe,$he=mF,Lhe=ihe,Vhe=Che,bC=Bv,Fhe=Vhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bC(t,e[0],e[1])?e=[]:n>2&&bC(e[0],e[1],e[2])&&(e=[e[0]]),Lhe(t,$he(e,1),[])}),Bhe=Fhe;const eT=Ue(Bhe);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function Uhe(t,e){return Hhe(t)||Whe(t,e)||qhe(t,e)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qhe(t,e){if(t){if(typeof t=="string")return wC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(t,e)}}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Whe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hhe(t){if(Array.isArray(t))return t}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){Ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ghe(t,e,n){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Yhe(t,"string");return Cf(e)=="symbol"?e:e+""}function Yhe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qhe(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var Xhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(c&&c.length){var R={padding:0,margin:0},k=(h?eT(c,h):c).map(function(U,B){if(U.type==="none")return null;var H=Rb({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),G=U.formatter||d||Qhe,V=U.value,W=U.name,Q=V,ie=W;if(G&&Q!=null&&ie!=null){var X=G(V,W,U,B,c);if(Array.isArray(X)){var oe=Uhe(X,2);Q=oe[0],ie=oe[1]}else Q=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:H},Mt(ie)?M.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Mt(ie)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Q),M.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},k)}return null},P=Rb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=Rb({margin:0},u),A=!xe(y),S=A?y:"",T=Ee("recharts-default-tooltip",m),O=Ee("recharts-tooltip-label",g);A&&v&&c!==void 0&&c!==null&&(S=v(y,c));var C=w?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",c_({className:T,style:P},C),M.createElement("p",{className:O,style:E},M.isValidElement(S)?S:"".concat(S)),_())};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Dp(t,e,n){return e=Jhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=Zhe(t,"string");return kf(e)=="symbol"?e:e+""}function Zhe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zc="recharts-tooltip-wrapper",epe={visibility:"hidden"};function tpe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ee(Zc,Dp(Dp(Dp(Dp({},"".concat(Zc,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(Zc,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(Zc,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(Zc,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function _C(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ee(a[r]))return a[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?c:d;if(o[r]){var h=c,m=l[r];return h<m?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(d,l[r])}function npe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rpe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&n?(c=_C({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=_C({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=npe({translateX:c,translateY:d,useTranslate3d:s})):u=epe,{cssProperties:u,cssClasses:tpe({translateX:c,translateY:d,coordinate:n})}}function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ape(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wF(r.key),r)}}function ope(t,e,n){return e&&ape(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function spe(t,e,n){return e=Og(e),lpe(t,bF()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function lpe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(t)}function upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(t,e)}function f_(t,e,n){return e=wF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wF(t){var e=dpe(t,"string");return Su(e)=="symbol"?e:e+""}function dpe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TC=1,fpe=function(t){function e(){var n;ipe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=spe(this,e,[].concat(i)),f_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),f_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return cpe(e,t),ope(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>TC||Math.abs(r.height-this.state.lastBoundingBox.height)>TC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,_=rpe({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),P=_.cssClasses,E=_.cssProperties,A=SC(SC({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return M.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(T){r.wrapperNode=T}},u)}}])}(D.PureComponent),hpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fi={isSsr:hpe(),get:function(e){return fi[e]},set:function(e,n){if(typeof e=="string")fi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){fi[i]=e[i]})}}};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){tT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_F(r.key),r)}}function gpe(t,e,n){return e&&mpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ype(t,e,n){return e=Ng(e),vpe(t,xF()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function vpe(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(t)}function bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h_(t,e)}function h_(t,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h_(t,e)}function tT(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=xpe(t,"string");return Tu(e)=="symbol"?e:e+""}function xpe(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _pe(t){return t.dataKey}function Epe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Xhe,e)}var dr=function(t){function e(){return ppe(this,e),ype(this,e,arguments)}return wpe(e,t),gpe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,P=i.wrapperStyle,E=g??[];d&&E.length&&(E=dF(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,_pe));var A=E.length>0;return M.createElement(fpe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:A,offset:m,position:v,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:P},Epe(u,IC(IC({},this.props),{},{payload:E})))}}])}(D.PureComponent);tT(dr,"displayName","Tooltip");tT(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Spe=Si,Tpe=function(){return Spe.Date.now()},Ape=Tpe,Ipe=/\s/;function Ppe(t){for(var e=t.length;e--&&Ipe.test(t.charAt(e)););return e}var Ope=Ppe,Npe=Ope,Cpe=/^\s+/;function kpe(t){return t&&t.slice(0,Npe(t)+1).replace(Cpe,"")}var jpe=kpe,Rpe=jpe,PC=Po,Dpe=lc,OC=NaN,Mpe=/^[-+]0x[0-9a-f]+$/i,$pe=/^0b[01]+$/i,Lpe=/^0o[0-7]+$/i,Vpe=parseInt;function Fpe(t){if(typeof t=="number")return t;if(Dpe(t))return OC;if(PC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=PC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Rpe(t);var n=$pe.test(t);return n||Lpe.test(t)?Vpe(t.slice(2),n?2:8):Mpe.test(t)?OC:+t}var EF=Fpe,Bpe=Po,Db=Ape,NC=EF,Upe="Expected a function",zpe=Math.max,qpe=Math.min;function Wpe(t,e,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Upe);e=NC(e)||0,Bpe(n)&&(c=!!n.leading,d="maxWait"in n,a=d?zpe(NC(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(A){var S=r,T=i;return r=i=void 0,u=A,o=t.apply(T,S),o}function g(A){return u=A,s=setTimeout(b,e),c?m(A):o}function y(A){var S=A-l,T=A-u,O=e-S;return d?qpe(O,a-T):O}function v(A){var S=A-l,T=A-u;return l===void 0||S>=e||S<0||d&&T>=a}function b(){var A=Db();if(v(A))return w(A);s=setTimeout(b,y(A))}function w(A){return s=void 0,h&&r?m(A):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function P(){return s===void 0?o:w(Db())}function E(){var A=Db(),S=v(A);if(r=arguments,i=this,l=A,S){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),o}return E.cancel=_,E.flush=P,E}var Hpe=Wpe,Gpe=Hpe,Kpe=Po,Ype="Expected a function";function Qpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ype);return Kpe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Gpe(t,e,{leading:r,maxWait:e,trailing:i})}var Xpe=Qpe;const SF=Ue(Xpe);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=eme(t,"string");return jf(e)=="symbol"?e:e+""}function eme(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t,e){return ame(t)||ime(t,e)||rme(t,e)||nme()}function nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rme(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ime(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ame(t){if(Array.isArray(t))return t}var Mb=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,b=t.className,w=t.onResize,_=t.style,P=_===void 0?{}:_,E=D.useRef(null),A=D.useRef();A.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),T=tme(S,2),O=T[0],C=T[1],N=D.useCallback(function(k,U){C(function(B){var H=Math.round(k),G=Math.round(U);return B.containerWidth===H&&B.containerHeight===G?B:{containerWidth:H,containerHeight:G}})},[]);D.useEffect(function(){var k=function(W){var Q,ie=W[0].contentRect,X=ie.width,oe=ie.height;N(X,oe),(Q=A.current)===null||Q===void 0||Q.call(A,X,oe)};y>0&&(k=SF(k,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(k),B=E.current.getBoundingClientRect(),H=B.width,G=B.height;return N(H,G),U.observe(E.current),function(){U.disconnect()}},[N,y]);var R=D.useMemo(function(){var k=O.containerWidth,U=O.containerHeight;if(k<0||U<0)return null;zr(ls(o)||ls(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ls(o)?k:o,H=ls(l)?U:l;n&&n>0&&(B?H=B/n:H&&(B=H*n),h&&H>h&&(H=h)),zr(B>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,H,o,l,c,d,n);var G=!Array.isArray(m)&&Ki(m.type).endsWith("Chart");return M.Children.map(m,function(V){return M.isValidElement(V)?D.cloneElement(V,Mp({width:B,height:H},G?{style:Mp({height:"100%",width:"100%",maxHeight:H,maxWidth:B},V.props.style)}:{})):V})},[n,m,l,h,d,c,O,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Ee("recharts-responsive-container",b),style:Mp(Mp({},P),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:E},R)}),Uv=function(e){return null};Uv.displayName="Cell";function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ome(t,e,n){return e=sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=lme(t,"string");return Rf(e)=="symbol"?e:e+""}function lme(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ml={widthCache:{},cacheCount:0},ume=2e3,cme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RC="recharts_measurement_span";function dme(t){var e=p_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ud=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fi.isSsr)return{width:0,height:0};var r=dme(n),i=JSON.stringify({text:e,copyStyle:r});if(ml.widthCache[i])return ml.widthCache[i];try{var a=document.getElementById(RC);a||(a=document.createElement("span"),a.setAttribute("id",RC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=p_(p_({},cme),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return ml.widthCache[i]=l,++ml.cacheCount>ume&&(ml.cacheCount=0,ml.widthCache={}),l}catch{return{width:0,height:0}}},fme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Cg(t,e){return gme(t)||mme(t,e)||pme(t,e)||hme()}function hme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gme(t){if(Array.isArray(t))return t}function yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bme(r.key),r)}}function vme(t,e,n){return e&&MC(t.prototype,e),n&&MC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bme(t){var e=wme(t,"string");return Df(e)=="symbol"?e:e+""}function wme(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_me=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Eme=Object.keys(TF),Dl="NaN";function Sme(t,e){return t*TF[e]}var $p=function(){function t(e,n){yme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!xme.test(n)&&(this.num=NaN,this.unit=""),Eme.includes(n)&&(this.num=Sme(e,n),this.unit="px")}return vme(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_me.exec(n))!==null&&r!==void 0?r:[],a=Cg(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function AF(t){if(t.includes(Dl))return Dl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=$C.exec(e))!==null&&n!==void 0?n:[],i=Cg(r,4),a=i[1],o=i[2],s=i[3],l=$p.parse(a??""),u=$p.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Dl;e=e.replace($C,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=LC.exec(e))!==null&&d!==void 0?d:[],m=Cg(h,4),g=m[1],y=m[2],v=m[3],b=$p.parse(g??""),w=$p.parse(v??""),_=y==="+"?b.add(w):b.subtract(w);if(_.isNaN())return Dl;e=e.replace(LC,_.toString())}return e}var VC=/\(([^()]*)\)/;function Tme(t){for(var e=t;e.includes("(");){var n=VC.exec(e),r=Cg(n,2),i=r[1];e=e.replace(VC,AF(i))}return e}function Ame(t){var e=t.replace(/\s+/g,"");return e=Tme(e),e=AF(e),e}function Ime(t){try{return Ame(t)}catch{return Dl}}function $b(t){var e=Ime(t.slice(5,-1));return e===Dl?"":e}var Pme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ome=["dx","dy","angle","className","breakAll"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function FC(t,e){if(t==null)return{};var n=Nme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BC(t,e){return Rme(t)||jme(t,e)||kme(t,e)||Cme()}function Cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kme(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rme(t){if(Array.isArray(t))return t}var IF=/[ \f\n\r\t\v\u2028\u2029]+/,PF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];xe(n)||(r?a=n.toString().split(""):a=n.toString().split(IF));var o=a.map(function(l){return{word:l,width:Ud(l,i).width}}),s=r?0:Ud(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Dme=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ee(o),d=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(H,G){var V=G.word,W=G.width,Q=H[H.length-1];if(Q&&(i==null||a||Q.width+W+r<Number(i)))Q.words.push(V),Q.width+=W+r;else{var ie={words:[V],width:W};H.push(ie)}return H},[])},m=h(n),g=function(B){return B.reduce(function(H,G){return H.width>G.width?H:G})};if(!c)return m;for(var y="…",v=function(B){var H=d.slice(0,B),G=PF({breakAll:u,style:l,children:H+y}).wordsWithComputedWidth,V=h(G),W=V.length>o||g(V).width>Number(i);return[W,V]},b=0,w=d.length-1,_=0,P;b<=w&&_<=d.length-1;){var E=Math.floor((b+w)/2),A=E-1,S=v(A),T=BC(S,2),O=T[0],C=T[1],N=v(E),R=BC(N,1),k=R[0];if(!O&&!k&&(b=E+1),O&&k&&(w=E-1),!O&&k){P=C;break}_++}return P||m},zC=function(e){var n=xe(e)?[]:e.toString().split(IF);return[{words:n}]},Mme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!fi.isSsr){var l,u,c=PF({breakAll:o,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return zC(i);return Dme({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return zC(i)},qC="#808080",Us=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,b=v===void 0?qC:v,w=FC(e,Pme),_=D.useMemo(function(){return Mme({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),P=w.dx,E=w.dy,A=w.angle,S=w.className,T=w.breakAll,O=FC(w,Ome);if(!Mt(r)||!Mt(a))return null;var C=r+(ee(P)?P:0),N=a+(ee(E)?E:0),R;switch(y){case"start":R=$b("calc(".concat(u,")"));break;case"middle":R=$b("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=$b("calc(".concat(_.length-1," * -").concat(s,")"));break}var k=[];if(d){var U=_[0].width,B=w.width;k.push("scale(".concat((ee(B)?B/U:1)/U,")"))}return A&&k.push("rotate(".concat(A,", ").concat(C,", ").concat(N,")")),k.length&&(O.transform=k.join(" ")),M.createElement("text",m_({},de(O,!0),{x:C,y:N,className:Ee("recharts-text",S),textAnchor:m,fill:b.includes("url")?qC:b}),_.map(function(H,G){var V=H.words.join(T?"":" ");return M.createElement("tspan",{x:C,dy:G===0?R:s,key:"".concat(V,"-").concat(G)},V)}))};function so(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $me(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nT(t){let e,n,r;t.length!==2?(e=so,n=(s,l)=>so(t(s),l),r=(s,l)=>t(s)-l):(e=t===so||t===$me?t:Lme,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Lme(){return 0}function OF(t){return t===null?NaN:+t}function*Vme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fme=nT(so),Vh=Fme.right;nT(OF).center;class WC extends Map{constructor(e,n=zme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(HC(this,e))}has(e){return super.has(HC(this,e))}set(e,n){return super.set(Bme(this,e),n)}delete(e){return super.delete(Ume(this,e))}}function HC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ume({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qme(t=so){if(t===so)return NF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function NF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Wme=Math.sqrt(50),Hme=Math.sqrt(10),Gme=Math.sqrt(2);function kg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Wme?10:a>=Hme?5:a>=Gme?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?kg(t,e,n*2):[s,l,u]}function g_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?kg(e,t,n):kg(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function y_(t,e,n){return e=+e,t=+t,n=+n,kg(t,e,n)[2]}function v_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?y_(e,t,n):y_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function GC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function CF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?NF:qme(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+h)),g=Math.min(r,Math.floor(e+(l-u)*d/l+h));CF(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(ed(t,n,e),i(t[r],a)>0&&ed(t,n,r);o<s;){for(ed(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?ed(t,n,s):(++s,ed(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ed(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Kme(t,e,n){if(t=Float64Array.from(Vme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KC(t);if(e>=1)return GC(t);var r,i=(r-1)*e,a=Math.floor(i),o=GC(CF(t,a).subarray(0,a+1)),s=KC(t.subarray(a+1));return o+(s-o)*(i-a)}}function Yme(t,e,n=OF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Qme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Nr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const b_=Symbol("implicit");function rT(){var t=new WC,e=[],n=[],r=b_;function i(a){let o=t.get(a);if(o===void 0){if(r!==b_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new WC;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rT(e,n).unknown(r)},Nr.apply(i,arguments),i}function Mf(){var t=rT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,m=i<r,g=m?i:r,y=m?r:i;a=(y-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=Qme(h).map(function(b){return g+a*b});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Mf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Nr.apply(d(),arguments)}function kF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kF(e())},t}function zd(){return kF(Mf.apply(null,arguments).paddingInner(1))}function iT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fh(){}var $f=.7,jg=1/$f,Zl="\\s*([+-]?\\d+)\\s*",Lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xme=/^#([0-9a-f]{3,8})$/,Jme=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),Zme=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),ege=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${Lf}\\)$`),tge=new RegExp(`^rgba\\(${hi},${hi},${hi},${Lf}\\)$`),nge=new RegExp(`^hsl\\(${Lf},${hi},${hi}\\)$`),rge=new RegExp(`^hsla\\(${Lf},${hi},${hi},${Lf}\\)$`),YC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iT(Fh,Vf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QC,formatHex:QC,formatHex8:ige,formatHsl:age,formatRgb:XC,toString:XC});function QC(){return this.rgb().formatHex()}function ige(){return this.rgb().formatHex8()}function age(){return RF(this).formatHsl()}function XC(){return this.rgb().formatRgb()}function Vf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?JC(e):n===3?new Vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jme.exec(t))?new Vn(e[1],e[2],e[3],1):(e=Zme.exec(t))?new Vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ege.exec(t))?Lp(e[1],e[2],e[3],e[4]):(e=tge.exec(t))?Lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nge.exec(t))?tk(e[1],e[2]/100,e[3]/100,1):(e=rge.exec(t))?tk(e[1],e[2]/100,e[3]/100,e[4]):YC.hasOwnProperty(t)?JC(YC[t]):t==="transparent"?new Vn(NaN,NaN,NaN,0):null}function JC(t){return new Vn(t>>16&255,t>>8&255,t&255,1)}function Lp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vn(t,e,n,r)}function oge(t){return t instanceof Fh||(t=Vf(t)),t?(t=t.rgb(),new Vn(t.r,t.g,t.b,t.opacity)):new Vn}function w_(t,e,n,r){return arguments.length===1?oge(t):new Vn(t,e,n,r??1)}function Vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}iT(Vn,w_,jF(Fh,{brighter(t){return t=t==null?jg:Math.pow(jg,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$f:Math.pow($f,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vn(ws(this.r),ws(this.g),ws(this.b),Rg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZC,formatHex:ZC,formatHex8:sge,formatRgb:ek,toString:ek}));function ZC(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function sge(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function ek(){const t=Rg(this.opacity);return`${t===1?"rgb(":"rgba("}${ws(this.r)}, ${ws(this.g)}, ${ws(this.b)}${t===1?")":`, ${t})`}`}function Rg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ws(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function us(t){return t=ws(t),(t<16?"0":"")+t.toString(16)}function tk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,n,r)}function RF(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof Fh||(t=Vf(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Lr(o,s,l,t.opacity)}function lge(t,e,n,r){return arguments.length===1?RF(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}iT(Lr,lge,jF(Fh,{brighter(t){return t=t==null?jg:Math.pow(jg,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$f:Math.pow($f,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vn(Lb(t>=240?t-240:t+120,i,r),Lb(t,i,r),Lb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lr(nk(this.h),Vp(this.s),Vp(this.l),Rg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rg(this.opacity);return`${t===1?"hsl(":"hsla("}${nk(this.h)}, ${Vp(this.s)*100}%, ${Vp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nk(t){return t=(t||0)%360,t<0?t+360:t}function Vp(t){return Math.max(0,Math.min(1,t||0))}function Lb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const aT=t=>()=>t;function uge(t,e){return function(n){return t+n*e}}function cge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dge(t){return(t=+t)==1?DF:function(e,n){return n-e?cge(e,n,t):aT(isNaN(e)?n:e)}}function DF(t,e){var n=e-t;return n?uge(t,n):aT(isNaN(t)?e:t)}const rk=function t(e){var n=dge(e);function r(i,a){var o=n((i=w_(i)).r,(a=w_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=DF(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function fge(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function hge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=vc(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function mge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gge(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var x_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vb=new RegExp(x_.source,"g");function yge(t){return function(){return t}}function vge(t){return function(e){return t(e)+""}}function bge(t,e){var n=x_.lastIndex=Vb.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=x_.exec(t))&&(i=Vb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Dg(r,i)})),n=Vb.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?vge(l[0].x):yge(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function vc(t,e){var n=typeof e,r;return e==null||n==="boolean"?aT(e):(n==="number"?Dg:n==="string"?(r=Vf(e))?(e=r,rk):bge:e instanceof Vf?rk:e instanceof Date?mge:hge(e)?fge:Array.isArray(e)?pge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gge:Dg)(t,e)}function oT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wge(t,e){e===void 0&&(e=t,t=vc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function xge(t){return function(){return t}}function Mg(t){return+t}var ik=[0,1];function In(t){return t}function __(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xge(isNaN(e)?NaN:.5)}function _ge(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ege(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=__(i,r),a=n(o,a)):(r=__(r,i),a=n(a,o)),function(s){return a(r(s))}}function Sge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=__(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Vh(t,s,1,r)-1;return a[l](i[l](s))}}function Bh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zv(){var t=ik,e=ik,n=vc,r,i,a,o=In,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==In&&(o=_ge(t[0],t[h-1])),s=h>2?Sge:Ege,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((u||(u=s(e,t.map(r),Dg)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Mg),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=oT,c()},d.clamp=function(h){return arguments.length?(o=h?!0:In,c()):o!==In},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,m){return r=h,i=m,c()}}function sT(){return zv()(In,In)}function Tge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $g(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Au(t){return t=$g(Math.abs(t)),t?t[1]:NaN}function Age(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ige(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ff(t){if(!(e=Pge.exec(t)))throw new Error("invalid format: "+t);var e;return new lT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ff.prototype=lT.prototype;function lT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var MF;function Nge(t,e){var n=$g(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(MF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$g(t,Math.max(0,e+a-1))[0]}function ak(t,e){var n=$g(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ok={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Tge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ak(t*100,e),r:ak,s:Nge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sk(t){return t}var lk=Array.prototype.map,uk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cge(t){var e=t.grouping===void 0||t.thousands===void 0?sk:Age(lk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?sk:Ige(lk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ff(d);var h=d.fill,m=d.align,g=d.sign,y=d.symbol,v=d.zero,b=d.width,w=d.comma,_=d.precision,P=d.trim,E=d.type;E==="n"?(w=!0,E="g"):ok[E]||(_===void 0&&(_=12),P=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var A=y==="$"?n:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=y==="$"?r:/[%p]/.test(E)?o:"",T=ok[E],O=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C(N){var R=A,k=S,U,B,H;if(E==="c")k=T(N)+k,N="";else{N=+N;var G=N<0||1/N<0;if(N=isNaN(N)?l:T(Math.abs(N),_),P&&(N=Oge(N)),G&&+N==0&&g!=="+"&&(G=!1),R=(G?g==="("?g:s:g==="-"||g==="("?"":g)+R,k=(E==="s"?uk[8+MF/3]:"")+k+(G&&g==="("?")":""),O){for(U=-1,B=N.length;++U<B;)if(H=N.charCodeAt(U),48>H||H>57){k=(H===46?i+N.slice(U+1):N.slice(U))+k,N=N.slice(0,U);break}}}w&&!v&&(N=e(N,1/0));var V=R.length+N.length+k.length,W=V<b?new Array(b-V+1).join(h):"";switch(w&&v&&(N=e(W+N,W.length?b-k.length:1/0),W=""),m){case"<":N=R+N+k+W;break;case"=":N=R+W+N+k;break;case"^":N=W.slice(0,V=W.length>>1)+R+N+k+W.slice(V);break;default:N=W+R+N+k;break}return a(N)}return C.toString=function(){return d+""},C}function c(d,h){var m=u((d=Ff(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Au(h)/3)))*3,y=Math.pow(10,-g),v=uk[8+g/3];return function(b){return m(y*b)+v}}return{format:u,formatPrefix:c}}var Fp,uT,$F;kge({thousands:",",grouping:[3],currency:["$",""]});function kge(t){return Fp=Cge(t),uT=Fp.format,$F=Fp.formatPrefix,Fp}function jge(t){return Math.max(0,-Au(Math.abs(t)))}function Rge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Au(e)/3)))*3-Au(Math.abs(t)))}function Dge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Au(e)-Au(t))+1}function LF(t,e,n,r){var i=v_(t,e,n),a;switch(r=Ff(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Rge(i,o))&&(r.precision=a),$F(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Dge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=jge(i))&&(r.precision=a-(r.type==="%")*2);break}}return uT(r)}function Oo(t){var e=t.domain;return t.ticks=function(n){var r=e();return g_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return LF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=y_(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Lg(){var t=sT();return t.copy=function(){return Bh(t,Lg())},Nr.apply(t,arguments),Oo(t)}function VF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Mg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return VF(t).unknown(e)},t=arguments.length?Array.from(t,Mg):[0,1],Oo(n)}function FF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function ck(t){return Math.log(t)}function dk(t){return Math.exp(t)}function Mge(t){return-Math.log(-t)}function $ge(t){return-Math.exp(-t)}function Lge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vge(t){return t===10?Lge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fk(t){return(e,n)=>-t(-e,n)}function cT(t){const e=t(ck,dk),n=e.domain;let r=10,i,a;function o(){return i=Fge(r),a=Vge(r),n()[0]<0?(i=fk(i),a=fk(a),t(Mge,$ge)):t(ck,dk),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),g,y;const v=s==null?10:+s;let b=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;b.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;b.push(y)}b.length*2<v&&(b=g_(u,c,v))}else b=g_(h,m,Math.min(m-h,v)).map(a);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ff(l)).precision==null&&(l.trim=!0),l=uT(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(FF(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function BF(){const t=cT(zv()).domain([1,10]);return t.copy=()=>Bh(t,BF()).base(t.base()),Nr.apply(t,arguments),t}function hk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dT(t){var e=1,n=t(hk(e),pk(e));return n.constant=function(r){return arguments.length?t(hk(e=+r),pk(e)):e},Oo(n)}function UF(){var t=dT(zv());return t.copy=function(){return Bh(t,UF()).constant(t.constant())},Nr.apply(t,arguments)}function mk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uge(t){return t<0?-t*t:t*t}function fT(t){var e=t(In,In),n=1;function r(){return n===1?t(In,In):n===.5?t(Bge,Uge):t(mk(n),mk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oo(e)}function hT(){var t=fT(zv());return t.copy=function(){return Bh(t,hT()).exponent(t.exponent())},Nr.apply(t,arguments),t}function zge(){return hT.apply(null,arguments).exponent(.5)}function gk(t){return Math.sign(t)*t*t}function qge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zF(){var t=sT(),e=[0,1],n=!1,r;function i(a){var o=qge(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(gk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Mg)).map(gk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Nr.apply(i,arguments),Oo(i)}function qF(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Yme(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Vh(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(so),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return qF().domain(t).range(e).unknown(r)},Nr.apply(a,arguments)}function WF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Vh(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return WF().domain([t,e]).range(i).unknown(a)},Nr.apply(Oo(o),arguments)}function HF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Vh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return HF().domain(t).range(e).unknown(n)},Nr.apply(i,arguments)}const Fb=new Date,Bb=new Date;function Vt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Vt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Fb.setTime(+a),Bb.setTime(+o),t(Fb),t(Bb),Math.floor(n(Fb,Bb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Vg=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vg);Vg.range;const zi=1e3,vr=zi*60,qi=vr*60,aa=qi*24,pT=aa*7,yk=aa*30,Ub=aa*365,cs=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCSeconds());cs.range;const mT=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zi)},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getMinutes());mT.range;const gT=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getUTCMinutes());gT.range;const yT=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zi-t.getMinutes()*vr)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getHours());yT.range;const vT=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getUTCHours());vT.range;const Uh=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vr)/aa,t=>t.getDate()-1);Uh.range;const qv=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/aa,t=>t.getUTCDate()-1);qv.range;const GF=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/aa,t=>Math.floor(t/aa));GF.range;function nl(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vr)/pT)}const Wv=nl(0),Fg=nl(1),Wge=nl(2),Hge=nl(3),Iu=nl(4),Gge=nl(5),Kge=nl(6);Wv.range;Fg.range;Wge.range;Hge.range;Iu.range;Gge.range;Kge.range;function rl(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/pT)}const Hv=rl(0),Bg=rl(1),Yge=rl(2),Qge=rl(3),Pu=rl(4),Xge=rl(5),Jge=rl(6);Hv.range;Bg.range;Yge.range;Qge.range;Pu.range;Xge.range;Jge.range;const bT=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bT.range;const wT=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wT.range;const oa=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oa.range;const sa=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});sa.range;function KF(t,e,n,r,i,a){const o=[[cs,1,zi],[cs,5,5*zi],[cs,15,15*zi],[cs,30,30*zi],[a,1,vr],[a,5,5*vr],[a,15,15*vr],[a,30,30*vr],[i,1,qi],[i,3,3*qi],[i,6,6*qi],[i,12,12*qi],[r,1,aa],[r,2,2*aa],[n,1,pT],[e,1,yk],[e,3,3*yk],[t,1,Ub]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,m=nT(([,,v])=>v).right(o,h);if(m===o.length)return t.every(v_(u/Ub,c/Ub,d));if(m===0)return Vg.every(Math.max(v_(u,c,d),1));const[g,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(y)}return[s,l]}const[Zge,eye]=KF(sa,wT,Hv,GF,vT,gT),[tye,nye]=KF(oa,bT,Wv,Uh,yT,mT);function zb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function td(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=nd(i),c=rd(i),d=nd(a),h=rd(a),m=nd(o),g=rd(o),y=nd(s),v=rd(s),b=nd(l),w=rd(l),_={a:G,A:V,b:W,B:Q,c:null,d:Ek,e:Ek,f:Aye,g:Mye,G:Lye,H:Eye,I:Sye,j:Tye,L:YF,m:Iye,M:Pye,p:ie,q:X,Q:Ak,s:Ik,S:Oye,u:Nye,U:Cye,V:kye,w:jye,W:Rye,x:null,X:null,y:Dye,Y:$ye,Z:Vye,"%":Tk},P={a:oe,A:Oe,b:$e,B:ct,c:null,d:Sk,e:Sk,f:zye,g:Zye,G:tve,H:Fye,I:Bye,j:Uye,L:XF,m:qye,M:Wye,p:Kt,q:nn,Q:Ak,s:Ik,S:Hye,u:Gye,U:Kye,V:Yye,w:Qye,W:Xye,x:null,X:null,y:Jye,Y:eve,Z:nve,"%":Tk},E={a:C,A:N,b:R,B:k,c:U,d:xk,e:xk,f:bye,g:wk,G:bk,H:_k,I:_k,j:mye,L:vye,m:pye,M:gye,p:O,q:hye,Q:xye,s:_ye,S:yye,u:lye,U:uye,V:cye,w:sye,W:dye,x:B,X:H,y:wk,Y:bk,Z:fye,"%":wye};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),P.x=A(n,P),P.X=A(r,P),P.c=A(e,P);function A(ae,ye){return function(be){var Y=[],Qe=-1,Te=0,dt=ae.length,yt,rn,Kr;for(be instanceof Date||(be=new Date(+be));++Qe<dt;)ae.charCodeAt(Qe)===37&&(Y.push(ae.slice(Te,Qe)),(rn=vk[yt=ae.charAt(++Qe)])!=null?yt=ae.charAt(++Qe):rn=yt==="e"?" ":"0",(Kr=ye[yt])&&(yt=Kr(be,rn)),Y.push(yt),Te=Qe+1);return Y.push(ae.slice(Te,Qe)),Y.join("")}}function S(ae,ye){return function(be){var Y=td(1900,void 0,1),Qe=T(Y,ae,be+="",0),Te,dt;if(Qe!=be.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ye&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Te=qb(td(Y.y,0,1)),dt=Te.getUTCDay(),Te=dt>4||dt===0?Bg.ceil(Te):Bg(Te),Te=qv.offset(Te,(Y.V-1)*7),Y.y=Te.getUTCFullYear(),Y.m=Te.getUTCMonth(),Y.d=Te.getUTCDate()+(Y.w+6)%7):(Te=zb(td(Y.y,0,1)),dt=Te.getDay(),Te=dt>4||dt===0?Fg.ceil(Te):Fg(Te),Te=Uh.offset(Te,(Y.V-1)*7),Y.y=Te.getFullYear(),Y.m=Te.getMonth(),Y.d=Te.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),dt="Z"in Y?qb(td(Y.y,0,1)).getUTCDay():zb(td(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(dt+5)%7:Y.w+Y.U*7-(dt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,qb(Y)):zb(Y)}}function T(ae,ye,be,Y){for(var Qe=0,Te=ye.length,dt=be.length,yt,rn;Qe<Te;){if(Y>=dt)return-1;if(yt=ye.charCodeAt(Qe++),yt===37){if(yt=ye.charAt(Qe++),rn=E[yt in vk?ye.charAt(Qe++):yt],!rn||(Y=rn(ae,be,Y))<0)return-1}else if(yt!=be.charCodeAt(Y++))return-1}return Y}function O(ae,ye,be){var Y=u.exec(ye.slice(be));return Y?(ae.p=c.get(Y[0].toLowerCase()),be+Y[0].length):-1}function C(ae,ye,be){var Y=m.exec(ye.slice(be));return Y?(ae.w=g.get(Y[0].toLowerCase()),be+Y[0].length):-1}function N(ae,ye,be){var Y=d.exec(ye.slice(be));return Y?(ae.w=h.get(Y[0].toLowerCase()),be+Y[0].length):-1}function R(ae,ye,be){var Y=b.exec(ye.slice(be));return Y?(ae.m=w.get(Y[0].toLowerCase()),be+Y[0].length):-1}function k(ae,ye,be){var Y=y.exec(ye.slice(be));return Y?(ae.m=v.get(Y[0].toLowerCase()),be+Y[0].length):-1}function U(ae,ye,be){return T(ae,e,ye,be)}function B(ae,ye,be){return T(ae,n,ye,be)}function H(ae,ye,be){return T(ae,r,ye,be)}function G(ae){return o[ae.getDay()]}function V(ae){return a[ae.getDay()]}function W(ae){return l[ae.getMonth()]}function Q(ae){return s[ae.getMonth()]}function ie(ae){return i[+(ae.getHours()>=12)]}function X(ae){return 1+~~(ae.getMonth()/3)}function oe(ae){return o[ae.getUTCDay()]}function Oe(ae){return a[ae.getUTCDay()]}function $e(ae){return l[ae.getUTCMonth()]}function ct(ae){return s[ae.getUTCMonth()]}function Kt(ae){return i[+(ae.getUTCHours()>=12)]}function nn(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ye=A(ae+="",_);return ye.toString=function(){return ae},ye},parse:function(ae){var ye=S(ae+="",!1);return ye.toString=function(){return ae},ye},utcFormat:function(ae){var ye=A(ae+="",P);return ye.toString=function(){return ae},ye},utcParse:function(ae){var ye=S(ae+="",!0);return ye.toString=function(){return ae},ye}}}var vk={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,iye=/^%/,aye=/[\\^$*+?|[\]().{}]/g;function Me(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function oye(t){return t.replace(aye,"\\$&")}function nd(t){return new RegExp("^(?:"+t.map(oye).join("|")+")","i")}function rd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sye(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lye(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uye(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cye(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dye(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bk(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wk(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hye(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pye(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xk(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mye(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _k(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gye(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yye(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vye(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bye(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wye(t,e,n){var r=iye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xye(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _ye(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ek(t,e){return Me(t.getDate(),e,2)}function Eye(t,e){return Me(t.getHours(),e,2)}function Sye(t,e){return Me(t.getHours()%12||12,e,2)}function Tye(t,e){return Me(1+Uh.count(oa(t),t),e,3)}function YF(t,e){return Me(t.getMilliseconds(),e,3)}function Aye(t,e){return YF(t,e)+"000"}function Iye(t,e){return Me(t.getMonth()+1,e,2)}function Pye(t,e){return Me(t.getMinutes(),e,2)}function Oye(t,e){return Me(t.getSeconds(),e,2)}function Nye(t){var e=t.getDay();return e===0?7:e}function Cye(t,e){return Me(Wv.count(oa(t)-1,t),e,2)}function QF(t){var e=t.getDay();return e>=4||e===0?Iu(t):Iu.ceil(t)}function kye(t,e){return t=QF(t),Me(Iu.count(oa(t),t)+(oa(t).getDay()===4),e,2)}function jye(t){return t.getDay()}function Rye(t,e){return Me(Fg.count(oa(t)-1,t),e,2)}function Dye(t,e){return Me(t.getFullYear()%100,e,2)}function Mye(t,e){return t=QF(t),Me(t.getFullYear()%100,e,2)}function $ye(t,e){return Me(t.getFullYear()%1e4,e,4)}function Lye(t,e){var n=t.getDay();return t=n>=4||n===0?Iu(t):Iu.ceil(t),Me(t.getFullYear()%1e4,e,4)}function Vye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function Sk(t,e){return Me(t.getUTCDate(),e,2)}function Fye(t,e){return Me(t.getUTCHours(),e,2)}function Bye(t,e){return Me(t.getUTCHours()%12||12,e,2)}function Uye(t,e){return Me(1+qv.count(sa(t),t),e,3)}function XF(t,e){return Me(t.getUTCMilliseconds(),e,3)}function zye(t,e){return XF(t,e)+"000"}function qye(t,e){return Me(t.getUTCMonth()+1,e,2)}function Wye(t,e){return Me(t.getUTCMinutes(),e,2)}function Hye(t,e){return Me(t.getUTCSeconds(),e,2)}function Gye(t){var e=t.getUTCDay();return e===0?7:e}function Kye(t,e){return Me(Hv.count(sa(t)-1,t),e,2)}function JF(t){var e=t.getUTCDay();return e>=4||e===0?Pu(t):Pu.ceil(t)}function Yye(t,e){return t=JF(t),Me(Pu.count(sa(t),t)+(sa(t).getUTCDay()===4),e,2)}function Qye(t){return t.getUTCDay()}function Xye(t,e){return Me(Bg.count(sa(t)-1,t),e,2)}function Jye(t,e){return Me(t.getUTCFullYear()%100,e,2)}function Zye(t,e){return t=JF(t),Me(t.getUTCFullYear()%100,e,2)}function eve(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function tve(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pu(t):Pu.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function nve(){return"+0000"}function Tk(){return"%"}function Ak(t){return+t}function Ik(t){return Math.floor(+t/1e3)}var gl,ZF,e3;rve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rve(t){return gl=rye(t),ZF=gl.format,gl.parse,e3=gl.utcFormat,gl.utcParse,gl}function ive(t){return new Date(t)}function ave(t){return t instanceof Date?+t:+new Date(+t)}function xT(t,e,n,r,i,a,o,s,l,u){var c=sT(),d=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),w=u("%b %d"),_=u("%B"),P=u("%Y");function E(A){return(l(A)<A?m:s(A)<A?g:o(A)<A?y:a(A)<A?v:r(A)<A?i(A)<A?b:w:n(A)<A?_:P)(A)}return c.invert=function(A){return new Date(d(A))},c.domain=function(A){return arguments.length?h(Array.from(A,ave)):h().map(ive)},c.ticks=function(A){var S=h();return t(S[0],S[S.length-1],A??10)},c.tickFormat=function(A,S){return S==null?E:u(S)},c.nice=function(A){var S=h();return(!A||typeof A.range!="function")&&(A=e(S[0],S[S.length-1],A??10)),A?h(FF(S,A)):c},c.copy=function(){return Bh(c,xT(t,e,n,r,i,a,o,s,l,u))},c}function ove(){return Nr.apply(xT(tye,nye,oa,bT,Wv,Uh,yT,mT,cs,ZF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sve(){return Nr.apply(xT(Zge,eye,sa,wT,Hv,qv,vT,gT,cs,e3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gv(){var t=0,e=1,n,r,i,a,o=In,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var m,g;return arguments.length?([m,g]=h,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(vc),u.rangeRound=c(oT),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function No(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function t3(){var t=Oo(Gv()(In));return t.copy=function(){return No(t,t3())},ha.apply(t,arguments)}function n3(){var t=cT(Gv()).domain([1,10]);return t.copy=function(){return No(t,n3()).base(t.base())},ha.apply(t,arguments)}function r3(){var t=dT(Gv());return t.copy=function(){return No(t,r3()).constant(t.constant())},ha.apply(t,arguments)}function _T(){var t=fT(Gv());return t.copy=function(){return No(t,_T()).exponent(t.exponent())},ha.apply(t,arguments)}function lve(){return _T.apply(null,arguments).exponent(.5)}function i3(){var t=[],e=In;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(so),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Kme(t,a/r))},n.copy=function(){return i3(e).domain(t)},ha.apply(n,arguments)}function Kv(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=In,c,d=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(r*y<r*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(v){var b,w,_;return arguments.length?([b,w,_]=v,u=wge(y,[b,w,_]),m):[u(0),u(.5),u(1)]}}return m.range=g(vc),m.rangeRound=g(oT),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return c=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function a3(){var t=Oo(Kv()(In));return t.copy=function(){return No(t,a3())},ha.apply(t,arguments)}function o3(){var t=cT(Kv()).domain([.1,1,10]);return t.copy=function(){return No(t,o3()).base(t.base())},ha.apply(t,arguments)}function s3(){var t=dT(Kv());return t.copy=function(){return No(t,s3()).constant(t.constant())},ha.apply(t,arguments)}function ET(){var t=fT(Kv());return t.copy=function(){return No(t,ET()).exponent(t.exponent())},ha.apply(t,arguments)}function uve(){return ET.apply(null,arguments).exponent(.5)}const Pk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mf,scaleDiverging:a3,scaleDivergingLog:o3,scaleDivergingPow:ET,scaleDivergingSqrt:uve,scaleDivergingSymlog:s3,scaleIdentity:VF,scaleImplicit:b_,scaleLinear:Lg,scaleLog:BF,scaleOrdinal:rT,scalePoint:zd,scalePow:hT,scaleQuantile:qF,scaleQuantize:WF,scaleRadial:zF,scaleSequential:t3,scaleSequentialLog:n3,scaleSequentialPow:_T,scaleSequentialQuantile:i3,scaleSequentialSqrt:lve,scaleSequentialSymlog:r3,scaleSqrt:zge,scaleSymlog:UF,scaleThreshold:HF,scaleTime:ove,scaleUtc:sve,tickFormat:LF},Symbol.toStringTag,{value:"Module"}));var cve=lc;function dve(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!cve(o):n(o,s)))var s=o,l=a}return l}var Yv=dve;function fve(t,e){return t>e}var l3=fve,hve=Yv,pve=l3,mve=yc;function gve(t){return t&&t.length?hve(t,mve,pve):void 0}var yve=gve;const Ba=Ue(yve);function vve(t,e){return t<e}var u3=vve,bve=Yv,wve=u3,xve=yc;function _ve(t){return t&&t.length?bve(t,xve,wve):void 0}var Eve=_ve;const Qv=Ue(Eve);var Sve=$S,Tve=Ti,Ave=yF,Ive=Hn;function Pve(t,e){var n=Ive(t)?Sve:Ave;return n(t,Tve(e))}var Ove=Pve,Nve=mF,Cve=Ove;function kve(t,e){return Nve(Cve(t,e),1)}var jve=kve;const Rve=Ue(jve);var Dve=JS;function Mve(t,e){return Dve(t,e)}var $ve=Mve;const Ou=Ue($ve);var bc=1e9,Lve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TT,lt=!0,Ar="[DecimalError] ",xs=Ar+"Invalid argument: ",ST=Ar+"Exponent out of range: ",wc=Math.floor,Yo=Math.pow,Vve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,Ut=1e7,it=7,c3=9007199254740991,Ug=wc(c3/it),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};le.dividedBy=le.div=function(t){return Yi(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,n=e.constructor;return Ke(Yi(e,new n(t),0,1),n.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return Nt(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xn))throw Error(Ar+"NaN");if(n.s<1)throw Error(Ar+(n.s?"NaN":"-Infinity"));return n.eq(Xn)?new r(0):(lt=!1,e=Yi(Bf(n,a),Bf(t,a),a),lt=!0,Ke(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h3(e,t):d3(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ar+"NaN");return n.s?(lt=!1,e=Yi(n,t,0,1).times(t),lt=!0,n.minus(e)):Ke(new r(n),i)};le.naturalExponential=le.exp=function(){return f3(this)};le.naturalLogarithm=le.ln=function(){return Bf(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d3(e,t):h3(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xs+t);if(e=Nt(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};le.squareRoot=le.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ar+"NaN")}for(t=Nt(s),lt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=oi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Yi(s,a,o+2)).times(.5),oi(a.d).slice(0,o)===(e=oi(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ke(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return lt=!0,Ke(r,n)};le.times=le.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,d=c.constructor,h=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%Ut|0,e=s/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,lt?Ke(t,d.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bi(t,0,bc),e===void 0?e=r.rounding:bi(e,0,8),Ke(n,t+Nt(n)+1,e))};le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zs(r,!0):(bi(t,0,bc),e===void 0?e=i.rounding:bi(e,0,8),r=Ke(new i(r),t+1,e),n=zs(r,!0,t+1)),n};le.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?zs(i):(bi(t,0,bc),e===void 0?e=a.rounding:bi(e,0,8),r=Ke(new a(i),t+Nt(i)+1,e),n=zs(r.abs(),!1,t+Nt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),Nt(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Xn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ar+"Infinity");return s}if(s.eq(Xn))return s;if(r=l.precision,t.eq(Xn))return Ke(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=c3){for(i=new l(Xn),e=Math.ceil(r/it+4),lt=!1;n%2&&(i=i.times(s),Nk(i.d,e)),n=wc(n/2),n!==0;)s=s.times(s),Nk(s.d,e);return lt=!0,t.s<0?new l(Xn).div(i):Ke(i,r)}}else if(a<0)throw Error(Ar+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,lt=!1,i=t.times(Bf(s,r+u)),lt=!0,i=f3(i),i.s=a,i};le.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Nt(i),r=zs(i,n<=a.toExpNeg||n>=a.toExpPos)):(bi(t,1,bc),e===void 0?e=a.rounding:bi(e,0,8),i=Ke(new a(i),t,e),n=Nt(i),r=zs(i,t<=n||n<=a.toExpNeg,t)),r};le.toSignificantDigits=le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bi(t,1,bc),e===void 0?e=r.rounding:bi(e,0,8)),Ke(new r(n),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nt(t),n=t.constructor;return zs(t,e<=n.toExpNeg||e>=n.toExpPos)};function d3(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),lt?Ke(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(d/it),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,lt?Ke(e,d):e}function bi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xs+t)}function oi(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(a+=Ia(n)),a+=r;o=t[e],r=o+"",n=it-r.length,n&&(a+=Ia(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Yi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ut|0,o=a/Ut|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,d,h,m,g,y,v,b,w,_,P,E,A,S,T,O=r.constructor,C=r.s==i.s?1:-1,N=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ar+"Division by zero");for(l=r.e-i.e,S=R.length,E=N.length,m=new O(C),g=m.d=[],u=0;R[u]==(N[u]||0);)++u;if(R[u]>(N[u]||0)&&--l,a==null?w=a=O.precision:o?w=a+(Nt(r)-Nt(i))+1:w=a,w<0)return new O(0);if(w=w/it+2|0,u=0,S==1)for(c=0,R=R[0],w++;(u<E||c)&&w--;u++)_=c*Ut+(N[u]||0),g[u]=_/R|0,c=_%R|0;else{for(c=Ut/(R[0]+1)|0,c>1&&(R=t(R,c),N=t(N,c),S=R.length,E=N.length),P=S,y=N.slice(0,S),v=y.length;v<S;)y[v++]=0;T=R.slice(),T.unshift(0),A=R[0],R[1]>=Ut/2&&++A;do c=0,s=e(R,y,S,v),s<0?(b=y[0],S!=v&&(b=b*Ut+(y[1]||0)),c=b/A|0,c>1?(c>=Ut&&(c=Ut-1),d=t(R,c),h=d.length,v=y.length,s=e(d,y,h,v),s==1&&(c--,n(d,S<h?T:R,h))):(c==0&&(s=c=1),d=R.slice()),h=d.length,h<v&&d.unshift(0),n(y,d,v),s==-1&&(v=y.length,s=e(R,y,S,v),s<1&&(c++,n(y,S<v?T:R,v))),v=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[v++]=N[P]||0:(y=[N[P]],v=1);while((P++<E||y[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,Ke(m,o?a+Nt(m)+1:a)}}();function f3(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,d=c.precision;if(Nt(t)>16)throw Error(ST+Nt(t));if(!t.s)return new c(Xn);for(e==null?(lt=!1,s=d):s=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Yo(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Xn),c.precision=s;;){if(i=Ke(i.times(t),s),n=n.times(++l),o=a.plus(Yi(i,n,s)),oi(o.d).slice(0,s)===oi(a.d).slice(0,s)){for(;u--;)a=Ke(a.times(a),s);return c.precision=d,e==null?(lt=!0,Ke(a,d)):a}a=o}}function Nt(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function Wb(t,e,n){if(e>t.LN10.sd())throw lt=!0,n&&(t.precision=n),Error(Ar+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function Ia(t){for(var e="";t--;)e+="0";return e}function Bf(t,e){var n,r,i,a,o,s,l,u,c,d=1,h=10,m=t,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(Ar+(m.s?"NaN":"-Infinity"));if(m.eq(Xn))return new y(0);if(e==null?(lt=!1,u=v):u=e,m.eq(10))return e==null&&(lt=!0),Wb(y,u);if(u+=h,y.precision=u,n=oi(g),r=n.charAt(0),a=Nt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=oi(m.d),r=n.charAt(0),d++;a=Nt(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return l=Wb(y,u+2,v).times(a+""),m=Bf(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=v,e==null?(lt=!0,Ke(m,v)):m;for(s=o=m=Yi(m.minus(Xn),m.plus(Xn),u),c=Ke(m.times(m),u),i=3;;){if(o=Ke(o.times(c),u),l=s.plus(Yi(o,new y(i),u)),oi(l.d).slice(0,u)===oi(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Wb(y,u+2,v).times(a+""))),s=Yi(s,new y(d),u),y.precision=v,e==null?(lt=!0,Ke(s,v)):s;s=l,i+=2}}function Ok(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wc(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),lt&&(t.e>Ug||t.e<-Ug))throw Error(ST+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,a,o,s,l,u,c,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=it,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/it),a=d.length,c>=a)return t;for(u=a=d[c],o=1;a>=10;a/=10)o++;r%=it,i=r-it+o}if(n!==void 0&&(a=Yo(10,o-i-1),s=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Yo(10,o-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Nt(t),d.length=1,e=e-a-1,d[0]=Yo(10,(it-e%it)%it),t.e=wc(-e/it)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Yo(10,it-r),d[c]=i>0?(u/Yo(10,o-i)%Yo(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Ut&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=Ut)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(lt&&(t.e>Ug||t.e<-Ug))throw Error(ST+Nt(t));return t}function h3(t,e){var n,r,i,a,o,s,l,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),lt?Ke(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/it),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,lt?Ke(e,m):e):new h(0)}function zs(t,e,n){var r,i=Nt(t),a=oi(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ia(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ia(-i-1)+a,n&&(r=n-o)>0&&(a+=Ia(r))):i>=o?(a+=Ia(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ia(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ia(r))),t.s<0?"-"+a:a}function Nk(t,e){if(t.length>e)return t.length=e,!0}function p3(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xs+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Ok(o,a.toString())}else if(typeof a!="string")throw Error(xs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Vve.test(a))Ok(o,a);else throw Error(xs+a)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=p3,i.config=i.set=Fve,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Fve(t){if(!t||typeof t!="object")throw Error(Ar+"Object expected");var e,n,r,i=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xs+n+": "+r);return this}var TT=p3(Lve);Xn=new TT(1);const qe=TT;function Bve(t){return Wve(t)||qve(t)||zve(t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zve(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function qve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wve(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hve=function(e){return e},m3={"@@functional/placeholder":!0},g3=function(e){return e===m3},Ck=function(e){return function n(){return arguments.length===0||arguments.length===1&&g3(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Gve=function t(e,n){return e===1?n:Ck(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==m3}).length;return o>=e?n.apply(void 0,i):t(e-o,Ck(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return g3(d)?l.shift():d});return n.apply(void 0,Bve(c).concat(l))}))})},Xv=function(e){return Gve(e.length,e)},S_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Kve=Xv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Yve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Hve;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},T_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},y3=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Qve(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function Xve(t,e,n){for(var r=new qe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Jve=Xv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Zve=Xv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),e0e=Xv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Jv={rangeStep:Xve,getDigitCount:Qve,interpolateNumber:Jve,uninterpolateNumber:Zve,uninterpolateTruncation:e0e};function A_(t){return r0e(t)||n0e(t)||v3(t)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function r0e(t){if(Array.isArray(t))return I_(t)}function Uf(t,e){return o0e(t)||a0e(t,e)||v3(t,e)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function o0e(t){if(Array.isArray(t))return t}function b3(t){var e=Uf(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function w3(t,e,n){if(t.lte(0))return new qe(0);var r=Jv.getDigitCount(t.toNumber()),i=new qe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new qe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function s0e(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new qe(10).pow(Jv.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var o=Math.floor((e-1)/2),s=Yve(Kve(function(l){return i.add(new qe(l-o).mul(r)).toNumber()}),S_);return s(0,e)}function x3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var a=w3(new qe(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new qe(0):(o=new qe(t).add(e).div(2),o=o.sub(new qe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new qe(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?x3(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new qe(s).mul(a)),tickMax:o.add(new qe(l).mul(a))})}function l0e(t){var e=Uf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=b3([n,r]),l=Uf(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(A_(S_(0,i-1).map(function(){return 1/0}))):[].concat(A_(S_(0,i-1).map(function(){return-1/0})),[c]);return n>r?T_(d):d}if(u===c)return s0e(u,i,a);var h=x3(u,c,o,a),m=h.step,g=h.tickMin,y=h.tickMax,v=Jv.rangeStep(g,y.add(new qe(.1).mul(m)),m);return n>r?T_(v):v}function u0e(t,e){var n=Uf(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=b3([r,i]),s=Uf(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=w3(new qe(u).sub(l).div(c-1),a,0),h=[].concat(A_(Jv.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(d)),d)),[u]);return r>i?T_(h):h}var c0e=y3(l0e),d0e=y3(u0e),f0e="Invariant failed";function qs(t,e){throw new Error(f0e)}var h0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function p0e(t,e){return v0e(t)||y0e(t,e)||g0e(t,e)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(t,e)}}function kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function v0e(t){if(Array.isArray(t))return t}function b0e(t,e){if(t==null)return{};var n=w0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S3(r.key),r)}}function E0e(t,e,n){return e&&_0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0e(t,e,n){return e=qg(e),T0e(t,_3()?Reflect.construct(e,n||[],qg(t).constructor):e.apply(t,n))}function T0e(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A0e(t)}function A0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function I0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function E3(t,e,n){return e=S3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S3(t){var e=P0e(t,"string");return Nu(e)=="symbol"?e:e+""}function P0e(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zv=function(t){function e(){return x0e(this,e),S0e(this,e,arguments)}return I0e(e,t),E0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=b0e(r,h0e),m=de(h,!1);this.props.direction==="x"&&c.type!=="number"&&qs();var g=l.map(function(y){var v=u(y,s),b=v.x,w=v.y,_=v.value,P=v.errorVal;if(!P)return null;var E=[],A,S;if(Array.isArray(P)){var T=p0e(P,2);A=T[0],S=T[1]}else A=S=P;if(a==="vertical"){var O=c.scale,C=w+i,N=C+o,R=C-o,k=O(_-A),U=O(_+S);E.push({x1:U,y1:N,x2:U,y2:R}),E.push({x1:k,y1:C,x2:U,y2:C}),E.push({x1:k,y1:N,x2:k,y2:R})}else if(a==="horizontal"){var B=d.scale,H=b+i,G=H-o,V=H+o,W=B(_-A),Q=B(_+S);E.push({x1:G,y1:Q,x2:V,y2:Q}),E.push({x1:H,y1:W,x2:H,y2:Q}),E.push({x1:G,y1:W,x2:V,y2:W})}return M.createElement(je,zg({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},m),E.map(function(ie){return M.createElement("line",zg({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return M.createElement(je,{className:"recharts-errorBars"},g)}}])}(M.Component);E3(Zv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});E3(Zv,"displayName","ErrorBar");function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){O0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O0e(t,e,n){return e=N0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N0e(t){var e=C0e(t,"string");return zf(e)=="symbol"?e:e+""}function C0e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Qn(n,oo);if(!o)return null;var s=oo.defaultProps,l=s!==void 0?Vo(Vo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,m=d.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,m=h!==void 0?Vo(Vo({},h),d.props):{},g=m.dataKey,y=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:l.iconType||v||"square",color:AT(d),value:y||g,payload:m}}),Vo(Vo(Vo({},l),oo.getWithHeight(o,i)),{},{payload:u,item:o})};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Rk(t){return D0e(t)||R0e(t)||j0e(t)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(t,e){if(t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function R0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D0e(t){if(Array.isArray(t))return O_(t)}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){eu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eu(t,e,n){return e=M0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=$0e(t,"string");return qf(e)=="symbol"?e:e+""}function $0e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rt(t,e,n){return xe(t)||xe(e)?n:Mt(e)?rr(t,e,n):me(e)?e(t):n}function qd(t,e,n,r){var i=Rve(t,function(s){return Rt(s,e)});if(n==="number"){var a=i.filter(function(s){return ee(s)||parseFloat(s)});return a.length?[Qv(a),Ba(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!xe(s)}):i;return o.map(function(s){return Mt(s)||s instanceof Date?s:""})}var L0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Tn(d-c)!==Tn(h-d)){var g=[];if(Tn(h-d)===Tn(l[1]-l[0])){m=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var w=Math.min(c,h),_=Math.max(c,h);if(e>(w+d)/2&&e<=(_+d)/2){o=i[u].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){o=r[P].index;break}return o},AT=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},V0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,d=Object.keys(c),h=0,m=d.length;h<m;h++){var g=c[d[h]],y=g.items,v=g.cateAxisId,b=y.filter(function(S){return Ki(S.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?wt(wt({},w),b[0].props):b[0].props,P=_.barSize,E=_[v];o[E]||(o[E]=[]);var A=xe(P)?n:P;o[E].push({item:b[0],stackList:b.slice(1),barSize:xe(A)?void 0:An(A,r,0)})}}return o},F0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=An(n,i,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/l,g=o.reduce(function(P,E){return P+E.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,v={offset:y-u,size:0};c=o.reduce(function(P,E){var A={item:E.item,position:{offset:v.offset+v.size+u,size:h?m:E.barSize}},S=[].concat(Rk(P),[A]);return v=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){S.push({item:T,position:v})}),S},d)}else{var b=An(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var w=(i-2*b-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=o.reduce(function(P,E,A){var S=[].concat(Rk(P),[{item:E.item,position:{offset:b+(w+u)*A+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},d)}return c},B0e=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=T3({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&ee(e[m]))return wt(wt({},e),{},eu({},m,e[m]+(d||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&ee(e[g]))return wt(wt({},e),{},eu({},g,e[g]+(h||0)))}return e},U0e=function(e,n,r){return xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},A3=function(e,n,r,i,a){var o=n.props.children,s=xr(o,Zv).filter(function(u){return U0e(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Rt(c,r);if(xe(d))return u;var h=Array.isArray(d)?[Qv(d),Ba(d)]:[d,d],m=l.reduce(function(g,y){var v=Rt(c,y,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},z0e=function(e,n,r,i,a){var o=n.map(function(s){return A3(e,s,r,a,i)}).filter(function(s){return!xe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},I3=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&A3(e,l,u,i)||qd(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},P3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},O3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Wi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?Tn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!hc(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},Hb=new WeakMap,Bp=function(e,n){if(typeof n!="function")return e;Hb.has(e)||Hb.set(e,new WeakMap);var r=Hb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},N3=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Mf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Lg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:zd(),realScaleType:"point"}:a==="category"?{scale:Mf(),realScaleType:"band"}:{scale:Lg(),realScaleType:"linear"};if($h(i)){var l="scale".concat(Dv(i));return{scale:(Pk[l]||zd)(),realScaleType:Pk[l]?l:"point"}}return me(i)?{scale:i}:{scale:zd(),realScaleType:"point"}},Mk=1e-4,C3=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Mk,o=Math.max(i[0],i[1])+Mk,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},q0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},W0e=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(a[0]=r),(!ee(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},H0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=hc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},G0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=hc(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},K0e={sign:H0e,expand:hoe,none:xu,silhouette:poe,wiggle:moe,positive:G0e},Y0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=K0e[r],o=foe().keys(i).value(function(s,l){return+Rt(s,l,0)}).order(e_).offset(a);return o(e)},Q0e=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(d,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return d;var b=g[r],w=d[b]||{hasStack:!1,stackGroups:{}};if(Mt(y)){var _=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[pc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return wt(wt({},d),{},eu({},b,w))},l),c={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,v){var b=m.stackGroups[v];return wt(wt({},y),{},eu({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Y0e(e,b.items,a)}))},g)}return wt(wt({},d),{},eu({},h,m))},c)},k3=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=c0e(u,a,s);return e.domain([Qv(c),Ba(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),h=d0e(d,a,s);return{niceTicks:h}}return null};function $k(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xe(i[e.dataKey])){var s=yg(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Rt(i,xe(o)?e.dataKey:o);return xe(l)?null:e.scale(l)}var Lk=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Rt(o,n.dataKey,n.domain[s]);return xe(l)?null:n.scale(l)-a/2+i},X0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},J0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Mt(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Z0e=function(e){return e.reduce(function(n,r){return[Qv(r.concat([n[0]]).filter(ee)),Ba(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},j3=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var d=Z0e(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Vk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N_=function(e,n,r){if(me(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Vk.test(e[0])){var a=+Vk.exec(e[0])[1];i[0]=n[0]-a}else me(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Fk.test(e[1])){var o=+Fk.exec(e[1])[1];i[1]=n[1]+o}else me(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=eT(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Bk=function(e,n,r){return!e||!e.length||Ou(e,rr(r,"type.defaultProps.domain"))?n:e},R3=function(e,n){var r=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return wt(wt({},de(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:AT(e),value:Rt(n,i),type:l,payload:n,chartType:u,hide:c})};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){D3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D3(t,e,n){return e=ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ebe(t){var e=tbe(t,"string");return Wf(e)=="symbol"?e:e+""}function tbe(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nbe(t,e){return obe(t)||abe(t,e)||ibe(t,e)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(t,e){if(t){if(typeof t=="string")return zk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zk(t,e)}}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function abe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function obe(t){if(Array.isArray(t))return t}var Hg=Math.PI/180,sbe=function(e){return e*180/Math.PI},et=function(e,n,r,i){return{x:e+Math.cos(-Hg*i)*r,y:n+Math.sin(-Hg*i)*r}},M3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lbe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=An(e.cx,o,o/2),d=An(e.cy,s,s/2),h=M3(o,s,r),m=An(e.innerRadius,h,0),g=An(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(v,b){var w=n[b],_=w.domain,P=w.reversed,E;if(xe(w.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[m,g]),P&&(E=[E[1],E[0]]);else{E=w.range;var A=E,S=nbe(A,2);l=S[0],u=S[1]}var T=N3(w,a),O=T.realScaleType,C=T.scale;C.domain(_).range(E),C3(C);var N=k3(C,ji(ji({},w),{},{realScaleType:O})),R=ji(ji(ji({},w),N),{},{range:E,radius:g,realScaleType:O,scale:C,cx:c,cy:d,innerRadius:m,outerRadius:g,startAngle:l,endAngle:u});return ji(ji({},v),{},D3({},b,R))},{})},ube=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},cbe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=ube({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:sbe(u),angleInRadian:u}},dbe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},fbe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},qk=function(e,n){var r=e.x,i=e.y,a=cbe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=dbe(n),d=c.startAngle,h=c.endAngle,m=s,g;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=d}return g?ji(ji({},n),{},{radius:o,angle:fbe(m,n)}):null},$3=function(e){return!D.isValidElement(e)&&!me(e)&&typeof e!="boolean"?e.className:""};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var hbe=["offset"];function pbe(t){return vbe(t)||ybe(t)||gbe(t)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function ybe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vbe(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bbe(t,e){if(t==null)return{};var n=wbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){xbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xbe(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Ebe(t,"string");return Hf(e)=="symbol"?e:e+""}function Ebe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}var Sbe=function(e){var n=e.value,r=e.formatter,i=xe(e.children)?n:e.children;return me(r)?r(i):i},Tbe=function(e,n){var r=Tn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Abe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,v=(d+h)/2,b=Tbe(m,g),w=b>=0?1:-1,_,P;i==="insideStart"?(_=m+w*o,P=y):i==="insideEnd"?(_=g-w*o,P=!y):i==="end"&&(_=g+w*o,P=y),P=b<=0?P:!P;var E=et(u,c,v,_),A=et(u,c,v,_+(P?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),T=xe(e.id)?pc("recharts-radial-line-"):e.id;return M.createElement("text",Gf({},r,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:T,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Ibe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,h=(c+d)/2;if(i==="outside"){var m=et(o,s,u+r,h),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=et(o,s,v,h),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Pbe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,h=d*i,m=d>0?"end":"start",g=d>0?"start":"end",y=u>=0?1:-1,v=y*i,b=y>0?"end":"start",w=y>0?"start":"end";if(a==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return kt(kt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var P={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return kt(kt({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var E={x:s-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return kt(kt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(a==="right"){var A={x:s+u+v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return kt(kt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return a==="insideLeft"?kt({x:s+v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},S):a==="insideRight"?kt({x:s+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideTop"?kt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?kt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?kt({x:s+v,y:l+h,textAnchor:w,verticalAnchor:g},S):a==="insideTopRight"?kt({x:s+u-v,y:l+h,textAnchor:b,verticalAnchor:g},S):a==="insideBottomLeft"?kt({x:s+v,y:l+c-h,textAnchor:w,verticalAnchor:m},S):a==="insideBottomRight"?kt({x:s+u-v,y:l+c-h,textAnchor:b,verticalAnchor:m},S):uc(a)&&(ee(a.x)||ls(a.x))&&(ee(a.y)||ls(a.y))?kt({x:s+An(a.x,u),y:l+An(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):kt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Obe=function(e){return"cx"in e&&ee(e.cx)};function qt(t){var e=t.offset,n=e===void 0?5:e,r=bbe(t,hbe),i=kt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!a||xe(s)&&xe(l)&&!D.isValidElement(u)&&!me(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var m;if(me(u)){if(m=D.createElement(u,i),D.isValidElement(m))return m}else m=Sbe(i);var g=Obe(a),y=de(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Abe(i,m,y);var v=g?Ibe(i):Pbe(i);return M.createElement(Us,Gf({className:Ee("recharts-label",d)},y,v,{breakAll:h}),m)}qt.displayName="Label";var L3=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,m=e.top,g=e.left,y=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(ee(y)&&ee(v)){if(ee(d)&&ee(h))return{x:d,y:h,width:y,height:v};if(ee(m)&&ee(g))return{x:m,y:g,width:y,height:v}}return ee(d)&&ee(h)?{x:d,y:h,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Nbe=function(e,n){return e?e===!0?M.createElement(qt,{key:"label-implicit",viewBox:n}):Mt(e)?M.createElement(qt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===qt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(qt,{key:"label-implicit",content:e,viewBox:n}):me(e)?M.createElement(qt,{key:"label-implicit",content:e,viewBox:n}):uc(e)?M.createElement(qt,Gf({viewBox:n},e,{key:"label-implicit"})):null:null},Cbe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=L3(e),o=xr(i,qt).map(function(l,u){return D.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Nbe(e.label,n||a);return[s].concat(pbe(o))};qt.parseViewBox=L3;qt.renderCallByParent=Cbe;function kbe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var jbe=kbe;const Rbe=Ue(jbe);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var Dbe=["valueAccessor"],Mbe=["data","dataKey","clockWise","id","textBreakAll"];function $be(t){return Bbe(t)||Fbe(t)||Vbe(t)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vbe(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function Fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bbe(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){Ube(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ube(t,e,n){return e=zbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zbe(t){var e=qbe(t,"string");return Kf(e)=="symbol"?e:e+""}function qbe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kk(t,e){if(t==null)return{};var n=Wbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hbe=function(e){return Array.isArray(e.value)?Rbe(e.value):e.value};function Qi(t){var e=t.valueAccessor,n=e===void 0?Hbe:e,r=Kk(t,Dbe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=Kk(r,Mbe);return!i||!i.length?null:M.createElement(je,{className:"recharts-label-list"},i.map(function(c,d){var h=xe(a)?n(c,d):Rt(c&&c.payload,a),m=xe(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(qt,Gg({},de(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:qt.parseViewBox(xe(o)?c:Gk(Gk({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Qi.displayName="LabelList";function Gbe(t,e){return t?t===!0?M.createElement(Qi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||me(t)?M.createElement(Qi,{key:"labelList-implicit",data:e,content:t}):uc(t)?M.createElement(Qi,Gg({data:e},t,{key:"labelList-implicit"})):null:null}function Kbe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xr(r,Qi).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Gbe(t.label,e);return[a].concat($be(i))}Qi.renderCallByParent=Kbe;function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ybe(t,e,n){return e=Qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qbe(t){var e=Xbe(t,"string");return Yf(e)=="symbol"?e:e+""}function Xbe(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jbe=function(e,n){var r=Tn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Up=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Hg,h=u?a:a+o*d,m=et(n,r,c,h),g=et(n,r,i,h),y=u?a-o*d:a,v=et(n,r,c*Math.cos(d*Hg),y);return{center:m,circleTangency:g,lineTangency:v,theta:d}},V3=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Jbe(o,s),u=o+l,c=et(n,r,a,o),d=et(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=et(n,r,i,o),g=et(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Zbe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Tn(c-u),h=Up({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,y=h.theta,v=Up({cx:n,cy:r,radius:a,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),b=v.circleTangency,w=v.lineTangency,_=v.theta,P=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(P<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):V3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=Up({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=A.circleTangency,T=A.lineTangency,O=A.theta,C=Up({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=C.circleTangency,R=C.lineTangency,k=C.theta,U=l?Math.abs(u-c):Math.abs(u-c)-O-k;if(U<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},ewe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F3=function(e){var n=Qk(Qk({},ewe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(o<a||c===d)return null;var m=Ee("recharts-sector",h),g=o-a,y=An(s,g,0,!0),v;return y>0&&Math.abs(c-d)<360?v=Zbe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=V3({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}),M.createElement("path",j_({},de(n,!0),{className:m,d:v,role:"img"}))};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function twe(t,e,n){return e=nwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nwe(t){var e=rwe(t,"string");return Qf(e)=="symbol"?e:e+""}function rwe(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zk={curveBasisClosed:toe,curveBasisOpen:noe,curveBasis:eoe,curveBumpX:Fae,curveBumpY:Bae,curveLinearClosed:roe,curveLinear:$v,curveMonotoneX:ioe,curveMonotoneY:aoe,curveNatural:ooe,curveStep:soe,curveStepAfter:uoe,curveStepBefore:loe},zp=function(e){return e.x===+e.x&&e.y===+e.y},id=function(e){return e.x},ad=function(e){return e.y},iwe=function(e,n){if(me(e))return e;var r="curve".concat(Dv(e));return(r==="curveMonotone"||r==="curveBump")&&n?Zk["".concat(r).concat(n==="vertical"?"Y":"X")]:Zk[r]||$v},awe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=iwe(r,s),d=u?a.filter(function(y){return zp(y)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(y){return zp(y)}):o,g=d.map(function(y,v){return Jk(Jk({},y),{},{base:m[v]})});return s==="vertical"?h=jp().y(ad).x1(id).x0(function(y){return y.base.x}):h=jp().x(id).y1(ad).y0(function(y){return y.base.y}),h.defined(zp).curve(c),h(g)}return s==="vertical"&&ee(o)?h=jp().y(ad).x1(id).x0(o):ee(o)?h=jp().x(id).y1(ad).y0(o):h=R4().x(id).y(ad),h.defined(zp).curve(c),h(d)},tu=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?awe(e):i;return M.createElement("path",R_({},de(e,!1),vg(e),{className:Ee("recharts-curve",n),d:o,ref:a}))},B3={exports:{}},owe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",swe=owe,lwe=swe;function U3(){}function z3(){}z3.resetWarningCache=U3;var uwe=function(){function t(r,i,a,o,s,l){if(l!==lwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:z3,resetWarningCache:U3};return n.PropTypes=n,n};B3.exports=uwe();var cwe=B3.exports;const _e=Ue(cwe);var dwe=Object.getOwnPropertyNames,fwe=Object.getOwnPropertySymbols,hwe=Object.prototype.hasOwnProperty;function ej(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function qp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function tj(t){return dwe(t).concat(fwe(t))}var q3=Object.hasOwn||function(t,e){return hwe.call(t,e)};function xc(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var W3="_owner",nj=Object.getOwnPropertyDescriptor,rj=Object.keys;function pwe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function mwe(t,e){return xc(t.getTime(),e.getTime())}function ij(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var d=o.value,h=d[0],m=d[1],g=s.value,y=g[0],v=g[1];!u&&!r[c]&&(u=n.equals(h,y,a,c,t,e,n)&&n.equals(m,v,h,y,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;a++}return!0}function gwe(t,e,n){var r=rj(t),i=r.length;if(rj(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===W3&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!q3(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function od(t,e,n){var r=tj(t),i=r.length;if(tj(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],a===W3&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!q3(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(o=nj(t,a),s=nj(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function ywe(t,e){return xc(t.valueOf(),e.valueOf())}function vwe(t,e){return t.source===e.source&&t.flags===e.flags}function aj(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,u=0;(o=s.next())&&!o.done;)!l&&!r[u]&&(l=n.equals(a.value,o.value,a.value,o.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function bwe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var wwe="[object Arguments]",xwe="[object Boolean]",_we="[object Date]",Ewe="[object Map]",Swe="[object Number]",Twe="[object Object]",Awe="[object RegExp]",Iwe="[object Set]",Pwe="[object String]",Owe=Array.isArray,oj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,sj=Object.assign,Nwe=Object.prototype.toString.call.bind(Object.prototype.toString);function Cwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,d,h){if(c===d)return!0;if(c==null||d==null||typeof c!="object"||typeof d!="object")return c!==c&&d!==d;var m=c.constructor;if(m!==d.constructor)return!1;if(m===Object)return i(c,d,h);if(Owe(c))return e(c,d,h);if(oj!=null&&oj(c))return l(c,d,h);if(m===Date)return n(c,d,h);if(m===RegExp)return o(c,d,h);if(m===Map)return r(c,d,h);if(m===Set)return s(c,d,h);var g=Nwe(c);return g===_we?n(c,d,h):g===Awe?o(c,d,h):g===Ewe?r(c,d,h):g===Iwe?s(c,d,h):g===Twe?typeof c.then!="function"&&typeof d.then!="function"&&i(c,d,h):g===wwe?i(c,d,h):g===xwe||g===Swe||g===Pwe?a(c,d,h):!1}}function kwe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?od:pwe,areDatesEqual:mwe,areMapsEqual:r?ej(ij,od):ij,areObjectsEqual:r?od:gwe,arePrimitiveWrappersEqual:ywe,areRegExpsEqual:vwe,areSetsEqual:r?ej(aj,od):aj,areTypedArraysEqual:r?od:bwe};if(n&&(i=sj({},i,n(i))),e){var a=qp(i.areArraysEqual),o=qp(i.areMapsEqual),s=qp(i.areObjectsEqual),l=qp(i.areSetsEqual);i=sj({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function jwe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Rwe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,m=c.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Dwe=Co();Co({strict:!0});Co({circular:!0});Co({circular:!0,strict:!0});Co({createInternalComparator:function(){return xc}});Co({strict:!0,createInternalComparator:function(){return xc}});Co({circular:!0,createInternalComparator:function(){return xc}});Co({circular:!0,createInternalComparator:function(){return xc},strict:!0});function Co(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=kwe(t),l=Cwe(s),u=r?r(l):jwe(l);return Rwe({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Mwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Mwe(i)};requestAnimationFrame(r)}function D_(t){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(t)}function $we(t){return Bwe(t)||Fwe(t)||Vwe(t)||Lwe()}function Lwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vwe(t,e){if(t){if(typeof t=="string")return uj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uj(t,e)}}function uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bwe(t){if(Array.isArray(t))return t}function Uwe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=$we(o),l=s[0],u=s.slice(1);if(typeof l=="number"){lj(i.bind(null,u),l);return}i(l),lj(i.bind(null,u));return}D_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(n),!0).forEach(function(r){H3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H3(t,e,n){return e=zwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zwe(t){var e=qwe(t,"string");return Xf(e)==="symbol"?e:String(e)}function qwe(t,e){if(Xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wwe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Hwe=function(e){return e},Gwe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Wd=function(e,n){return Object.keys(n).reduce(function(r,i){return dj(dj({},r),{},H3({},i,e(i,n[i])))},{})},fj=function(e,n,r){return e.map(function(i){return"".concat(Gwe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Kwe(t,e){return Xwe(t)||Qwe(t,e)||G3(t,e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xwe(t){if(Array.isArray(t))return t}function Jwe(t){return txe(t)||exe(t)||G3(t)||Zwe()}function Zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function exe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function txe(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kg=1e-4,K3=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Y3=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hj=function(e,n){return function(r){var i=K3(e,n);return Y3(i,r)}},nxe=function(e,n){return function(r){var i=K3(e,n),a=[].concat(Jwe(i.map(function(o,s){return o*s}).slice(1)),[0]);return Y3(a,r)}},pj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Kwe(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var d=hj(i,o),h=hj(a,s),m=nxe(i,o),g=function(b){return b>1?1:b<0?0:b},y=function(b){for(var w=b>1?1:b,_=w,P=0;P<8;++P){var E=d(_)-w,A=m(_);if(Math.abs(E-w)<Kg||A<Kg)return h(_);_=g(_-E/A)}return h(_)};return y.isStepper=!1,y},rxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,d,h){var m=-(c-d)*r,g=h*a,y=h+(m-g)*s/1e3,v=h*s/1e3+c;return Math.abs(v-d)<Kg&&Math.abs(y)<Kg?[d,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},ixe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pj(i);case"spring":return rxe();default:if(i.split("(")[0]==="cubic-bezier")return pj(i)}return typeof i=="function"?i:null};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function mj(t){return sxe(t)||oxe(t)||Q3(t)||axe()}function axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sxe(t){if(Array.isArray(t))return L_(t)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_(t,e,n){return e=lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=uxe(t,"string");return Jf(e)==="symbol"?e:String(e)}function uxe(t,e){if(Jf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cxe(t,e){return hxe(t)||fxe(t,e)||Q3(t,e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3(t,e){if(t){if(typeof t=="string")return L_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(t,e)}}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hxe(t){if(Array.isArray(t))return t}var Yg=function(e,n,r){return e+(n-e)*r},V_=function(e){var n=e.from,r=e.to;return n!==r},pxe=function t(e,n,r){var i=Wd(function(a,o){if(V_(o)){var s=e(o.from,o.to,o.velocity),l=cxe(s,2),u=l[0],c=l[1];return Qt(Qt({},o),{},{from:u,velocity:c})}return o},n);return r<1?Wd(function(a,o){return V_(o)?Qt(Qt({},o),{},{velocity:Yg(o.velocity,i[a].velocity,r),from:Yg(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const mxe=function(t,e,n,r,i){var a=Wwe(t,e),o=a.reduce(function(v,b){return Qt(Qt({},v),{},$_({},b,[t[b],e[b]]))},{}),s=a.reduce(function(v,b){return Qt(Qt({},v),{},$_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Wd(function(b,w){return w.from},s)},m=function(){return!Object.values(s).filter(V_).length},g=function(b){u||(u=b);var w=b-u,_=w/n.dt;s=pxe(n,s,_),i(Qt(Qt(Qt({},t),e),h())),u=b,m()||(l=requestAnimationFrame(d))},y=function(b){c||(c=b);var w=(b-c)/r,_=Wd(function(E,A){return Yg.apply(void 0,mj(A).concat([n(w)]))},o);if(i(Qt(Qt(Qt({},t),e),_)),w<1)l=requestAnimationFrame(d);else{var P=Wd(function(E,A){return Yg.apply(void 0,mj(A).concat([n(1)]))},o);i(Qt(Qt(Qt({},t),e),P))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}var gxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gb(t){return _xe(t)||xxe(t)||wxe(t)||bxe()}function bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wxe(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function xxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _xe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){wd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wd(t,e,n){return e=X3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Exe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X3(r.key),r)}}function Txe(t,e,n){return e&&Sxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X3(t){var e=Axe(t,"string");return Cu(e)==="symbol"?e:String(e)}function Axe(t,e){if(Cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ixe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function Pxe(t){var e=Oxe();return function(){var r=Qg(t),i;if(e){var a=Qg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return U_(this,i)}}function U_(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_(t)}function z_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}var wi=function(t){Ixe(n,t);var e=Pxe(n);function n(r,i){var a;Exe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(z_(a)),a.changeStyle=a.changeStyle.bind(z_(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),U_(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},U_(a);a.state={style:l?wd({},l,u):u}}else a.state={style:{}};return a}return Txe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,h=this.state.style;if(s){if(!o){var m={style:l?wd({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(Dwe(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?d:i.to;if(this.state&&h){var v={style:l?wd({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(jr(jr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=mxe(o,s,ixe(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,d=u.duration,h=d===void 0?0:d,m=function(y,v,b){if(b===0)return y;var w=v.duration,_=v.easing,P=_===void 0?"ease":_,E=v.style,A=v.properties,S=v.onAnimationEnd,T=b>0?o[b-1]:v,O=A||Object.keys(E);if(typeof P=="function"||P==="spring")return[].concat(Gb(y),[a.runJSAnimation.bind(a,{from:T.style,to:E,duration:w,easing:P}),w]);var C=fj(O,w,P),N=jr(jr(jr({},T.style),E),{},{transition:C});return[].concat(Gb(y),[N,w,S]).filter(Hwe)};return this.manager.start([l].concat(Gb(o.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Uwe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?wd({},s,l):l,v=fj(Object.keys(y),o,u);g.start([c,a,jr(jr({},y),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=yxe(i,gxe),u=D.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var d=function(m){var g=m.props,y=g.style,v=y===void 0?{}:y,b=g.className,w=D.cloneElement(m,jr(jr({},l),{},{style:jr(jr({},v),c),className:b}));return w};return u===1?d(D.Children.only(a)):M.createElement("div",null,D.Children.map(a,function(h){return d(h)}))}}]),n}(D.PureComponent);wi.displayName="Animate";wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wi.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};_e.object,_e.object,_e.object,_e.element;_e.object,_e.object,_e.object,_e.oneOfType([_e.array,_e.element]),_e.any;function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function Nxe(t,e){return Rxe(t)||jxe(t,e)||kxe(t,e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(t,e){if(t){if(typeof t=="string")return vj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vj(t,e)}}function vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rxe(t){if(Array.isArray(t))return t}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){Dxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dxe(t,e,n){return e=Mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mxe(t){var e=$xe(t,"string");return Zf(e)=="symbol"?e:e+""}function $xe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xj=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Lxe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},Vxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IT=function(e){var n=wj(wj({},Vxe),e),r=D.useRef(),i=D.useState(-1),a=Nxe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=Ee("recharts-rectangle",m);return w?M.createElement(wi,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:w},function(P){var E=P.width,A=P.height,S=P.x,T=P.y;return M.createElement(wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:b,easing:g},M.createElement("path",Xg({},de(n,!0),{className:_,d:xj(S,T,E,A,h),ref:r})))}):M.createElement("path",Xg({},de(n,!0),{className:_,d:xj(l,u,c,d,h)}))},Fxe=["points","className","baseLinePoints","connectNulls"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function Bxe(t,e){if(t==null)return{};var n=Uxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _j(t){return Hxe(t)||Wxe(t)||qxe(t)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function Wxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hxe(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ej=function(e){return e&&e.x===+e.x&&e.y===+e.y},Gxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Ej(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ej(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Hd=function(e,n){var r=Gxe(e);n&&(r=[r.reduce(function(a,o){return[].concat(_j(a),_j(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Kxe=function(e,n,r){var i=Hd(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Hd(n.reverse(),r).slice(1))},Yxe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Bxe(e,Fxe);if(!n||!n.length)return null;var s=Ee("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Kxe(n,i,a);return M.createElement("g",{className:s},M.createElement("path",Ml({},de(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?M.createElement("path",Ml({},de(o,!0),{fill:"none",d:Hd(n,a)})):null,l?M.createElement("path",Ml({},de(o,!0),{fill:"none",d:Hd(i,a)})):null)}var c=Hd(n,a);return M.createElement("path",Ml({},de(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}var e0=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ee("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",W_({},de(e,!1),vg(e),{className:o,cx:n,cy:r,r:i})):null};function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var Qxe=["x","y","top","left","width","height","className"];function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){Jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jxe(t,e,n){return e=Zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zxe(t){var e=e_e(t,"string");return eh(e)=="symbol"?e:e+""}function e_e(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t_e(t,e){if(t==null)return{};var n=n_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var r_e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},i_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,m=h===void 0?0:h,g=e.className,y=t_e(e,Qxe),v=Xxe({x:r,y:a,top:s,left:u,width:d,height:m},y);return!ee(r)||!ee(a)||!ee(d)||!ee(m)||!ee(s)||!ee(u)?null:M.createElement("path",H_({},de(v,!0),{className:Ee("recharts-cross",g),d:r_e(r,a,d,m,s,u)}))},a_e=Yv,o_e=l3,s_e=Ti;function l_e(t,e){return t&&t.length?a_e(t,s_e(e),o_e):void 0}var u_e=l_e;const c_e=Ue(u_e);var d_e=Yv,f_e=Ti,h_e=u3;function p_e(t,e){return t&&t.length?d_e(t,f_e(e),h_e):void 0}var m_e=p_e;const g_e=Ue(m_e);var y_e=["cx","cy","angle","ticks","axisLine"],v_e=["ticks","tick","angle","tickFormatter","stroke"];function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aj(t,e){if(t==null)return{};var n=b_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z3(r.key),r)}}function x_e(t,e,n){return e&&Ij(t.prototype,e),n&&Ij(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function __e(t,e,n){return e=Jg(e),E_e(t,J3()?Reflect.construct(e,n||[],Jg(t).constructor):e.apply(t,n))}function E_e(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_e(t)}function S_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J3=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(t)}function T_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function t0(t,e,n){return e=Z3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z3(t){var e=A_e(t,"string");return ku(e)=="symbol"?e:e+""}function A_e(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n0=function(t){function e(){return w_e(this,e),__e(this,e,arguments)}return T_e(e,t),x_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return et(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=c_e(s,function(c){return c.coordinate||0}),u=g_e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=Aj(r,y_e),c=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),d=et(i,a,c[0],o),h=et(i,a,c[1],o),m=Fo(Fo(Fo({},de(u,!1)),{},{fill:"none"},de(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return M.createElement("line",Gd({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=Aj(i,v_e),d=this.getTickTextAnchor(),h=de(c,!1),m=de(o,!1),g=a.map(function(y,v){var b=r.getTickValueCoord(y),w=Fo(Fo(Fo(Fo({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},b),{},{payload:y});return M.createElement(je,Gd({className:Ee("recharts-polar-radius-axis-tick",$3(o)),key:"tick-".concat(y.coordinate)},Bs(r.props,y,v)),e.renderTickItem(o,w,l?l(y.value,v):y.value))});return M.createElement(je,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:M.createElement(je,{className:Ee("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),qt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):me(r)?o=r(i):o=M.createElement(Us,Gd({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(D.PureComponent);t0(n0,"displayName","PolarRadiusAxis");t0(n0,"axisType","radiusAxis");t0(n0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(this,arguments)}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){r0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tB(r.key),r)}}function P_e(t,e,n){return e&&Oj(t.prototype,e),n&&Oj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e,n){return e=Zg(e),N_e(t,eB()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function N_e(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_e(t)}function C_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function k_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function r0(t,e,n){return e=tB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tB(t){var e=j_e(t,"string");return ju(e)=="symbol"?e:e+""}function j_e(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R_e=Math.PI/180,Nj=1e-5,i0=function(t){function e(){return I_e(this,e),O_e(this,e,arguments)}return k_e(e,t),P_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=et(a,o,s,r.coordinate),h=et(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*R_e),o;return a>Nj?o=i==="outer"?"start":"end":a<-Nj?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Bo(Bo({},de(this.props,!1)),{},{fill:"none"},de(s,!1));if(l==="circle")return M.createElement(e0,es({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,d=c.map(function(h){return et(i,a,o,h.coordinate)});return M.createElement(Yxe,es({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=de(this.props,!1),d=de(o,!1),h=Bo(Bo({},c),{},{fill:"none"},de(s,!1)),m=a.map(function(g,y){var v=r.getTickLineCoord(g),b=r.getTickTextAnchor(g),w=Bo(Bo(Bo({textAnchor:b},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:g,x:v.x2,y:v.y2});return M.createElement(je,es({className:Ee("recharts-polar-angle-axis-tick",$3(o)),key:"tick-".concat(g.coordinate)},Bs(r.props,g,y)),s&&M.createElement("line",es({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,w,l?l(g.value,y):g.value))});return M.createElement(je,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:M.createElement(je,{className:Ee("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):me(r)?o=r(i):o=M.createElement(Us,es({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(D.PureComponent);r0(i0,"displayName","PolarAngleAxis");r0(i0,"axisType","angleAxis");r0(i0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var D_e=iF,M_e=D_e(Object.getPrototypeOf,Object),$_e=M_e,L_e=da,V_e=$_e,F_e=fa,B_e="[object Object]",U_e=Function.prototype,z_e=Object.prototype,nB=U_e.toString,q_e=z_e.hasOwnProperty,W_e=nB.call(Object);function H_e(t){if(!F_e(t)||L_e(t)!=B_e)return!1;var e=V_e(t);if(e===null)return!0;var n=q_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nB.call(n)==W_e}var G_e=H_e;const K_e=Ue(G_e);var Y_e=da,Q_e=fa,X_e="[object Boolean]";function J_e(t){return t===!0||t===!1||Q_e(t)&&Y_e(t)==X_e}var Z_e=J_e;const e1e=Ue(Z_e);function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function t1e(t,e){return a1e(t)||i1e(t,e)||r1e(t,e)||n1e()}function n1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1e(t,e){if(t){if(typeof t=="string")return Cj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cj(t,e)}}function Cj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function a1e(t){if(Array.isArray(t))return t}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){o1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1e(t,e,n){return e=s1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s1e(t){var e=l1e(t,"string");return th(e)=="symbol"?e:e+""}function l1e(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rj=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},u1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c1e=function(e){var n=jj(jj({},u1e),e),r=D.useRef(),i=D.useState(-1),a=t1e(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var w=Ee("recharts-trapezoid",m);return b?M.createElement(wi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(_){var P=_.upperWidth,E=_.lowerWidth,A=_.height,S=_.x,T=_.y;return M.createElement(wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},M.createElement("path",ey({},de(n,!0),{className:w,d:Rj(S,T,P,E,A),ref:r})))}):M.createElement("g",null,M.createElement("path",ey({},de(n,!0),{className:w,d:Rj(l,u,c,d,h)})))},d1e=["option","shapeType","propTransformer","activeClassName","isActive"];function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function f1e(t,e){if(t==null)return{};var n=h1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){p1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p1e(t,e,n){return e=m1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m1e(t){var e=g1e(t,"string");return nh(e)=="symbol"?e:e+""}function g1e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y1e(t,e){return ty(ty({},e),t)}function v1e(t,e){return t==="symbols"}function Mj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(IT,n);case"trapezoid":return M.createElement(c1e,n);case"sector":return M.createElement(F3,n);case"symbols":if(v1e(e))return M.createElement(HS,n);break;default:return null}}function b1e(t){return D.isValidElement(t)?t.props:t}function rB(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?y1e:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=f1e(t,d1e),u;if(D.isValidElement(e))u=D.cloneElement(e,ty(ty({},l),b1e(e)));else if(me(e))u=e(l);else if(K_e(e)&&!e1e(e)){var c=i(e,l);u=M.createElement(Mj,{shapeType:n,elementProps:c})}else{var d=l;u=M.createElement(Mj,{shapeType:n,elementProps:d})}return s?M.createElement(je,{className:o},u):u}function a0(t,e){return e!=null&&"trapezoids"in t.props}function o0(t,e){return e!=null&&"sectors"in t.props}function rh(t,e){return e!=null&&"points"in t.props}function w1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function x1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function _1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function E1e(t,e){var n;return a0(t,e)?n=w1e:o0(t,e)?n=x1e:rh(t,e)&&(n=_1e),n}function S1e(t,e){var n;return a0(t,e)?n="trapezoids":o0(t,e)?n="sectors":rh(t,e)&&(n="points"),n}function T1e(t,e){if(a0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(o0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return rh(t,e)?e.payload:{}}function A1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=S1e(n,e),a=T1e(n,e),o=r.filter(function(l,u){var c=Ou(a,l),d=n.props[i].filter(function(g){var y=E1e(n,e);return y(g,e)}),h=n.props[i].indexOf(d[d.length-1]),m=u===h;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var xm;function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function P1e(t,e,n){return e&&Lj(t.prototype,e),n&&Lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O1e(t,e,n){return e=ny(e),N1e(t,iB()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function N1e(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C1e(t)}function C1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function k1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function pr(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=j1e(t,"string");return Ru(e)=="symbol"?e:e+""}function j1e(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pa=function(t){function e(n){var r;return I1e(this,e),r=O1e(this,e,[n]),pr(r,"pieRef",null),pr(r,"sectorRefs",[]),pr(r,"id",pc("recharts-pie-")),pr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),me(i)&&i()}),pr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),me(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return k1e(e,t),P1e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=de(this.props,!1),d=de(o,!1),h=de(s,!1),m=o&&o.offsetRadius||20,g=r.map(function(y,v){var b=(y.startAngle+y.endAngle)/2,w=et(y.cx,y.cy,y.outerRadius+m,b),_=Xe(Xe(Xe(Xe({},c),y),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(w.x,y.cx)},w),P=Xe(Xe(Xe(Xe({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[et(y.cx,y.cy,y.outerRadius,b),w]}),E=l;return xe(l)&&xe(u)?E="value":xe(l)&&(E=u),M.createElement(je,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,P,"line"),e.renderLabelItem(o,_,Rt(y,E)))});return M.createElement(je,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,m=d?o:h,g=Xe(Xe({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(je,$l({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Bs(i.props,u,c),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(rB,$l({option:m,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,m=d.prevIsAnimationActive;return M.createElement(wi,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],b=a&&a[0],w=b.startAngle;return a.forEach(function(_,P){var E=h&&h[P],A=P>0?rr(_,"paddingAngle",0):0;if(E){var S=Mn(E.endAngle-E.startAngle,_.endAngle-_.startAngle),T=Xe(Xe({},_),{},{startAngle:w+A,endAngle:w+S(y)+A});v.push(T),w=T.endAngle}else{var O=_.endAngle,C=_.startAngle,N=Mn(0,O-C),R=N(y),k=Xe(Xe({},_),{},{startAngle:w+A,endAngle:w+R+A});v.push(k),w=k.endAngle}}),M.createElement(je,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ou(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!ee(u)||!ee(c)||!ee(d)||!ee(h))return null;var y=Ee("recharts-pie",s);return M.createElement(je,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),qt.renderCallByParent(this.props,null,!1),(!m||g)&&Qi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);if(me(r))return r(i);var o=Ee("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(tu,$l({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);var o=a;if(me(r)&&(o=r(i),M.isValidElement(o)))return o;var s=Ee("recharts-pie-label-text",typeof r!="boolean"&&!me(r)?r.className:"");return M.createElement(Us,$l({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(D.PureComponent);xm=pa;pr(pa,"displayName","Pie");pr(pa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pr(pa,"parseDeltaAngle",function(t,e){var n=Tn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});pr(pa,"getRealPieData",function(t){var e=t.data,n=t.children,r=de(t,!1),i=xr(n,Uv);return e&&e.length?e.map(function(a,o){return Xe(Xe(Xe({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Xe(Xe({},r),a.props)}):[]});pr(pa,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=M3(i,a),s=r+An(t.cx,i,i/2),l=n+An(t.cy,a,a/2),u=An(t.innerRadius,o,0),c=An(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});pr(pa,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Xe(Xe({},e.type.defaultProps),e.props):e.props,i=xm.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),g=xm.parseCoordinateOfPie(r,n),y=xm.parseDeltaAngle(o,s),v=Math.abs(y),b=u;xe(u)&&xe(d)?(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):xe(u)&&(zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var w=i.filter(function(T){return Rt(T,b,0)!==0}).length,_=(v>=360?w:w-1)*l,P=v-w*m-_,E=i.reduce(function(T,O){var C=Rt(O,b,0);return T+(ee(C)?C:0)},0),A;if(E>0){var S;A=i.map(function(T,O){var C=Rt(T,b,0),N=Rt(T,c,O),R=(ee(C)?C:0)/E,k;O?k=S.endAngle+Tn(y)*l*(C!==0?1:0):k=o;var U=k+Tn(y)*((C!==0?m:0)+R*P),B=(k+U)/2,H=(g.innerRadius+g.outerRadius)/2,G=[{name:N,value:C,payload:T,dataKey:b,type:h}],V=et(g.cx,g.cy,H,B);return S=Xe(Xe(Xe({percent:R,cornerRadius:a,name:N,tooltipPayload:G,midAngle:B,middleRadius:H,tooltipPosition:V},T),g),{},{value:Rt(T,b),startAngle:k,endAngle:U,payload:T,paddingAngle:Tn(y)*l}),S})}return Xe(Xe({},g),{},{sectors:A,data:i})});var R1e=Math.ceil,D1e=Math.max;function M1e(t,e,n,r){for(var i=-1,a=D1e(R1e((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var $1e=M1e,L1e=EF,Vj=1/0,V1e=17976931348623157e292;function F1e(t){if(!t)return t===0?t:0;if(t=L1e(t),t===Vj||t===-Vj){var e=t<0?-1:1;return e*V1e}return t===t?t:0}var oB=F1e,B1e=$1e,U1e=Bv,Kb=oB;function z1e(t){return function(e,n,r){return r&&typeof r!="number"&&U1e(e,n,r)&&(n=r=void 0),e=Kb(e),n===void 0?(n=e,e=0):n=Kb(n),r=r===void 0?e<n?1:-1:Kb(r),B1e(e,n,r,t)}}var q1e=z1e,W1e=q1e,H1e=W1e(),G1e=H1e;const ry=Ue(G1e);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){sB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sB(t,e,n){return e=K1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K1e(t){var e=Y1e(t,"string");return ih(e)=="symbol"?e:e+""}function Y1e(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q1e=["Webkit","Moz","O","ms"],X1e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Q1e.reduce(function(a,o){return Bj(Bj({},a),{},sB({},o+r,n))},{});return i[e]=n,i};function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function Uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uB(r.key),r)}}function Z1e(t,e,n){return e&&zj(t.prototype,e),n&&zj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eEe(t,e,n){return e=ay(e),tEe(t,lB()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function tEe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(t)}function nEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function rEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q_(t,e)}function Kn(t,e,n){return e=uB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uB(t){var e=iEe(t,"string");return Du(e)=="symbol"?e:e+""}function iEe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=zd().domain(ry(0,l)).range([a,a+o-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},qj=function(e){return e.changedTouches&&!!e.changedTouches.length},Mu=function(t){function e(n){var r;return J1e(this,e),r=eEe(this,e,[n]),Kn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Kn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Kn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Kn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Kn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Kn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Kn(r,"handleSlideDragStart",function(i){var a=qj(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return rEe(e,t),Z1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,d),g=e.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Rt(a[r],s,r);return me(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+c-d-s,u+c-d-o):y<0&&(y=Math.max(y,u-o,u-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=qj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,d=c.x,h=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,d+h-m-u):w<0&&(w=Math.max(w,d-u)),b[o]=u+w;var _=this.getIndex(b),P=_.startIndex,E=_.endIndex,A=function(){var T=v.length-1;return o==="startX"&&(s>l?P%y===0:E%y===0)||s<l&&E===T||o==="endX"&&(s>l?E%y===0:P%y===0)||s>l&&E===T};this.setState(Kn(Kn({},o,u+w),"brushMoveStartX",r.pageX),function(){g&&A()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Kn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=D.Children.only(u);return d?M.cloneElement(d,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),w=Yb(Yb({},de(this.props,!1)),{},{x:b,y:u,width:c,height:d}),_=m||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return M.createElement(je,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,m=5,g={pointerEvents:"none",fill:u};return M.createElement(je,{className:"recharts-brush-texts"},M.createElement(Us,iy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:o+s/2},g),this.getTextOfTick(i)),M.createElement(Us,iy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var _=Ee("recharts-brush",a),P=M.Children.count(o)===1,E=X1e("userSelect","none");return M.createElement(je,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):me(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Yb({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?aEe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(D.PureComponent);Kn(Mu,"displayName","Brush");Kn(Mu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oEe=ZS;function sEe(t,e){var n;return oEe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var lEe=sEe,uEe=Q4,cEe=Ti,dEe=lEe,fEe=Hn,hEe=Bv;function pEe(t,e,n){var r=fEe(t)?uEe:dEe;return n&&hEe(t,e,n)&&(e=void 0),r(t,cEe(e))}var mEe=pEe;const gEe=Ue(mEe);var pi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Wj=vF;function yEe(t,e,n){e=="__proto__"&&Wj?Wj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vEe=yEe,bEe=vEe,wEe=gF,xEe=Ti;function _Ee(t,e){var n={};return e=xEe(e),wEe(t,function(r,i,a){bEe(n,i,e(r,i,a))}),n}var EEe=_Ee;const SEe=Ue(EEe);function TEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var AEe=TEe,IEe=ZS;function PEe(t,e){var n=!0;return IEe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var OEe=PEe,NEe=AEe,CEe=OEe,kEe=Ti,jEe=Hn,REe=Bv;function DEe(t,e,n){var r=jEe(t)?NEe:CEe;return n&&REe(t,e,n)&&(e=void 0),r(t,kEe(e))}var MEe=DEe;const cB=Ue(MEe);var $Ee=["x","y"];function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){LEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LEe(t,e,n){return e=VEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=FEe(t,"string");return ah(e)=="symbol"?e:e+""}function FEe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BEe(t,e){if(t==null)return{};var n=UEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zEe(t,e){var n=t.x,r=t.y,i=BEe(t,$Ee),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return sd(sd(sd(sd(sd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function Gj(t){return M.createElement(rB,X_({shapeType:"rectangle",propTransformer:zEe,activeClassName:"recharts-active-bar"},t))}var qEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||qs(),n)}},WEe=["value","background"],dB;function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function HEe(t,e){if(t==null)return{};var n=GEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hB(r.key),r)}}function YEe(t,e,n){return e&&Yj(t.prototype,e),n&&Yj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QEe(t,e,n){return e=sy(e),XEe(t,fB()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function XEe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JEe(t)}function JEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function ZEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function Ua(t,e,n){return e=hB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hB(t){var e=eSe(t,"string");return $u(e)=="symbol"?e:e+""}function eSe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mo=function(t){function e(){var n;KEe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=QEe(this,e,[].concat(i)),Ua(n,"state",{isAnimationFinished:!1}),Ua(n,"id",pc("recharts-bar-")),Ua(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ua(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return ZEe(e,t),YEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=de(this.props,!1);return r&&r.map(function(d,h){var m=h===l,g=m?u:o,y=Pt(Pt(Pt({},c),d),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(je,oy({className:"recharts-bar-rectangle"},Bs(i.props,d,h),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value)}),M.createElement(Gj,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return M.createElement(wi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=a.map(function(v,b){var w=h&&h[b];if(w){var _=Mn(w.x,v.x),P=Mn(w.y,v.y),E=Mn(w.width,v.width),A=Mn(w.height,v.height);return Pt(Pt({},v),{},{x:_(g),y:P(g),width:E(g),height:A(g)})}if(o==="horizontal"){var S=Mn(0,v.height),T=S(g);return Pt(Pt({},v),{},{y:v.y+v.height-T,height:T})}var O=Mn(0,v.width),C=O(g);return Pt(Pt({},v),{},{width:C})});return M.createElement(je,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ou(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=de(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,h=HEe(u,WEe);if(!d)return null;var m=Pt(Pt(Pt(Pt(Pt({},h),{},{fill:"#eee"},d),l),Bs(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(Gj,oy({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=xr(c,Zv);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Rt(v,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(je,g,d.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=Ee("recharts-bar",o),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,P=w||_,E=xe(y)?this.id:y;return M.createElement(je,{className:b},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:w?u:u-d/2,y:_?c:c-h/2,width:w?d:d*2,height:_?h:h*2}))):null,M.createElement(je,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,E),(!m||v)&&Qi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);dB=mo;Ua(mo,"displayName","Bar");Ua(mo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ua(mo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=q0e(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,v=y!==void 0?Pt(Pt({},y),n.props):n.props,b=v.dataKey,w=v.children,_=v.minPointSize,P=g==="horizontal"?o:a,E=u?P.scale.domain():null,A=X0e({numericAxis:P}),S=xr(w,Uv),T=d.map(function(O,C){var N,R,k,U,B,H;u?N=W0e(u[c+C],E):(N=Rt(O,b),Array.isArray(N)||(N=[A,N]));var G=qEe(_,dB.defaultProps.minPointSize)(N[1],C);if(g==="horizontal"){var V,W=[o.scale(N[0]),o.scale(N[1])],Q=W[0],ie=W[1];R=Lk({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:O,index:C}),k=(V=ie??Q)!==null&&V!==void 0?V:void 0,U=m.size;var X=Q-ie;if(B=Number.isNaN(X)?0:X,H={x:R,y:o.y,width:U,height:o.height},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var oe=Tn(B||G)*(Math.abs(G)-Math.abs(B));k-=oe,B+=oe}}else{var Oe=[a.scale(N[0]),a.scale(N[1])],$e=Oe[0],ct=Oe[1];if(R=$e,k=Lk({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:O,index:C}),U=ct-$e,B=m.size,H={x:a.x,y:k,width:a.width,height:B},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var Kt=Tn(U||G)*(Math.abs(G)-Math.abs(U));U+=Kt}}return Pt(Pt(Pt({},O),{},{x:R,y:k,width:U,height:B,value:u?N:N[1],payload:O,background:H},S&&S[C]&&S[C].props),{},{tooltipPayload:[R3(n,O)],tooltipPosition:{x:R+U/2,y:k+B/2}})});return Pt({data:T,layout:g},h)});function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function tSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function nSe(t,e,n){return e&&Qj(t.prototype,e),n&&Qj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){s0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s0(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=rSe(t,"string");return oh(e)=="symbol"?e:e+""}function rSe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mB=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Qn(u,mo);return c.reduce(function(m,g){var y=n[g],v=y.orientation,b=y.domain,w=y.padding,_=w===void 0?{}:w,P=y.mirror,E=y.reversed,A="".concat(v).concat(P?"Mirror":""),S,T,O,C,N;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=b[1]-b[0],k=1/0,U=y.categoricalDomain.sort();if(U.forEach(function(Oe,$e){$e>0&&(k=Math.min((Oe||0)-(U[$e-1]||0),k))}),Number.isFinite(k)){var B=k/R,H=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=B*H/2),y.padding==="no-gap"){var G=An(e.barCategoryGap,B*H),V=B*H/2;S=V-G-(V-G)/H*G}}}i==="xAxis"?T=[r.left+(_.left||0)+(S||0),r.left+r.width-(_.right||0)-(S||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(S||0),r.top+r.height-(_.bottom||0)-(S||0)]:T=y.range,E&&(T=[T[1],T[0]]);var W=N3(y,a,h),Q=W.scale,ie=W.realScaleType;Q.domain(b).range(T),C3(Q);var X=k3(Q,Mr(Mr({},y),{},{realScaleType:ie}));i==="xAxis"?(N=v==="top"&&!P||v==="bottom"&&P,O=r.left,C=d[A]-N*y.height):i==="yAxis"&&(N=v==="left"&&!P||v==="right"&&P,O=d[A]-N*y.width,C=r.top);var oe=Mr(Mr(Mr({},y),X),{},{realScaleType:ie,x:O,y:C,scale:Q,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return oe.bandSize=Wg(oe,X),!y.hide&&i==="xAxis"?d[A]+=(N?-1:1)*oe.height:y.hide||(d[A]+=(N?-1:1)*oe.width),Mr(Mr({},m),{},s0({},g,oe))},{})},gB=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},iSe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return gB({x:n,y:r},{x:i,y:a})},yB=function(){function t(e){tSe(this,t),this.scale=e}return nSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();s0(yB,"EPS",1e-4);var PT=function(e){var n=Object.keys(e).reduce(function(r,i){return Mr(Mr({},r),{},s0({},i,yB.create(e[i])))},{});return Mr(Mr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return SEe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return cB(i,function(a,o){return n[o].isInRange(a)})}})};function aSe(t){return(t%180+180)%180}var oSe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aSe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},sSe=Ti,lSe=Lh,uSe=Vv;function cSe(t){return function(e,n,r){var i=Object(e);if(!lSe(e)){var a=sSe(n);e=uSe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var dSe=cSe,fSe=oB;function hSe(t){var e=fSe(t),n=e%1;return e===e?n?e-n:e:0}var pSe=hSe,mSe=cF,gSe=Ti,ySe=pSe,vSe=Math.max;function bSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:ySe(n);return i<0&&(i=vSe(r+i,0)),mSe(t,gSe(e),i)}var wSe=bSe,xSe=dSe,_Se=wSe,ESe=xSe(_Se),SSe=ESe;const TSe=Ue(SSe);var ASe=Cre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OT=D.createContext(void 0),NT=D.createContext(void 0),vB=D.createContext(void 0),bB=D.createContext({}),wB=D.createContext(void 0),xB=D.createContext(0),_B=D.createContext(0),Jj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=ASe(a);return M.createElement(OT.Provider,{value:r},M.createElement(NT.Provider,{value:i},M.createElement(bB.Provider,{value:a},M.createElement(vB.Provider,{value:c},M.createElement(wB.Provider,{value:o},M.createElement(xB.Provider,{value:u},M.createElement(_B.Provider,{value:l},s)))))))},ISe=function(){return D.useContext(wB)},EB=function(e){var n=D.useContext(OT);n==null&&qs();var r=n[e];return r==null&&qs(),r},PSe=function(){var e=D.useContext(OT);return Ma(e)},OSe=function(){var e=D.useContext(NT),n=TSe(e,function(r){return cB(r.domain,Number.isFinite)});return n||Ma(e)},SB=function(e){var n=D.useContext(NT);n==null&&qs();var r=n[e];return r==null&&qs(),r},NSe=function(){var e=D.useContext(vB);return e},CSe=function(){return D.useContext(bB)},CT=function(){return D.useContext(_B)},kT=function(){return D.useContext(xB)};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function kSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AB(r.key),r)}}function RSe(t,e,n){return e&&jSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DSe(t,e,n){return e=ly(e),MSe(t,TB()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function MSe(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(t)}function $Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function LSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){jT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jT(t,e,n){return e=AB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AB(t){var e=VSe(t,"string");return Lu(e)=="symbol"?e:e+""}function VSe(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FSe(t,e){return qSe(t)||zSe(t,e)||USe(t,e)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(t,e){if(t){if(typeof t=="string")return tR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(t,e)}}function tR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qSe(t){if(Array.isArray(t))return t}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e1.apply(this,arguments)}var WSe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):me(e)?r=e(n):r=M.createElement("line",e1({},n,{className:"recharts-reference-line-line"})),r},HSe=function(e,n,r,i,a,o,s,l,u){var c=a.x,d=a.y,h=a.width,m=a.height;if(r){var g=u.y,y=e.y.apply(g,{position:o});if(pi(u,"discard")&&!e.y.isInRange(y))return null;var v=[{x:c+h,y},{x:c,y}];return l==="left"?v.reverse():v}if(n){var b=u.x,w=e.x.apply(b,{position:o});if(pi(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:d+m},{x:w,y:d}];return s==="top"?_.reverse():_}if(i){var P=u.segment,E=P.map(function(A){return e.apply(A,{position:o})});return pi(u,"discard")&&gEe(E,function(A){return!e.isInRange(A)})?null:E}return null};function GSe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=ISe(),c=EB(i),d=SB(a),h=NSe();if(!u||!h)return null;zr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=PT({x:c.scale,y:d.scale}),g=Mt(e),y=Mt(n),v=r&&r.length===2,b=HSe(m,g,y,v,h,t.position,c.orientation,d.orientation,t);if(!b)return null;var w=FSe(b,2),_=w[0],P=_.x,E=_.y,A=w[1],S=A.x,T=A.y,O=pi(t,"hidden")?"url(#".concat(u,")"):void 0,C=eR(eR({clipPath:O},de(t,!0)),{},{x1:P,y1:E,x2:S,y2:T});return M.createElement(je,{className:Ee("recharts-reference-line",s)},WSe(o,C),qt.renderCallByParent(t,iSe({x1:P,y1:E,x2:S,y2:T})))}var RT=function(t){function e(){return kSe(this,e),DSe(this,e,arguments)}return LSe(e,t),RSe(e,[{key:"render",value:function(){return M.createElement(GSe,this.props)}}])}(M.Component);jT(RT,"displayName","ReferenceLine");jT(RT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){l0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PB(r.key),r)}}function QSe(t,e,n){return e&&YSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,n){return e=uy(e),JSe(t,IB()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function JSe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function eTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n1(t,e)}function l0(t,e,n){return e=PB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PB(t){var e=tTe(t,"string");return Vu(e)=="symbol"?e:e+""}function tTe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nTe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=PT({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return pi(e,"discard")&&!o.isInRange(s)?null:s},u0=function(t){function e(){return KSe(this,e),XSe(this,e,arguments)}return eTe(e,t),QSe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Mt(i),c=Mt(a);if(zr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=nTe(this.props);if(!d)return null;var h=d.x,m=d.y,g=this.props,y=g.shape,v=g.className,b=pi(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=rR(rR({clipPath:b},de(this.props,!0)),{},{cx:h,cy:m});return M.createElement(je,{className:Ee("recharts-reference-dot",v)},e.renderDot(y,w),qt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);l0(u0,"displayName","ReferenceDot");l0(u0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});l0(u0,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):me(t)?n=t(e):n=M.createElement(e0,t1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(this,arguments)}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){c0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NB(r.key),r)}}function aTe(t,e,n){return e&&iTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oTe(t,e,n){return e=cy(e),sTe(t,OB()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function sTe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lTe(t)}function lTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function uTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i1(t,e)}function c0(t,e,n){return e=NB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t){var e=cTe(t,"string");return Fu(e)=="symbol"?e:e+""}function cTe(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dTe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var h=PT({x:c.scale,y:d.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return pi(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:gB(m,g)},d0=function(t){function e(){return rTe(this,e),oTe(this,e,arguments)}return uTe(e,t),aTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Mt(i),h=Mt(a),m=Mt(o),g=Mt(s),y=this.props.shape;if(!d&&!h&&!m&&!g&&!y)return null;var v=dTe(d,h,m,g,this.props);if(!v&&!y)return null;var b=pi(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(je,{className:Ee("recharts-reference-area",l)},e.renderRect(y,aR(aR({clipPath:b},de(this.props,!0)),v)),qt.renderCallByParent(this.props,v))}}])}(M.Component);c0(d0,"displayName","ReferenceArea");c0(d0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});c0(d0,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):me(t)?n=t(e):n=M.createElement(IT,r1({},e,{className:"recharts-reference-area-rect"})),n});function CB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return oSe(r,n)}function hTe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function dy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function pTe(t,e){return CB(t,e+1)}function mTe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,d=function(){var g=r?.[l];if(g===void 0)return{v:CB(r,u)};var y=l,v,b=function(){return v===void 0&&(v=n(g,y)),v},w=g.coordinate,_=l===0||dy(t,w,b,c,s);_||(l=0,c=o,u+=1),_&&(c=w+t*(b()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){gTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e,n){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yTe(t){var e=vTe(t,"string");return sh(e)=="symbol"?e:e+""}function vTe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bTe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var m=a[h],g,y=function(){return g===void 0&&(g=n(m,h)),g};if(h===o-1){var v=t*(m.coordinate+t*y()/2-l);a[h]=m=dn(dn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else a[h]=m=dn(dn({},m),{},{tickCoord:m.coordinate});var b=dy(t,m.tickCoord,y,s,l);b&&(l=m.tickCoord-t*(y()/2+i),a[h]=dn(dn({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function wTe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);o[s-1]=c=dn(dn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=dy(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),o[s-1]=dn(dn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(w){var _=o[w],P,E=function(){return P===void 0&&(P=n(_,w)),P};if(w===0){var A=t*(_.coordinate-t*E()/2-l);o[w]=_=dn(dn({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else o[w]=_=dn(dn({},_),{},{tickCoord:_.coordinate});var S=dy(t,_.tickCoord,E,l,u);S&&(l=_.tickCoord+t*(E()/2+i),o[w]=dn(dn({},_),{},{isShow:!0}))},v=0;v<g;v++)y(v);return o}function DT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||fi.isSsr)return pTe(i,typeof l=="number"&&ee(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?Ud(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,P){var E=me(u)?u(_.value,P):_.value;return m==="width"?fTe(Ud(E,{fontSize:e,letterSpacing:n}),g,d):Ud(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Tn(i[1].coordinate-i[0].coordinate):1,b=hTe(a,v,m);return l==="equidistantPreserveStart"?mTe(v,b,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=wTe(v,b,y,i,o,l==="preserveStartEnd"):h=bTe(v,b,y,i,o),h.filter(function(w){return w.isShow}))}var xTe=["viewBox"],_Te=["viewBox"],ETe=["ticks"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){MT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qb(t,e){if(t==null)return{};var n=STe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function STe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function ATe(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ITe(t,e,n){return e=fy(e),PTe(t,kB()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function PTe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function NTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a1(t,e)}function MT(t,e,n){return e=jB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jB(t){var e=CTe(t,"string");return Bu(e)=="symbol"?e:e+""}function CTe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _c=function(t){function e(n){var r;return TTe(this,e),r=ITe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return NTe(e,t),ATe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Qb(r,xTe),s=this.props,l=s.viewBox,u=Qb(s,_Te);return!Jl(a,l)||!Jl(o,u)||!Jl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,m,g,y,v,b,w,_=d?-1:1,P=r.tickSize||c,E=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,v=o+ +!d*l,y=v-_*P,w=y-_*h,b=E;break;case"left":y=v=r.coordinate,g=a+ +!d*s,m=g-_*P,b=m-_*h,w=E;break;case"right":y=v=r.coordinate,g=a+ +d*s,m=g+_*P,b=m+_*h,w=E;break;default:m=g=r.coordinate,v=o+ +d*l,y=v+_*P,w=y+_*h,b=E;break}return{line:{x1:m,y1:y,x2:g,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=_n(_n(_n({},de(this.props,!1)),de(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=_n(_n({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=_n(_n({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return M.createElement("line",Ll({},d,{className:Ee("recharts-cartesian-axis-line",rr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,m=DT(_n(_n({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=de(this.props,!1),b=de(c,!1),w=_n(_n({},v),{},{fill:"none"},de(l,!1)),_=m.map(function(P,E){var A=o.getTickLineCoord(P),S=A.line,T=A.tick,O=_n(_n(_n(_n({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},b),T),{},{index:E,payload:P,visibleTicksCount:m.length,tickFormatter:d});return M.createElement(je,Ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Bs(o.props,P,E)),l&&M.createElement("line",Ll({},w,S,{className:Ee("recharts-cartesian-axis-tick-line",rr(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(me(d)?d(P.value,E):P.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,m=Qb(d,ETe),g=h;return me(l)&&(g=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:M.createElement(je,{className:Ee("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):me(r)?o=r(i):o=M.createElement(Us,Ll({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(D.Component);MT(_c,"displayName","CartesianAxis");MT(_c,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kTe=["x1","y1","x2","y2","key"],jTe=["offset"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){RTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RTe(t,e,n){return e=DTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DTe(t){var e=MTe(t,"string");return Ws(e)=="symbol"?e:e+""}function MTe(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}function cR(t,e){if(t==null)return{};var n=$Te(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RB(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(me(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=cR(e,kTe),u=de(l,!1);u.offset;var c=cR(u,jTe);n=M.createElement("line",ds({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function VTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=pn(pn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return RB(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function FTe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=pn(pn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return RB(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function BTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==c[0]&&c.unshift(0);var d=c.map(function(h,m){var g=!c[m+1],y=g?i+o-h:c[m+1]-h;if(y<=0)return null;var v=m%e.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function UTe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==c[0]&&c.unshift(0);var d=c.map(function(h,m){var g=!c[m+1],y=g?a+s-h:c[m+1]-h;if(y<=0)return null;var v=m%r.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var zTe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return O3(DT(pn(pn(pn({},_c.defaultProps),r),{},{ticks:Wi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},qTe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return O3(DT(pn(pn(pn({},_c.defaultProps),r),{},{ticks:Wi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},yl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o1(t){var e,n,r,i,a,o,s=CT(),l=kT(),u=CSe(),c=pn(pn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:yl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:yl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:yl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:yl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:yl.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),d=c.x,h=c.y,m=c.width,g=c.height,y=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,w=PSe(),_=OSe();if(!ee(m)||m<=0||!ee(g)||g<=0||!ee(d)||d!==+d||!ee(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||zTe,E=c.horizontalCoordinatesGenerator||qTe,A=c.horizontalPoints,S=c.verticalPoints;if((!A||!A.length)&&me(E)){var T=v&&v.length,O=E({yAxis:_?pn(pn({},_),{},{ticks:T?v:_.ticks}):void 0,width:s,height:l,offset:u},T?!0:y);zr(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(O),"]")),Array.isArray(O)&&(A=O)}if((!S||!S.length)&&me(P)){var C=b&&b.length,N=P({xAxis:w?pn(pn({},w),{},{ticks:C?b:w.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);zr(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(N),"]")),Array.isArray(N)&&(S=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(LTe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(VTe,ds({},c,{offset:u,horizontalPoints:A,xAxis:w,yAxis:_})),M.createElement(FTe,ds({},c,{offset:u,verticalPoints:S,xAxis:w,yAxis:_})),M.createElement(BTe,ds({},c,{horizontalPoints:A})),M.createElement(UTe,ds({},c,{verticalPoints:S})))}o1.displayName="CartesianGrid";var WTe=["layout","type","stroke","connectNulls","isRange","ref"],HTe=["key"],DB;function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function MB(t,e){if(t==null)return{};var n=GTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fs.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LB(r.key),r)}}function YTe(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QTe(t,e,n){return e=hy(e),XTe(t,$B()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function XTe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JTe(t)}function JTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function ZTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s1(t,e)}function si(t,e,n){return e=LB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LB(t){var e=eAe(t,"string");return Uu(e)=="symbol"?e:e+""}function eAe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ko=function(t){function e(){var n;KTe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=QTe(this,e,[].concat(i)),si(n,"state",{isAnimationFinished:!0}),si(n,"id",pc("recharts-area-")),si(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),me(o)&&o()}),si(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),me(o)&&o()}),n}return ZTe(e,t),YTe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=de(this.props,!1),m=de(u,!0),g=c.map(function(v,b){var w=Sa(Sa(Sa({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(je,fs({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,c=r*Math.abs(l-u),d=Ba(o.map(function(h){return h.y||0}));return ee(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Ba(a.map(function(h){return h.y||0})),d)),ee(d)?M.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,c=r*Math.abs(l-u),d=Ba(o.map(function(h){return h.x||0}));return ee(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Ba(a.map(function(h){return h.x||0})),d)),ee(d)?M.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var m=MB(s,WTe);return M.createElement(je,{clipPath:a?"url(#clipPath-".concat(o,")"):null},M.createElement(tu,fs({},de(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&M.createElement(tu,fs({},de(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&M.createElement(tu,fs({},de(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,c=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return M.createElement(wi,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(y){var _=y.length/s.length,P=s.map(function(T,O){var C=Math.floor(O*_);if(y[C]){var N=y[C],R=Mn(N.x,T.x),k=Mn(N.y,T.y);return Sa(Sa({},T),{},{x:R(w),y:k(w)})}return T}),E;if(ee(l)&&typeof l=="number"){var A=Mn(v,l);E=A(w)}else if(xe(l)||hc(l)){var S=Mn(v,0);E=S(w)}else E=l.map(function(T,O){var C=Math.floor(O*_);if(v[C]){var N=v[C],R=Mn(N.x,T.x),k=Mn(N.y,T.y);return Sa(Sa({},T),{},{x:R(w),y:k(w)})}return T});return a.renderAreaStatically(P,E,r,i)}return M.createElement(je,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),M.createElement(je,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!c&&h>0||!Ou(c,o)||!Ou(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,m=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,_=Ee("recharts-area",l),P=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,A=P||E,S=xe(v)?this.id:v,T=(r=de(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=T.r,C=O===void 0?3:O,N=T.strokeWidth,R=N===void 0?2:N,k=$ie(o)?o:{},U=k.clipDot,B=U===void 0?!0:U,H=C*2+R;return M.createElement(je,{className:_},P||E?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:P?c:c-m/2,y:E?u:u-g/2,width:P?m:m*2,height:E?g:g*2})),!B&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:c-H/2,y:u-H/2,width:m+H,height:g+H}))):null,w?null:this.renderArea(A,S),(o||w)&&this.renderDots(A,B,S),(!y||b)&&Qi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);DB=ko;si(ko,"displayName","Area");si(ko,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});si(ko,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});si(ko,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=e.layout,g=u&&u.length,y=DB.getBaseValue(e,n,r,i),v=m==="horizontal",b=!1,w=d.map(function(P,E){var A;g?A=u[c+E]:(A=Rt(P,l),Array.isArray(A)?b=!0:A=[y,A]);var S=A[1]==null||g&&Rt(P,l)==null;return v?{x:$k({axis:r,ticks:a,bandSize:s,entry:P,index:E}),y:S?null:i.scale(A[1]),value:A,payload:P}:{x:S?null:r.scale(A[1]),y:$k({axis:i,ticks:o,bandSize:s,entry:P,index:E}),value:A,payload:P}}),_;return g||b?_=w.map(function(P){var E=Array.isArray(P.value)?P.value[0]:null;return v?{x:P.x,y:E!=null&&P.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:P.y}}):_=v?i.scale(y):r.scale(y),Sa({points:w,baseLine:_,layout:m,isRange:b},h)});si(ko,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(me(t))n=t(e);else{var r=Ee("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=MB(e,HTe);n=M.createElement(e0,fs({},a,{key:i,className:r}))}return n});function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function tAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BB(r.key),r)}}function rAe(t,e,n){return e&&nAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iAe(t,e,n){return e=py(e),aAe(t,VB()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function aAe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(t)}function oAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function sAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l1(t,e)}function FB(t,e,n){return e=BB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BB(t){var e=lAe(t,"string");return zu(e)=="symbol"?e:e+""}function lAe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(this,arguments)}function uAe(t){var e=t.xAxisId,n=CT(),r=kT(),i=EB(e);return i==null?null:M.createElement(_c,u1({},i,{className:Ee("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Wi(o,!0)}}))}var qu=function(t){function e(){return tAe(this,e),iAe(this,e,arguments)}return sAe(e,t),rAe(e,[{key:"render",value:function(){return M.createElement(uAe,this.props)}}])}(M.Component);FB(qu,"displayName","XAxis");FB(qu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function cAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qB(r.key),r)}}function fAe(t,e,n){return e&&dAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hAe(t,e,n){return e=my(e),pAe(t,UB()?Reflect.construct(e,n||[],my(t).constructor):e.apply(t,n))}function pAe(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mAe(t)}function mAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(t)}function gAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c1(t,e)}function zB(t,e,n){return e=qB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t){var e=yAe(t,"string");return Wu(e)=="symbol"?e:e+""}function yAe(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d1.apply(this,arguments)}var vAe=function(e){var n=e.yAxisId,r=CT(),i=kT(),a=SB(n);return a==null?null:M.createElement(_c,d1({},a,{className:Ee("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Wi(s,!0)}}))},Hu=function(t){function e(){return cAe(this,e),hAe(this,e,arguments)}return gAe(e,t),fAe(e,[{key:"render",value:function(){return M.createElement(vAe,this.props)}}])}(M.Component);zB(Hu,"displayName","YAxis");zB(Hu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hR(t){return _Ae(t)||xAe(t)||wAe(t)||bAe()}function bAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wAe(t,e){if(t){if(typeof t=="string")return f1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f1(t,e)}}function xAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Ae(t){if(Array.isArray(t))return f1(t)}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h1=function(e,n,r,i,a){var o=xr(e,RT),s=xr(e,u0),l=[].concat(hR(o),hR(s)),u=xr(e,d0),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,v){if(v.props[c]===r&&pi(v.props,"extendDomain")&&ee(v.props[d])){var b=v.props[d];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),u.length){var m="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(y,v){if(v.props[c]===r&&pi(v.props,"extendDomain")&&ee(v.props[m])&&ee(v.props[g])){var b=v.props[m],w=v.props[g];return[Math.min(y[0],b,w),Math.max(y[1],b,w)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return ee(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},WB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,g=new Array(m);h<m;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,m),!0;case 6:return v.fn.call(v.context,c,d,h,m,g),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var P=v.length,E;for(_=0;_<P;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,d);break;case 4:v[_].fn.call(v[_].context,c,d,h);break;default:if(!w)for(E=1,w=new Array(b-1);E<b;E++)w[E-1]=arguments[E];v[_].fn.apply(v[_].context,w)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(WB);var EAe=WB.exports;const SAe=Ue(EAe);var Xb=new SAe,Jb="recharts.syncMouseEvents";function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function TAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HB(r.key),r)}}function IAe(t,e,n){return e&&AAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zb(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=PAe(t,"string");return lh(e)=="symbol"?e:e+""}function PAe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OAe=function(){function t(){TAe(this,t),Zb(this,"activeIndex",0),Zb(this,"coordinateList",[]),Zb(this,"layout","horizontal")}return IAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function NAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function CAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function GB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=et(e,n,r,i),s=et(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function kAe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=et(s,l,u,d),m=et(s,l,c,d);r=h.x,i=h.y,a=m.x,o=m.y}else return GB(e);return[{x:r,y:i},{x:a,y:o}]}function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){jAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jAe(t,e,n){return e=RAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RAe(t){var e=DAe(t,"string");return uh(e)=="symbol"?e:e+""}function DAe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MAe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,y=tu;if(h==="ScatterChart")g=o,y=i_e;else if(h==="BarChart")g=CAe(d,o,l,c),y=IT;else if(d==="radial"){var v=GB(o),b=v.cx,w=v.cy,_=v.radius,P=v.startAngle,E=v.endAngle;g={cx:b,cy:w,startAngle:P,endAngle:E,innerRadius:_,outerRadius:_},y=F3}else g={points:kAe(d,o,l)},y=tu;var A=Wp(Wp(Wp(Wp({stroke:"#ccc",pointerEvents:"none"},l),g),de(m,!1)),{},{payload:s,payloadIndex:u,className:Ee("recharts-tooltip-cursor",m.className)});return D.isValidElement(m)?D.cloneElement(m,A):D.createElement(y,A)}var $Ae=["item"],LAe=["children","className","width","height","style","compact","title","desc"];function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}function mR(t,e){return BAe(t)||FAe(t,e)||YB(t,e)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function BAe(t){if(Array.isArray(t))return t}function gR(t,e){if(t==null)return{};var n=UAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QB(r.key),r)}}function WAe(t,e,n){return e&&qAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HAe(t,e,n){return e=gy(e),GAe(t,KB()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function GAe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KAe(t)}function KAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function YAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p1(t,e)}function Ku(t){return JAe(t)||XAe(t)||YB(t)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(t,e){if(t){if(typeof t=="string")return m1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(t,e)}}function XAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JAe(t){if(Array.isArray(t))return m1(t)}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function he(t,e,n){return e=QB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QB(t){var e=ZAe(t,"string");return Gu(e)=="symbol"?e:e+""}function ZAe(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eIe={xAxis:["bottom","top"],yAxis:["left","right"]},tIe={width:"100%",height:"100%"},XB={x:0,y:0};function Hp(t){return t}var nIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},rIe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return z(z(z({},i),et(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return z(z(z({},i),et(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return XB},f0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ku(s),Ku(u)):s},[]);return o.length>0?o:e&&e.length&&ee(i)&&ee(a)?e.slice(i,a+1):[]};function JB(t){return t==="number"?[0,"auto"]:void 0}var g1=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=f0(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;h=yg(m,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Ku(l),[R3(u,h)]):l},[])},vR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=nIe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=L0e(o,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=g1(e,n,c,d),m=rIe(r,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},iIe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,m=P3(c,a);return r.reduce(function(g,y){var v,b=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,w=b.type,_=b.dataKey,P=b.allowDataOverflow,E=b.allowDuplicatedCategory,A=b.scale,S=b.ticks,T=b.includeHidden,O=b[o];if(g[O])return g;var C=f0(e.data,{graphicalItems:i.filter(function(X){var oe,Oe=o in X.props?X.props[o]:(oe=X.type.defaultProps)===null||oe===void 0?void 0:oe[o];return Oe===O}),dataStartIndex:l,dataEndIndex:u}),N=C.length,R,k,U;NAe(b.domain,P,w)&&(R=N_(b.domain,null,P),m&&(w==="number"||A!=="auto")&&(U=qd(C,_,"category")));var B=JB(w);if(!R||R.length===0){var H,G=(H=b.domain)!==null&&H!==void 0?H:B;if(_){if(R=qd(C,_,w),w==="category"&&m){var V=Pie(R);E&&V?(k=R,R=ry(0,N)):E||(R=Bk(G,R,y).reduce(function(X,oe){return X.indexOf(oe)>=0?X:[].concat(Ku(X),[oe])},[]))}else if(w==="category")E?R=R.filter(function(X){return X!==""&&!xe(X)}):R=Bk(G,R,y).reduce(function(X,oe){return X.indexOf(oe)>=0||oe===""||xe(oe)?X:[].concat(Ku(X),[oe])},[]);else if(w==="number"){var W=z0e(C,i.filter(function(X){var oe,Oe,$e=o in X.props?X.props[o]:(oe=X.type.defaultProps)===null||oe===void 0?void 0:oe[o],ct="hide"in X.props?X.props.hide:(Oe=X.type.defaultProps)===null||Oe===void 0?void 0:Oe.hide;return $e===O&&(T||!ct)}),_,a,c);W&&(R=W)}m&&(w==="number"||A!=="auto")&&(U=qd(C,_,"category"))}else m?R=ry(0,N):s&&s[O]&&s[O].hasStack&&w==="number"?R=h==="expand"?[0,1]:j3(s[O].stackGroups,l,u):R=I3(C,i.filter(function(X){var oe=o in X.props?X.props[o]:X.type.defaultProps[o],Oe="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return oe===O&&(T||!Oe)}),w,c,!0);if(w==="number")R=h1(d,R,O,a,S),G&&(R=N_(G,R,P));else if(w==="category"&&G){var Q=G,ie=R.every(function(X){return Q.indexOf(X)>=0});ie&&(R=Q)}}return z(z({},g),{},he({},O,z(z({},b),{},{axisType:a,domain:R,categoricalDomain:U,duplicateDomain:k,originalDomain:(v=b.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:c})))},{})},aIe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=f0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=P3(c,a),y=-1;return r.reduce(function(v,b){var w=b.type.defaultProps!==void 0?z(z({},b.type.defaultProps),b.props):b.props,_=w[o],P=JB("number");if(!v[_]){y++;var E;return g?E=ry(0,m):s&&s[_]&&s[_].hasStack?(E=j3(s[_].stackGroups,l,u),E=h1(d,E,_,a)):(E=N_(P,I3(h,r.filter(function(A){var S,T,O=o in A.props?A.props[o]:(S=A.type.defaultProps)===null||S===void 0?void 0:S[o],C="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return O===_&&!C}),"number",c),i.defaultProps.allowDataOverflow),E=h1(d,E,_,a)),z(z({},v),{},he({},_,z(z({axisType:a},i.defaultProps),{},{hide:!0,orientation:rr(eIe,"".concat(a,".").concat(y%2),null),domain:E,originalDomain:P,isCategorical:g,layout:c})))}return v},{})},oIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=xr(c,a),m={};return h&&h.length?m=iIe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=aIe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},sIe=function(e){var n=Ma(e),r=Wi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:eT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wg(n,r)}},bR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Qn(n,Mu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},lIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ki(n&&n.type);return r&&r.indexOf("Bar")>=0})},wR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uIe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},m=Qn(d,Mu),g=Qn(d,oo),y=Object.keys(l).reduce(function(E,A){var S=l[A],T=S.orientation;return!S.mirror&&!S.hide?z(z({},E),{},he({},T,E[T]+S.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(E,A){var S=o[A],T=S.orientation;return!S.mirror&&!S.hide?z(z({},E),{},he({},T,rr(E,"".concat(T))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=z(z({},v),y),w=b.bottom;m&&(b.bottom+=m.props.height||Mu.defaultProps.height),g&&n&&(b=B0e(b,i,r,n));var _=u-b.left-b.right,P=c-b.top-b.bottom;return z(z({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(P,0)})},cIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},$T=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(b,w){var _=w.graphicalItems,P=w.stackGroups,E=w.offset,A=w.updateId,S=w.dataStartIndex,T=w.dataEndIndex,O=b.barSize,C=b.layout,N=b.barGap,R=b.barCategoryGap,k=b.maxBarSize,U=wR(C),B=U.numericAxisName,H=U.cateAxisName,G=lIe(_),V=[];return _.forEach(function(W,Q){var ie=f0(b.data,{graphicalItems:[W],dataStartIndex:S,dataEndIndex:T}),X=W.type.defaultProps!==void 0?z(z({},W.type.defaultProps),W.props):W.props,oe=X.dataKey,Oe=X.maxBarSize,$e=X["".concat(B,"Id")],ct=X["".concat(H,"Id")],Kt={},nn=l.reduce(function(Yr,Ii){var jo=w["".concat(Ii.axisType,"Map")],il=X["".concat(Ii.axisType,"Id")];jo&&jo[il]||Ii.axisType==="zAxis"||qs();var Ec=jo[il];return z(z({},Yr),{},he(he({},Ii.axisType,Ec),"".concat(Ii.axisType,"Ticks"),Wi(Ec)))},Kt),ae=nn[H],ye=nn["".concat(H,"Ticks")],be=P&&P[$e]&&P[$e].hasStack&&J0e(W,P[$e].stackGroups),Y=Ki(W.type).indexOf("Bar")>=0,Qe=Wg(ae,ye),Te=[],dt=G&&V0e({barSize:O,stackGroups:P,totalSize:cIe(nn,H)});if(Y){var yt,rn,Kr=xe(Oe)?k:Oe,Ai=(yt=(rn=Wg(ae,ye,!0))!==null&&rn!==void 0?rn:Kr)!==null&&yt!==void 0?yt:0;Te=F0e({barGap:N,barCategoryGap:R,bandSize:Ai!==Qe?Ai:Qe,sizeList:dt[ct],maxBarSize:Kr}),Ai!==Qe&&(Te=Te.map(function(Yr){return z(z({},Yr),{},{position:z(z({},Yr.position),{},{offset:Yr.position.offset-Ai/2})})}))}var ma=W&&W.type&&W.type.getComposedData;ma&&V.push({props:z(z({},ma(z(z({},nn),{},{displayedData:ie,props:b,dataKey:oe,item:W,bandSize:Qe,barPosition:Te,offset:E,stackedData:be,layout:C,dataStartIndex:S,dataEndIndex:T}))),{},he(he(he({key:W.key||"item-".concat(Q)},B,nn[B]),H,nn[H]),"animationId",A)),childIndex:Fie(W,b.children),item:W})}),V},m=function(b,w){var _=b.props,P=b.dataStartIndex,E=b.dataEndIndex,A=b.updateId;if(!RN({props:_}))return null;var S=_.children,T=_.layout,O=_.stackOffset,C=_.data,N=_.reverseStackOrder,R=wR(T),k=R.numericAxisName,U=R.cateAxisName,B=xr(S,r),H=Q0e(C,B,"".concat(k,"Id"),"".concat(U,"Id"),O,N),G=l.reduce(function(X,oe){var Oe="".concat(oe.axisType,"Map");return z(z({},X),{},he({},Oe,oIe(_,z(z({},oe),{},{graphicalItems:B,stackGroups:oe.axisType===k&&H,dataStartIndex:P,dataEndIndex:E}))))},{}),V=uIe(z(z({},G),{},{props:_,graphicalItems:B}),w?.legendBBox);Object.keys(G).forEach(function(X){G[X]=c(_,G[X],V,X.replace("Map",""),n)});var W=G["".concat(U,"Map")],Q=sIe(W),ie=h(_,z(z({},G),{},{dataStartIndex:P,dataEndIndex:E,updateId:A,graphicalItems:B,stackGroups:H,offset:V}));return z(z({formattedGraphicalItems:ie,graphicalItems:B,offset:V,stackGroups:H},Q),G)},g=function(v){function b(w){var _,P,E;return zAe(this,b),E=HAe(this,b,[w]),he(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(E,"accessibilityManager",new OAe),he(E,"handleLegendBBoxUpdate",function(A){if(A){var S=E.state,T=S.dataStartIndex,O=S.dataEndIndex,C=S.updateId;E.setState(z({legendBBox:A},m({props:E.props,dataStartIndex:T,dataEndIndex:O,updateId:C},z(z({},E.state),{},{legendBBox:A}))))}}),he(E,"handleReceiveSyncEvent",function(A,S,T){if(E.props.syncId===A){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),he(E,"handleBrushChange",function(A){var S=A.startIndex,T=A.endIndex;if(S!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return z({dataStartIndex:S,dataEndIndex:T},m({props:E.props,dataStartIndex:S,dataEndIndex:T,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),he(E,"handleMouseEnter",function(A){var S=E.getMouseInfo(A);if(S){var T=z(z({},S),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var O=E.props.onMouseEnter;me(O)&&O(T,A)}}),he(E,"triggeredAfterMouseMove",function(A){var S=E.getMouseInfo(A),T=S?z(z({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var O=E.props.onMouseMove;me(O)&&O(T,A)}),he(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),he(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),he(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),he(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var T=E.props.onMouseLeave;me(T)&&T(S,A)}),he(E,"handleOuterEvent",function(A){var S=Vie(A),T=rr(E.props,"".concat(S));if(S&&me(T)){var O,C;/.*touch.*/i.test(S)?C=E.getMouseInfo(A.changedTouches[0]):C=E.getMouseInfo(A),T((O=C)!==null&&O!==void 0?O:{},A)}}),he(E,"handleClick",function(A){var S=E.getMouseInfo(A);if(S){var T=z(z({},S),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var O=E.props.onClick;me(O)&&O(T,A)}}),he(E,"handleMouseDown",function(A){var S=E.props.onMouseDown;if(me(S)){var T=E.getMouseInfo(A);S(T,A)}}),he(E,"handleMouseUp",function(A){var S=E.props.onMouseUp;if(me(S)){var T=E.getMouseInfo(A);S(T,A)}}),he(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),he(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),he(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),he(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&Xb.emit(Jb,E.props.syncId,A,E.eventEmitterSymbol)}),he(E,"applySyncEvent",function(A){var S=E.props,T=S.layout,O=S.syncMethod,C=E.state.updateId,N=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(z({dataStartIndex:N,dataEndIndex:R},m({props:E.props,dataStartIndex:N,dataEndIndex:R,updateId:C},E.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,U=A.chartY,B=A.activeTooltipIndex,H=E.state,G=H.offset,V=H.tooltipTicks;if(!G)return;if(typeof O=="function")B=O(V,A);else if(O==="value"){B=-1;for(var W=0;W<V.length;W++)if(V[W].value===A.activeLabel){B=W;break}}var Q=z(z({},G),{},{x:G.left,y:G.top}),ie=Math.min(k,Q.x+Q.width),X=Math.min(U,Q.y+Q.height),oe=V[B]&&V[B].value,Oe=g1(E.state,E.props.data,B),$e=V[B]?{x:T==="horizontal"?V[B].coordinate:ie,y:T==="horizontal"?X:V[B].coordinate}:XB;E.setState(z(z({},A),{},{activeLabel:oe,activeCoordinate:$e,activePayload:Oe,activeTooltipIndex:B}))}else E.setState(A)}),he(E,"renderCursor",function(A){var S,T=E.state,O=T.isTooltipActive,C=T.activeCoordinate,N=T.activePayload,R=T.offset,k=T.activeTooltipIndex,U=T.tooltipAxisBandSize,B=E.getTooltipEventType(),H=(S=A.props.active)!==null&&S!==void 0?S:O,G=E.props.layout,V=A.key||"_recharts-cursor";return M.createElement(MAe,{key:V,activeCoordinate:C,activePayload:N,activeTooltipIndex:k,chartName:n,element:A,isActive:H,layout:G,offset:R,tooltipAxisBandSize:U,tooltipEventType:B})}),he(E,"renderPolarAxis",function(A,S,T){var O=rr(A,"type.axisType"),C=rr(E.state,"".concat(O,"Map")),N=A.type.defaultProps,R=N!==void 0?z(z({},N),A.props):A.props,k=C&&C[R["".concat(O,"Id")]];return D.cloneElement(A,z(z({},k),{},{className:Ee(O,k.className),key:A.key||"".concat(S,"-").concat(T),ticks:Wi(k,!0)}))}),he(E,"renderPolarGrid",function(A){var S=A.props,T=S.radialLines,O=S.polarAngles,C=S.polarRadius,N=E.state,R=N.radiusAxisMap,k=N.angleAxisMap,U=Ma(R),B=Ma(k),H=B.cx,G=B.cy,V=B.innerRadius,W=B.outerRadius;return D.cloneElement(A,{polarAngles:Array.isArray(O)?O:Wi(B,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(C)?C:Wi(U,!0).map(function(Q){return Q.coordinate}),cx:H,cy:G,innerRadius:V,outerRadius:W,key:A.key||"polar-grid",radialLines:T})}),he(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,S=E.props,T=S.children,O=S.width,C=S.height,N=E.props.margin||{},R=O-(N.left||0)-(N.right||0),k=T3({children:T,formattedGraphicalItems:A,legendWidth:R,legendContent:u});if(!k)return null;var U=k.item,B=gR(k,$Ae);return D.cloneElement(U,z(z({},B),{},{chartWidth:O,chartHeight:C,margin:N,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),he(E,"renderTooltip",function(){var A,S=E.props,T=S.children,O=S.accessibilityLayer,C=Qn(T,dr);if(!C)return null;var N=E.state,R=N.isTooltipActive,k=N.activeCoordinate,U=N.activePayload,B=N.activeLabel,H=N.offset,G=(A=C.props.active)!==null&&A!==void 0?A:R;return D.cloneElement(C,{viewBox:z(z({},H),{},{x:H.left,y:H.top}),active:G,label:B,payload:G?U:[],coordinate:k,accessibilityLayer:O})}),he(E,"renderBrush",function(A){var S=E.props,T=S.margin,O=S.data,C=E.state,N=C.offset,R=C.dataStartIndex,k=C.dataEndIndex,U=C.updateId;return D.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Bp(E.handleBrushChange,A.props.onChange),data:O,x:ee(A.props.x)?A.props.x:N.left,y:ee(A.props.y)?A.props.y:N.top+N.height+N.brushBottom-(T.bottom||0),width:ee(A.props.width)?A.props.width:N.width,startIndex:R,endIndex:k,updateId:"brush-".concat(U)})}),he(E,"renderReferenceElement",function(A,S,T){if(!A)return null;var O=E,C=O.clipPathId,N=E.state,R=N.xAxisMap,k=N.yAxisMap,U=N.offset,B=A.type.defaultProps||{},H=A.props,G=H.xAxisId,V=G===void 0?B.xAxisId:G,W=H.yAxisId,Q=W===void 0?B.yAxisId:W;return D.cloneElement(A,{key:A.key||"".concat(S,"-").concat(T),xAxis:R[V],yAxis:k[Q],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:C})}),he(E,"renderActivePoints",function(A){var S=A.item,T=A.activePoint,O=A.basePoint,C=A.childIndex,N=A.isRange,R=[],k=S.props.key,U=S.item.type.defaultProps!==void 0?z(z({},S.item.type.defaultProps),S.item.props):S.item.props,B=U.activeDot,H=U.dataKey,G=z(z({index:C,dataKey:H,cx:T.x,cy:T.y,r:4,fill:AT(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},de(B,!1)),vg(B));return R.push(b.renderActiveDot(B,G,"".concat(k,"-activePoint-").concat(C))),O?R.push(b.renderActiveDot(B,z(z({},G),{},{cx:O.x,cy:O.y}),"".concat(k,"-basePoint-").concat(C))):N&&R.push(null),R}),he(E,"renderGraphicChild",function(A,S,T){var O=E.filterFormatItem(A,S,T);if(!O)return null;var C=E.getTooltipEventType(),N=E.state,R=N.isTooltipActive,k=N.tooltipAxis,U=N.activeTooltipIndex,B=N.activeLabel,H=E.props.children,G=Qn(H,dr),V=O.props,W=V.points,Q=V.isRange,ie=V.baseLine,X=O.item.type.defaultProps!==void 0?z(z({},O.item.type.defaultProps),O.item.props):O.item.props,oe=X.activeDot,Oe=X.hide,$e=X.activeBar,ct=X.activeShape,Kt=!!(!Oe&&R&&G&&(oe||$e||ct)),nn={};C!=="axis"&&G&&G.props.trigger==="click"?nn={onClick:Bp(E.handleItemMouseEnter,A.props.onClick)}:C!=="axis"&&(nn={onMouseLeave:Bp(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Bp(E.handleItemMouseEnter,A.props.onMouseEnter)});var ae=D.cloneElement(A,z(z({},O.props),nn));function ye(Ii){return typeof k.dataKey=="function"?k.dataKey(Ii.payload):null}if(Kt)if(U>=0){var be,Y;if(k.dataKey&&!k.allowDuplicatedCategory){var Qe=typeof k.dataKey=="function"?ye:"payload.".concat(k.dataKey.toString());be=yg(W,Qe,B),Y=Q&&ie&&yg(ie,Qe,B)}else be=W?.[U],Y=Q&&ie&&ie[U];if(ct||$e){var Te=A.props.activeIndex!==void 0?A.props.activeIndex:U;return[D.cloneElement(A,z(z(z({},O.props),nn),{},{activeIndex:Te})),null,null]}if(!xe(be))return[ae].concat(Ku(E.renderActivePoints({item:O,activePoint:be,basePoint:Y,childIndex:U,isRange:Q})))}else{var dt,yt=(dt=E.getItemByXY(E.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:ae},rn=yt.graphicalItem,Kr=rn.item,Ai=Kr===void 0?A:Kr,ma=rn.childIndex,Yr=z(z(z({},O.props),nn),{},{activeIndex:ma});return[D.cloneElement(Ai,Yr),null,null]}return Q?[ae,null,null]:[ae,null]}),he(E,"renderCustomized",function(A,S,T){return D.cloneElement(A,z(z({key:"recharts-customized-".concat(T)},E.props),E.state))}),he(E,"renderMap",{CartesianGrid:{handler:Hp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Hp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Hp},YAxis:{handler:Hp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:pc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=SF(E.triggeredAfterMouseMove,(P=w.throttleDelay)!==null&&P!==void 0?P:1e3/60),E.state={},E}return YAe(b,v),WAe(b,[{key:"componentDidMount",value:function(){var _,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,P=_.children,E=_.data,A=_.height,S=_.layout,T=Qn(P,dr);if(T){var O=T.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,N=g1(this.state,E,O,C),R=this.state.tooltipTicks[O].coordinate,k=(this.state.offset.top+A)/2,U=S==="horizontal",B=U?{x:R,y:k}:{y:R,x:k},H=this.state.formattedGraphicalItems.find(function(V){var W=V.item;return W.type.name==="Scatter"});H&&(B=z(z({},B),H.props.points[O].tooltipPosition),N=H.props.points[O].tooltipPayload);var G={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:N,activeCoordinate:B};this.setState(G),this.renderCursor(T),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Wx([Qn(_.children,dr)],[Qn(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Qn(this.props.children,dr);if(_&&typeof _.props.shared=="boolean"){var P=_.props.shared?"axis":"item";return s.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var P=this.container,E=P.getBoundingClientRect(),A=fme(E),S={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},T=E.width/P.offsetWidth||1,O=this.inRange(S.chartX,S.chartY,T);if(!O)return null;var C=this.state,N=C.xAxisMap,R=C.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&N&&R){var U=Ma(N).scale,B=Ma(R).scale,H=U&&U.invert?U.invert(S.chartX):null,G=B&&B.invert?B.invert(S.chartY):null;return z(z({},S),{},{xValue:H,yValue:G})}var V=vR(this.state,this.props.data,this.props.layout,O);return V?z(z({},S),V):null}},{key:"inRange",value:function(_,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,S=_/E,T=P/E;if(A==="horizontal"||A==="vertical"){var O=this.state.offset,C=S>=O.left&&S<=O.left+O.width&&T>=O.top&&T<=O.top+O.height;return C?{x:S,y:T}:null}var N=this.state,R=N.angleAxisMap,k=N.radiusAxisMap;if(R&&k){var U=Ma(R);return qk({x:S,y:T},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,P=this.getTooltipEventType(),E=Qn(_,dr),A={};E&&P==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=vg(this.props,this.handleOuterEvent);return z(z({},S),A)}},{key:"addListener",value:function(){Xb.on(Jb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xb.removeListener(Jb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,P,E){for(var A=this.state.formattedGraphicalItems,S=0,T=A.length;S<T;S++){var O=A[S];if(O.item===_||O.props.key===_.key||P===Ki(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,P=this.state.offset,E=P.left,A=P.top,S=P.height,T=P.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:E,y:A,height:S,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(P,E){var A=mR(E,2),S=A[0],T=A[1];return z(z({},P),{},he({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(P,E){var A=mR(E,2),S=A[0],T=A[1];return z(z({},P),{},he({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(_){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[_])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(_){var P=this.state,E=P.formattedGraphicalItems,A=P.activeItem;if(E&&E.length)for(var S=0,T=E.length;S<T;S++){var O=E[S],C=O.props,N=O.item,R=N.type.defaultProps!==void 0?z(z({},N.type.defaultProps),N.props):N.props,k=Ki(N.type);if(k==="Bar"){var U=(C.data||[]).find(function(V){return Lxe(_,V)});if(U)return{graphicalItem:O,payload:U}}else if(k==="RadialBar"){var B=(C.data||[]).find(function(V){return qk(_,V)});if(B)return{graphicalItem:O,payload:B}}else if(a0(O,A)||o0(O,A)||rh(O,A)){var H=A1e({graphicalItem:O,activeTooltipItem:A,itemData:R.data}),G=R.activeIndex===void 0?H:R.activeIndex;return{graphicalItem:z(z({},O),{},{childIndex:G}),payload:rh(O,A)?R.data[H]:O.props.data[H]}}}return null}},{key:"render",value:function(){var _=this;if(!RN(this))return null;var P=this.props,E=P.children,A=P.className,S=P.width,T=P.height,O=P.style,C=P.compact,N=P.title,R=P.desc,k=gR(P,LAe),U=de(k,!1);if(C)return M.createElement(Jj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Gx,Vl({},U,{width:S,height:T,title:N,desc:R}),this.renderClipPath(),MN(E,this.renderMap)));if(this.props.accessibilityLayer){var B,H;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(H=this.props.role)!==null&&H!==void 0?H:"application",U.onKeyDown=function(V){_.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){_.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return M.createElement(Jj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Vl({className:Ee("recharts-wrapper",A),style:z({position:"relative",cursor:"default",width:S,height:T},O)},G,{ref:function(W){_.container=W}}),M.createElement(Gx,Vl({},U,{width:S,height:T,title:N,desc:R,style:tIe}),this.renderClipPath(),MN(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);he(g,"displayName",n),he(g,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),he(g,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,_=v.data,P=v.children,E=v.width,A=v.height,S=v.layout,T=v.stackOffset,O=v.margin,C=b.dataStartIndex,N=b.dataEndIndex;if(b.updateId===void 0){var R=bR(v);return z(z(z({},R),{},{updateId:0},m(z(z({props:v},R),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:A,prevLayout:S,prevStackOffset:T,prevMargin:O,prevChildren:P})}if(w!==b.prevDataKey||_!==b.prevData||E!==b.prevWidth||A!==b.prevHeight||S!==b.prevLayout||T!==b.prevStackOffset||!Jl(O,b.prevMargin)){var k=bR(v),U={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=z(z({},vR(b,_,S)),{},{updateId:b.updateId+1}),H=z(z(z({},k),U),B);return z(z(z({},H),m(z({props:v},H),b)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:A,prevLayout:S,prevStackOffset:T,prevMargin:O,prevChildren:P})}if(!Wx(P,b.prevChildren)){var G,V,W,Q,ie=Qn(P,Mu),X=ie&&(G=(V=ie.props)===null||V===void 0?void 0:V.startIndex)!==null&&G!==void 0?G:C,oe=ie&&(W=(Q=ie.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&W!==void 0?W:N,Oe=X!==C||oe!==N,$e=!xe(_),ct=$e&&!Oe?b.updateId:b.updateId+1;return z(z({updateId:ct},m(z(z({props:v},b),{},{updateId:ct,dataStartIndex:X,dataEndIndex:oe}),b)),{},{prevChildren:P,dataStartIndex:X,dataEndIndex:oe})}return null}),he(g,"renderActiveDot",function(v,b,w){var _;return D.isValidElement(v)?_=D.cloneElement(v,b):me(v)?_=v(b):_=M.createElement(e0,b),M.createElement(je,{className:"recharts-active-dot",key:w},_)});var y=D.forwardRef(function(b,w){return M.createElement(g,Vl({},b,{ref:w}))});return y.displayName=g.displayName,y},dIe=$T({chartName:"BarChart",GraphicalChild:mo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qu},{axisType:"yAxis",AxisComp:Hu}],formatAxisMap:mB}),fIe=$T({chartName:"PieChart",GraphicalChild:pa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:i0},{axisType:"radiusAxis",AxisComp:n0}],formatAxisMap:lbe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),hIe=$T({chartName:"AreaChart",GraphicalChild:ko,axisComponents:[{axisType:"xAxis",AxisComp:qu},{axisType:"yAxis",AxisComp:Hu}],formatAxisMap:mB});const LT=t=>{if(!t)return"Date inconnue";try{const e=new Date(t);if(!oc(e))return"Date invalide";const n=$J(new Date,e),r=KV(new Date,e)%12;return n>0?`${n} an${n>1?"s":""} ${r>0?`et ${r} mois`:""}`:`${r} mois`}catch(e){return console.error("Error calculating stand age:",e),"Date invalide"}},yy=t=>{if(!t)return{status:"unknown",color:"gray",label:"Inconnu"};try{const e=new Date(t);if(!oc(e))return{status:"unknown",color:"gray",label:"Inconnu"};const n=KV(new Date,e);return n<24?{status:"new",color:"green",label:"Neuf"}:n<48?{status:"good",color:"blue",label:"Bon état"}:n<72?{status:"aging",color:"yellow",label:"Vieillissant"}:{status:"old",color:"red",label:"À remplacer"}}catch(e){return console.error("Error calculating age status:",e),{status:"unknown",color:"gray",label:"Inconnu"}}},xd=t=>{if(!t)return"Date inconnue";try{const e=new Date(t);return oc(e)?Wt(e,"PPP",{locale:el}):"Date invalide"}catch(e){return console.error("Error formatting date:",e),"Date invalide"}},pIe=()=>{const{stands:t}=sc(),e=t.reduce((l,u)=>{const c=yy(u.createdAt);return l[c.status]=(l[c.status]||0)+1,l},{}),n=[{name:"Neuf (<2 ans)",value:e.new||0,color:"#10b981"},{name:"Bon état (2-4 ans)",value:e.good||0,color:"#3b82f6"},{name:"Vieillissant (4-6 ans)",value:e.aging||0,color:"#f59e0b"},{name:"À remplacer (>6 ans)",value:e.old||0,color:"#ef4444"},{name:"Inconnu",value:e.unknown||0,color:"#6b7280"}].filter(l=>l.value>0),r=new Date,a=LJ({start:VJ(r),end:GV(r)}).map(l=>{Wt(l,"yyyy-MM-dd");const u=t.filter(c=>c.isReserved&&new Date(c.reservedUntil)>=l).length;return{date:Wt(l,"d MMM",{locale:el}),reservations:u}}),o=t.map(l=>{const u=l.maintenanceHistory?.length||0,c=l.maintenanceHistory?.filter(h=>h.type==="preventive").length||0,d=l.maintenanceHistory?.filter(h=>h.type==="curative").length||0;return{name:l.name,preventive:c,curative:d,total:u}}),s=[...t].sort((l,u)=>{const c=l.createdAt?new Date(l.createdAt).getTime():0;return(u.createdAt?new Date(u.createdAt).getTime():0)-c});return f.jsxs("div",{className:"space-y-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Statistiques et Prédictions"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Répartition par Âge"}),f.jsx("div",{className:"h-[300px]",children:f.jsx(Mb,{width:"100%",height:"100%",children:f.jsxs(fIe,{children:[f.jsx(pa,{data:n,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"value",label:({name:l,value:u})=>`${l}: ${u}`,children:n.map((l,u)=>f.jsx(Uv,{fill:l.color},`cell-${u}`))}),f.jsx(dr,{}),f.jsx(oo,{})]})})})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Utilisation Mensuelle"}),f.jsx("div",{className:"h-[300px]",children:f.jsx(Mb,{width:"100%",height:"100%",children:f.jsxs(hIe,{data:a,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorReservations",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),f.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),f.jsx(o1,{strokeDasharray:"3 3"}),f.jsx(qu,{dataKey:"date"}),f.jsx(Hu,{}),f.jsx(dr,{}),f.jsx(ko,{type:"monotone",dataKey:"reservations",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorReservations)",name:"Réservations"})]})})})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Historique des Maintenances"}),f.jsx("div",{className:"h-[300px]",children:f.jsx(Mb,{width:"100%",height:"100%",children:f.jsxs(dIe,{data:o,children:[f.jsx(o1,{strokeDasharray:"3 3"}),f.jsx(qu,{dataKey:"name"}),f.jsx(Hu,{}),f.jsx(dr,{}),f.jsx(oo,{}),f.jsx(mo,{dataKey:"preventive",name:"Préventive",fill:"#10b981"}),f.jsx(mo,{dataKey:"curative",name:"Curative",fill:"#f59e0b"})]})})})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Détails des Présentoirs"}),f.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto",children:s.map(l=>{const u=LT(l.createdAt),c=yy(l.createdAt);return f.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900",children:l.name}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Installé le: ",xd(l.createdAt)]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${c.status==="old"?"bg-red-100 text-red-700":c.status==="aging"?"bg-yellow-100 text-yellow-700":c.status==="good"?"bg-blue-100 text-blue-700":c.status==="new"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[f.jsx(po,{className:"h-4 w-4"}),u]}),c.status==="old"&&f.jsx("span",{className:"text-red-600",children:f.jsx(Wn,{className:"h-5 w-5"})})]})]})},l.id)})})]})]})]})},mIe=()=>{const t=_i(),e=[{name:"Général",href:"/settings",icon:Rx},{name:"Présentoirs",href:"/settings/stands",icon:ac},{name:"Affiches",href:"/settings/posters",icon:jh},{name:"Publications",href:"/settings/publications",icon:Ch},{name:"Maintenance",href:"/settings/maintenance",icon:yi},{name:"Notifications",href:"/settings/notifications",icon:Nh},{name:"Profil",href:"/settings/profile",icon:Dh}];return f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Paramètres"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(n=>{const r=n.icon;return f.jsx("button",{onClick:()=>t(n.href),className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer bg-gradient-to-br from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-lg shadow-lg",children:f.jsx(r,{className:"h-6 w-6"})}),f.jsx("div",{children:f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.name})})]})},n.name)})})]})},gIe=()=>{const{currentOrganization:t}=Pr(),{currentUser:e}=Ei(),[n,r]=D.useState([]),[i,a]=D.useState(!1),[o,s]=D.useState(!1),[l,u]=D.useState(null),c=D.useRef(null),[d,h]=D.useState({name:"",description:"",category:"",file:null});D.useEffect(()=>{if(!e?.uid||!t?.id)return;const v=no(hn(ge,"posters"),ro("organizationId","==",t.id)),b=io(v,w=>{const _=w.docs.map(P=>({id:P.id,...P.data()}));r(_)});return()=>b()},[e?.uid,t?.id]);const m=v=>{const b=v.target.files?.[0];if(b){if(!b.type.startsWith("image/")){K.error("Veuillez sélectionner une image");return}h({...d,file:b});const w=new FileReader;w.onloadend=()=>{u(w.result)},w.readAsDataURL(b)}},g=async v=>{if(v.preventDefault(),!e?.uid||!t?.id){K.error("Vous devez être connecté");return}if(!d.name||!d.category||!d.file){K.error("Veuillez remplir tous les champs obligatoires et sélectionner une image");return}try{s(!0);const b=aN(Vd,`posters/${t.id}/${Date.now()}_${d.file.name}`),w=await WX(b,d.file),_=await HX(w.ref);await ys(hn(ge,"posters"),{name:d.name,description:d.description,category:d.category,imageUrl:_,storagePath:b.fullPath,isActive:!0,organizationId:t.id,createdAt:Tt()}),h({name:"",description:"",category:"",file:null}),u(null),a(!1),K.success("Affiche ajoutée avec succès")}catch(b){console.error("Erreur lors de l'ajout:",b),K.error("Erreur lors de l'ajout de l'affiche")}finally{s(!1)}},y=async v=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette affiche ?"))try{if(v.storagePath){const b=aN(Vd,v.storagePath);await GX(b)}await qL(Ge(ge,"posters",v.id)),K.success("Affiche supprimée avec succès")}catch(b){console.error("Erreur lors de la suppression:",b),K.error("Erreur lors de la suppression")}};return f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gestion des Affiches"}),f.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez vos affiches et leurs informations"})]}),f.jsxs("button",{onClick:()=>a(!0),className:"btn btn-primary",children:[f.jsx(Rh,{className:"h-4 w-4"}),"Ajouter une affiche"]})]}),f.jsx("div",{className:"space-y-8",children:Bx.map(v=>{const b=n.filter(w=>w.category===v);return b.length===0?null:f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(w=>f.jsx("div",{className:"card p-4 bg-gray-50 border-2 border-gray-200",children:f.jsxs("div",{className:"flex gap-4",children:[f.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-white flex items-center justify-center",children:w.imageUrl?f.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"}):f.jsx(gv,{className:"h-8 w-8 text-gray-400"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),f.jsx("div",{className:"mt-2 flex justify-between items-center",children:f.jsx("button",{onClick:()=>y(w),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors",children:f.jsx(OS,{className:"h-4 w-4"})})})]})]})},w.id))})]},v)})}),f.jsx(Hr,{isOpen:i,onClose:()=>a(!1),title:"Ajouter une nouvelle affiche",children:f.jsxs("form",{onSubmit:g,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'affiche *"}),f.jsx("input",{type:"text",className:"input",value:d.name,onChange:v=>h({...d,name:v.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("textarea",{className:"input",value:d.description,onChange:v=>h({...d,description:v.target.value}),rows:3})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image *"}),f.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[f.jsx("input",{type:"file",ref:c,accept:"image/*",onChange:m,className:"hidden"}),f.jsxs("button",{type:"button",onClick:()=>c.current?.click(),className:"btn btn-secondary",children:[f.jsx(wJ,{className:"h-4 w-4 mr-2"}),"Choisir une image"]})]}),l&&f.jsx("div",{className:"mt-4",children:f.jsx("img",{src:l,alt:"Aperçu",className:"max-h-48 rounded-lg object-contain"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie *"}),f.jsxs("select",{className:"input",value:d.category,onChange:v=>h({...d,category:v.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Sélectionnez une catégorie"}),Bx.map(v=>f.jsx("option",{value:v,children:v},v))]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{a(!1),u(null),h({name:"",description:"",category:"",file:null})},className:"btn btn-secondary",disabled:o,children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ajout en cours..."]}):"Ajouter"})]})]})})]})},yIe=()=>{const{currentOrganization:t}=Pr(),{currentUser:e}=Ei(),[n,r]=D.useState([]),[i,a]=D.useState(!1),[o,s]=D.useState(!1),[l,u]=D.useState({title:"",description:"",imageUrl:"",category:"",minStock:10});D.useEffect(()=>{if(!e?.uid||!t?.id)return;const d=no(hn(ge,"publications"),ro("organizationId","==",t.id)),h=io(d,m=>{const g=m.docs.map(y=>({id:y.id,...y.data()}));r(g)});return()=>h()},[e?.uid,t?.id]);const c=async d=>{if(d.preventDefault(),!e?.uid){K.error("Vous devez être connecté");return}if(!t?.id){K.error("Organisation non trouvée");return}if(!l.title||!l.category){K.error("Veuillez remplir tous les champs obligatoires");return}try{s(!0),await ys(hn(ge,"publications"),{...l,isActive:!0,organizationId:t.id,createdAt:Tt()}),u({title:"",description:"",imageUrl:"",category:"",minStock:10}),a(!1),K.success("Publication ajoutée avec succès")}catch(h){console.error("Erreur lors de l'ajout:",h),K.error("Erreur lors de l'ajout de la publication")}finally{s(!1)}};return f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gestion des Publications"}),f.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez les publications et leurs stocks minimums"})]}),f.jsxs("button",{onClick:()=>a(!0),className:"btn btn-primary",children:[f.jsx(Rh,{className:"h-4 w-4"}),"Ajouter une publication"]})]}),f.jsx("div",{className:"space-y-8",children:Ux.map(d=>{const h=n.filter(m=>m.category===d);return h.length===0?null:f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:d}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(m=>f.jsx("div",{className:"card p-4 bg-gray-50 border-2 border-gray-200",children:f.jsxs("div",{className:"flex gap-4",children:[f.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-white flex items-center justify-center",children:m.imageUrl?f.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"}):f.jsx(Ch,{className:"h-8 w-8 text-gray-400"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:m.title}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),f.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm text-gray-600",children:["Stock minimum: ",m.minStock]}),f.jsx("button",{onClick:()=>handleRemovePublication(m.id),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors",children:f.jsx(OS,{className:"h-4 w-4"})})]})]})]})},m.id))})]},d)})}),i&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Ajouter une nouvelle publication"}),f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre *"}),f.jsx("input",{type:"text",className:"input bg-white",value:l.title,onChange:d=>u({...l,title:d.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("textarea",{className:"input bg-white",value:l.description,onChange:d=>u({...l,description:d.target.value}),rows:3})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de l'image"}),f.jsx("input",{type:"url",className:"input bg-white",value:l.imageUrl,onChange:d=>u({...l,imageUrl:d.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie *"}),f.jsxs("select",{className:"input bg-white",value:l.category,onChange:d=>u({...l,category:d.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Sélectionnez une catégorie"}),Ux.map(d=>f.jsx("option",{value:d,children:d},d))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock minimum *"}),f.jsx("input",{type:"number",className:"input bg-white",value:l.minStock,onChange:d=>u({...l,minStock:parseInt(d.target.value)}),min:"0",required:!0})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ajout en cours..."]}):"Ajouter"})]})]})]})})]})},vy=t=>{if(!t)return"Non spécifié";try{const e=typeof t=="string"?new Date(t):t;return oc(e)?Wt(e,"PPP",{locale:el}):"Date invalide"}catch(e){return console.error("Error formatting date:",e),"Date invalide"}},ew={baseUrl:window.location.origin+"/stand/",maxReservationDays:30,minAdvanceHours:24,emailNotifications:{newReservation:!0,posterRequest:!0,maintenance:!0},maintenance:{preventiveIntervalMonths:3,emailNotifications:!0}},ZB=D.createContext(void 0),vIe=({children:t})=>{Ei();const{currentOrganization:e}=Pr(),[n,r]=D.useState(ew),[i,a]=D.useState(!0);D.useEffect(()=>{if(!e?.id){r(ew),a(!1);return}const s=io(Ge(ge,"organizations",e.id),l=>{if(l.exists()){const u=l.data();r(u.settings||ew)}a(!1)},l=>{console.error("Error loading settings:",l),K.error("Erreur lors du chargement des paramètres"),a(!1)});return()=>s()},[e?.id]);const o=async s=>{if(!e?.id){K.error("Organisation non trouvée");return}try{const l={...n,...s};await yr(Ge(ge,"organizations",e.id),{settings:l}),r(l),await Nee.setPreference("settings",l),K.success("Paramètres mis à jour avec succès")}catch(l){throw console.error("Error updating settings:",l),K.error("Erreur lors de la mise à jour des paramètres"),l}};return f.jsx(ZB.Provider,{value:{settings:n,updateSettings:o,loading:i},children:t})},bIe=()=>{const t=D.useContext(ZB);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},wIe=({stand:t,isOpen:e,onClose:n})=>{const{settings:r}=bIe(),[i,a]=D.useState({name:t.name,location:t.location,currentPoster:t.currentPoster,createdAt:Wt(new Date(t.createdAt||new Date),"yyyy-MM-dd")}),o=async l=>{if(l.preventDefault(),i.name.trim().length<2){K.error("Le nom doit contenir au moins 2 caractères");return}try{const u=Ge(ge,"stands",t.id);await yr(u,{...i,createdAt:new Date(i.createdAt).toISOString(),lastUpdated:Tt()}),K.success("Présentoir mis à jour avec succès"),n()}catch(u){console.error("Erreur lors de la mise à jour:",u),K.error("Erreur lors de la mise à jour du présentoir")}},s=`${r.baseUrl}${t.id}`;return f.jsx(Hr,{isOpen:e,onClose:n,title:"Modifier le présentoir",children:f.jsxs("form",{onSubmit:o,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du présentoir"}),f.jsx("input",{type:"text",className:"input",value:i.name,onChange:l=>a({...i,name:l.target.value}),required:!0,minLength:2})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),f.jsx("input",{type:"text",className:"input",value:i.location,onChange:l=>a({...i,location:l.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affiche actuelle"}),f.jsx("input",{type:"text",className:"input",value:i.currentPoster,onChange:l=>a({...i,currentPoster:l.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'installation"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(po,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"date",className:"input pl-10",value:i.createdAt,onChange:l=>a({...i,createdAt:l.target.value}),max:Wt(new Date,"yyyy-MM-dd"),required:!0})]})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[f.jsx("h4",{className:"font-medium text-gray-900",children:"Code QR et lien public"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100",children:f.jsx(i4,{value:s,size:96,level:"H",includeMargin:!0})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lien public"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:s,readOnly:!0,className:"input text-sm py-1.5"}),f.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(s),K.success("Lien copié !")},className:"btn btn-secondary py-1.5 px-3",children:f.jsx(mJ,{className:"h-4 w-4"})})]})]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Mettre à jour"})]})]})})},xIe=()=>{const{stands:t}=sc();Pr();const[e,n]=D.useState(!1),[r,i]=D.useState(null),[a,o]=D.useState(!1),s=async l=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce présentoir ?"))try{o(!0),await qL(Ge(ge,"stands",l)),K.success("Présentoir supprimé avec succès")}catch(u){console.error("Erreur lors de la suppression:",u),K.error("Erreur lors de la suppression du présentoir")}finally{o(!1)}};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Présentoirs"}),f.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez vos présentoirs et leurs emplacements"})]}),f.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary",disabled:a,children:[f.jsx(Rh,{className:"h-4 w-4"}),"Ajouter un présentoir"]})]}),f.jsxs("div",{className:"grid gap-6",children:[t.map(l=>f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:f.jsx(ac,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.name}),f.jsxs("div",{className:"flex items-center text-gray-600 mt-1",children:[f.jsx(yv,{className:"h-4 w-4 mr-1"}),l.location]})]})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(po,{className:"h-4 w-4 mr-1"}),"Installation: ",vy(l.createdAt)]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>i(l.id),className:"btn btn-secondary py-1.5 px-3",disabled:a,children:"Modifier"}),f.jsx("button",{onClick:()=>s(l.id),className:"btn bg-red-50 text-red-600 hover:bg-red-100 py-1.5 px-3",disabled:a,children:f.jsx(OS,{className:"h-4 w-4"})})]})]})},l.id)),t.length===0&&f.jsx("div",{className:"text-center py-12 text-gray-500",children:"Aucun présentoir configuré"})]}),e&&f.jsx(l4,{isOpen:e,onClose:()=>n(!1)}),r&&f.jsx(wIe,{stand:t.find(l=>l.id===r),isOpen:!0,onClose:()=>i(null)})]})},_Ie=()=>{const{currentOrganization:t,setCurrentOrganization:e}=Pr(),n=async(r,i)=>{if(t)try{const a={...t.settings,maintenance:{...t.settings.maintenance,[r]:i}};e({...t,settings:a}),K.success("Paramètres de maintenance mis à jour")}catch(a){console.error("Erreur lors de la mise à jour:",a),K.error("Erreur lors de la mise à jour")}};return f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Paramètres de Maintenance"}),f.jsxs("form",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Intervalle de maintenance préventive (mois)"}),f.jsx("input",{type:"number",min:"1",max:"12",className:"input w-32",value:t?.settings?.maintenance?.preventiveIntervalMonths||3,onChange:r=>n("preventiveIntervalMonths",parseInt(r.target.value))})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",id:"maintenanceNotifications",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t?.settings?.maintenance?.emailNotifications||!1,onChange:r=>n("emailNotifications",r.target.checked)}),f.jsx("label",{htmlFor:"maintenanceNotifications",className:"ml-2 block text-sm text-gray-900",children:"Recevoir des notifications par email pour les maintenances"})]})]})]})},EIe=()=>{const{currentOrganization:t,setCurrentOrganization:e}=Pr(),n=async(r,i)=>{if(t)try{const a={...t.settings,emailNotifications:{...t.settings.emailNotifications,[r]:i}};e({...t,settings:a}),K.success("Paramètres de notification mis à jour")}catch(a){console.error("Erreur lors de la mise à jour:",a),K.error("Erreur lors de la mise à jour")}};return f.jsxs("div",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:f.jsx(Nh,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Paramètres de Notification"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Gérez vos préférences de notification par email"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Nouvelles réservations"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir une notification lors d'une nouvelle réservation"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t?.settings?.emailNotifications?.newReservation,onChange:r=>n("newReservation",r.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Demandes d'affichage"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir une notification pour les demandes de changement d'affiche"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t?.settings?.emailNotifications?.posterRequest,onChange:r=>n("posterRequest",r.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir une notification pour les rappels de maintenance"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t?.settings?.emailNotifications?.maintenance,onChange:r=>n("maintenance",r.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})},SIe=()=>{const{currentUser:t,updateProfile:e,updatePassword:n}=Ei(),[r,i]=D.useState(!1),[a,o]=D.useState({displayName:t?.displayName||"",currentPassword:"",newPassword:"",confirmPassword:""}),s=async u=>{if(u.preventDefault(),!!t){i(!0);try{await e({displayName:a.displayName}),K.success("Profil mis à jour avec succès")}catch{K.error("Erreur lors de la mise à jour du profil")}finally{i(!1)}}},l=async u=>{if(u.preventDefault(),!!t){if(a.newPassword!==a.confirmPassword){K.error("Les mots de passe ne correspondent pas");return}i(!0);try{await n(a.currentPassword,a.newPassword),o(c=>({...c,currentPassword:"",newPassword:"",confirmPassword:""})),K.success("Mot de passe mis à jour avec succès")}catch{K.error("Erreur lors de la mise à jour du mot de passe")}finally{i(!1)}}};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Informations du profil"}),f.jsxs("form",{onSubmit:s,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("div",{className:"flex items-center",children:f.jsxs("div",{className:"relative flex-1",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(VV,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"email",value:t?.email||"",disabled:!0,className:"input pl-10 bg-gray-50"})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'affichage"}),f.jsx("div",{className:"flex items-center",children:f.jsxs("div",{className:"relative flex-1",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Dh,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"input pl-10",placeholder:"Votre nom"})]})})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:r,className:"btn btn-primary",children:"Mettre à jour le profil"})})]})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Changer le mot de passe"}),f.jsxs("form",{onSubmit:l,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe actuel"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"password",value:a.currentPassword,onChange:u=>o({...a,currentPassword:u.target.value}),className:"input pl-10",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"password",value:a.newPassword,onChange:u=>o({...a,newPassword:u.target.value}),className:"input pl-10",required:!0,minLength:6})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Fd,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"password",value:a.confirmPassword,onChange:u=>o({...a,confirmPassword:u.target.value}),className:"input pl-10",required:!0,minLength:6})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:r,className:"btn btn-primary",children:"Mettre à jour le mot de passe"})})]})]})]})},TIe=({stand:t,isOpen:e,onClose:n,onSubmit:r})=>{const[i,a]=D.useState({description:"",issues:""}),o=s=>{if(s.preventDefault(),!i.description||!i.issues){K.error("Veuillez remplir tous les champs");return}r(i),n()};return f.jsxs(Hr,{isOpen:e,onClose:n,title:"Demande de maintenance curative",children:[f.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[f.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 mb-2",children:[f.jsx(Wn,{className:"h-5 w-5"}),f.jsx("span",{className:"font-medium",children:"Maintenance curative"})]}),f.jsx("p",{className:"text-sm text-yellow-600",children:"Utilisez ce formulaire pour signaler un problème nécessitant une intervention de maintenance."})]}),f.jsxs("form",{onSubmit:o,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description du problème *"}),f.jsx("textarea",{className:"input",value:i.issues,onChange:s=>a({...i,issues:s.target.value}),rows:3,required:!0,placeholder:"Décrivez le problème rencontré..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Actions déjà tentées *"}),f.jsx("textarea",{className:"input",value:i.description,onChange:s=>a({...i,description:s.target.value}),rows:3,required:!0,placeholder:"Décrivez les actions que vous avez déjà tentées..."})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Envoyer la demande"})]})]})]})},AIe=({publications:t,associations:e,onRemoveAssociation:n})=>e.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune publication associée"}):f.jsx("div",{className:"space-y-4",children:e.map(r=>{const i=t.find(a=>a.id===r.publicationId);return i?f.jsx("div",{className:"card p-4 bg-gray-50",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-white",children:i.imageUrl?f.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:f.jsx(Ch,{className:"h-8 w-8 text-gray-400"})})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"font-medium text-gray-900",children:i.title}),r.quantity<i.minStock&&f.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-700 rounded-full flex items-center gap-1",children:[f.jsx(Wn,{className:"h-3 w-3"}),"Stock bas"]})]}),f.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(po,{className:"h-4 w-4"}),f.jsxs("span",{children:["Du ",vy(r.startDate),r.endDate?` au ${vy(r.endDate)}`:""]})]}),f.jsxs("div",{children:["Quantité: ",r.quantity]}),r.notes&&f.jsx("div",{className:"mt-2 text-gray-500 italic",children:r.notes})]}),n&&f.jsx("div",{className:"mt-3",children:f.jsx("button",{onClick:()=>n(r.id),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Retirer"})})]})]})},r.id):null})}),IIe=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,i]=D.useState({visitorsCount:0,usageHours:0}),a=o=>{if(o.preventDefault(),r.visitorsCount<0||r.usageHours<0){K.error("Les valeurs doivent être positives");return}n(r),e()};return f.jsx(Hr,{isOpen:t,onClose:e,title:"Rapport d'utilisation",children:f.jsxs("form",{onSubmit:a,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de visiteurs aujourd'hui"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(FV,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"number",min:"0",className:"input pl-10",value:r.visitorsCount,onChange:o=>i({...r,visitorsCount:parseInt(o.target.value)||0}),required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures d'utilisation aujourd'hui"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(kh,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"number",min:"0",max:"24",step:"0.5",className:"input pl-10",value:r.usageHours,onChange:o=>i({...r,usageHours:parseFloat(o.target.value)||0}),required:!0})]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enregistrer"})]})]})})},PIe=()=>{const{id:t}=mE(),e=_i(),[n,r]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState(!1),[l,u]=D.useState(null),[c,d]=D.useState(!0);D.useEffect(()=>{(async()=>{if(t)try{const v=await Oh(Ge(ge,"stands",t));v.exists()&&u({id:v.id,...v.data()})}catch(v){console.error("Error loading stand:",v),K.error("Erreur lors du chargement du présentoir")}finally{d(!1)}})()},[t]);const h=async y=>{if(l)try{const v=Ge(ge,"stands",l.id);await yr(v,{maintenanceHistory:[...l.maintenanceHistory||[],{id:crypto.randomUUID(),type:"curative",date:new Date().toISOString(),issues:y.issues,description:y.description,status:"pending",requestedBy:l.reservedBy||"Anonyme"}],lastUpdated:Tt()}),K.success("Demande de maintenance envoyée avec succès"),r(!1)}catch(v){console.error("Error sending maintenance request:",v),K.error("Erreur lors de l'envoi de la demande")}},m=async y=>{if(l)try{const v=Ge(ge,"stands",l.id);await yr(v,{isReserved:!0,reservedBy:y.name,reservedUntil:y.endDate.toISOString(),lastUpdated:Tt()}),u(b=>b?{...b,isReserved:!0,reservedBy:y.name,reservedUntil:y.endDate.toISOString()}:null),K.success("Présentoir réservé avec succès"),a(!1)}catch(v){console.error("Error making reservation:",v),K.error("Erreur lors de la réservation")}},g=async y=>{if(l)try{const v=Ge(ge,"stands",l.id);await yr(v,{usageHistory:[...l.usageHistory||[],{date:new Date().toISOString(),visitorsCount:y.visitorsCount,usageHours:y.usageHours}],lastUpdated:Tt()}),K.success("Rapport d'utilisation enregistré"),s(!1)}catch(v){console.error("Error submitting usage report:",v),K.error("Erreur lors de l'envoi du rapport")}};return c?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):l?f.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-gray-50 py-8",children:[f.jsx("div",{className:"max-w-4xl mx-auto px-4",children:f.jsx("div",{className:"card p-8 bg-white shadow-xl border-2 border-blue-100",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.name}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l.isReserved?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:l.isReserved?"Réservé":"Disponible"})})]}),f.jsxs("div",{className:"flex items-center text-gray-600 gap-2",children:[f.jsx(yv,{className:"h-5 w-5 text-blue-500"}),f.jsx("span",{className:"text-lg",children:l.location})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Publications associées"}),f.jsx(AIe,{publications:l.publications||[],associations:l.publicationAssociations||[]})]})}),f.jsxs("div",{className:"space-y-4",children:[l.isReserved?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center text-red-700 mb-2",children:[f.jsx(Dh,{className:"h-5 w-5 mr-2"}),f.jsxs("span",{className:"font-medium",children:["Réservé par: ",l.reservedBy]})]}),f.jsxs("div",{className:"flex items-center text-red-700",children:[f.jsx(po,{className:"h-5 w-5 mr-2"}),f.jsxs("span",{children:["Jusqu'au: ",vy(l.reservedUntil)]})]})]}),f.jsxs("button",{onClick:()=>s(!0),className:"btn bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl w-full",children:[f.jsx(kh,{className:"h-4 w-4 mr-2"}),"Rapport d'utilisation"]})]}):f.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-medium text-green-800 mb-2",children:"Présentoir disponible"}),f.jsx("p",{className:"text-green-700 mb-4",children:"Ce présentoir est actuellement disponible pour réservation."}),f.jsxs("button",{onClick:()=>a(!0),className:"btn bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl w-full",children:[f.jsx(po,{className:"h-4 w-4 mr-2"}),"Réserver"]})]}),f.jsxs("button",{onClick:()=>r(!0),className:"btn bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 shadow-lg hover:shadow-xl w-full",children:[f.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Signaler un problème"]})]})]})]})})}),n&&f.jsx(TIe,{stand:l,isOpen:n,onClose:()=>r(!1),onSubmit:h}),i&&f.jsx(a4,{stand:l,isOpen:i,onClose:()=>a(!1),onReserve:m}),o&&f.jsx(IIe,{stand:l,isOpen:o,onClose:()=>s(!1),onSubmit:g})]}):f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"card p-8 max-w-md w-full text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Présentoir non trouvé"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Le présentoir demandé n'existe pas ou n'est plus disponible."}),f.jsxs("button",{onClick:()=>e("/"),className:"btn btn-primary inline-flex items-center",children:[f.jsx(wu,{className:"h-4 w-4 mr-2"}),"Retour à l'accueil"]})]})})},OIe=()=>{const{type:t}=mE(),e=_i(),{stands:n,publications:r}=sc(),i=()=>{switch(t){case"reserved":return n.filter(u=>u.isReserved);case"available":return n.filter(u=>!u.isReserved);case"low-stock":return n.filter(u=>(u.publications||[]).some(c=>{const d=r.find(h=>h.id===c.publicationId);return d&&c.quantity<d.minStock}));default:return n}},a=()=>{switch(t){case"reserved":return"Présentoirs Réservés";case"available":return"Présentoirs Disponibles";case"low-stock":return"Présentoirs avec Stock Bas";default:return"Tous les Présentoirs"}},o=u=>(u.reservationHistory||[]).reduce((d,h)=>{if(!h.startDate||!h.endDate)return d;try{return d+Dx(new Date(h.endDate),new Date(h.startDate))}catch(m){return console.error("Error calculating usage days:",m),d}},0),s=u=>{const c=u.lastMaintenance;if(!c)return new Date;try{const d=new Date(c);return d.setMonth(d.getMonth()+3),d}catch(d){return console.error("Error calculating next maintenance:",d),new Date}},l=i();return f.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>e("/"),className:"btn btn-secondary",children:[f.jsx(wu,{className:"h-5 w-5"}),"Retour"]}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a()})]}),f.jsx("div",{className:"grid gap-6",children:l.map(u=>{const c=LT(u.createdAt),d=yy(u.createdAt);return f.jsx("div",{className:"card p-6",children:f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u.name}),f.jsx("p",{className:"text-gray-600 mt-1",children:u.location})]}),f.jsxs("div",{className:"flex gap-3",children:[u.isReserved&&f.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium",children:"Réservé"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${d.status==="old"?"bg-red-100 text-red-700":d.status==="aging"?"bg-yellow-100 text-yellow-700":d.status==="good"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[f.jsx(po,{className:"h-4 w-4"}),c]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-lg",children:f.jsx(pJ,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Jours d'utilisation"}),f.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[o(u)," jours"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-lg",children:f.jsx(yi,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Prochaine maintenance"}),f.jsx("p",{className:"text-lg font-semibold text-gray-900",children:xd(s(u))})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-purple-100 text-purple-700 rounded-lg",children:f.jsx(kh,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Dernière mise à jour"}),f.jsx("p",{className:"text-lg font-semibold text-gray-900",children:xd(u.lastUpdated)})]})]})]}),u.reservationHistory&&u.reservationHistory.length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historique des réservations"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de début"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de fin"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Réservé par"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durée"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.reservationHistory.map((h,m)=>{if(!h.startDate||!h.endDate)return null;try{const g=new Date(h.startDate),y=new Date(h.endDate),v=Dx(y,g);return f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:xd(g)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:xd(y)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.reservedBy}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v," jours"]})]},m)}catch(g){return console.error("Error formatting reservation dates:",g),null}})})]})})]})]})},u.id)})})]})})},NIe=({maintenances:t})=>{if(t.length===0)return f.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun historique de maintenance"});const e=[...t].sort((n,r)=>new Date(r.date).getTime()-new Date(n.date).getTime());return f.jsx("div",{className:"space-y-4",children:e.map((n,r)=>f.jsx("div",{className:"card p-4",children:f.jsx("div",{className:"flex items-start justify-between",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${n.type==="preventive"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:n.type==="preventive"?f.jsx(yi,{className:"h-5 w-5"}):f.jsx(Wn,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-medium text-gray-900",children:["Maintenance ",n.type==="preventive"?"préventive":"curative"]}),f.jsx("p",{className:"text-sm text-gray-600",children:Wt(new Date(n.date),"PPP",{locale:el})})]})]}),f.jsxs("div",{className:"mt-3 space-y-2",children:[f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-medium",children:"Effectuée par:"})," ",n.performedBy]}),f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-medium",children:"Description:"})," ",n.description]}),n.type==="curative"&&f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-medium",children:"Problèmes:"})," ",n.issues]}),f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"font-medium",children:"Solutions:"})," ",n.resolution]})]})]})]})})},n.id||`maintenance-${r}`))})},CIe=()=>{const{stands:t,addMaintenance:e}=sc(),{currentOrganization:n}=Pr(),[r,i]=D.useState(null);D.useState("all");const[a,o]=D.useState(null),s=n?.settings?.maintenance?.preventiveIntervalMonths||3,l=g=>PJ(new Date(g),s),u=g=>{if(!g.lastMaintenance)return!0;const y=l(g.lastMaintenance);return LZ(y,new Date)},c={total:t.reduce((g,y)=>g+(y.maintenanceHistory?.length||0),0),preventive:t.reduce((g,y)=>g+(y.maintenanceHistory?.filter(v=>v.type==="preventive").length||0),0),curative:t.reduce((g,y)=>g+(y.maintenanceHistory?.filter(v=>v.type==="curative").length||0),0),upcoming:t.filter(g=>u(g)).length,averageTimeBetweenFailures:d(),pendingRequests:t.reduce((g,y)=>g+(y.maintenanceHistory?.filter(v=>v.status==="pending").length||0),0)};function d(){let g=0,y=0;return t.forEach(v=>{const b=v.maintenanceHistory?.filter(w=>w.type==="curative")||[];if(b.length>1)for(let w=1;w<b.length;w++){const _=Dx(new Date(b[w].date),new Date(b[w-1].date));g+=_,y++}}),y>0?Math.round(g/y):0}const h=async(g,y)=>{const v=t.find(b=>b.id===y);if(v)try{const b=Ge(ge,"stands",y);await yr(b,{maintenanceHistory:v.maintenanceHistory?.map(w=>w.id===g?{...w,status:"approved",completedAt:new Date().toISOString()}:w),lastUpdated:Tt()}),K.success("Maintenance approuvée")}catch(b){console.error("Error approving maintenance:",b),K.error("Erreur lors de l'approbation")}},m=async(g,y)=>{const v=t.find(b=>b.id===y);if(v)try{const b=Ge(ge,"stands",y);await yr(b,{maintenanceHistory:v.maintenanceHistory?.map(w=>w.id===g?{...w,status:"rejected",completedAt:new Date().toISOString()}:w),lastUpdated:Tt()}),K.success("Maintenance rejetée")}catch(b){console.error("Error rejecting maintenance:",b),K.error("Erreur lors du rejet")}};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Maintenance des Présentoirs"}),f.jsx("p",{className:"text-gray-600",children:"Gérez les maintenances préventives et curatives des présentoirs"})]}),n&&f.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx("span",{className:"font-medium",children:"Organisation:"}),f.jsx("span",{children:n.name}),f.jsx("span",{className:"text-gray-400",children:"•"}),f.jsx("span",{children:n.domain})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx("div",{className:"card p-6 bg-gradient-to-br from-blue-50 to-blue-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-lg shadow-lg",children:f.jsx(yi,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total des maintenances"}),f.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c.total})]})]})}),f.jsx("div",{className:"card p-6 bg-gradient-to-br from-green-50 to-green-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-green-500 text-white rounded-lg shadow-lg",children:f.jsx(uJ,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-green-800",children:"Maintenances préventives"}),f.jsx("p",{className:"text-2xl font-bold text-green-900",children:c.preventive})]})]})}),f.jsx("div",{className:"card p-6 bg-gradient-to-br from-yellow-50 to-yellow-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-lg shadow-lg",children:f.jsx(Wn,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Maintenances curatives"}),f.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:c.curative}),c.pendingRequests>0&&f.jsxs("span",{className:"px-2.5 py-1 bg-yellow-200 text-yellow-800 rounded-full text-xs font-medium mt-2 inline-block",children:[c.pendingRequests," en attente"]})]})]})}),f.jsx("div",{className:"card p-6 bg-gradient-to-br from-purple-50 to-purple-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-purple-500 text-white rounded-lg shadow-lg",children:f.jsx(kh,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Temps moyen entre pannes"}),f.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[c.averageTimeBetweenFailures," jours"]})]})]})})]}),f.jsx("div",{className:"space-y-6",children:t.map(g=>{const y=a===g.id,v=g.maintenanceHistory?.filter(b=>b.status==="pending")||[];return f.jsxs("div",{className:"card overflow-hidden border-2 hover:border-blue-200 transition-colors",children:[f.jsx("div",{className:"p-6 cursor-pointer hover:bg-blue-50/50 transition-colors",onClick:()=>o(y?null:g.id),children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),v.length>0&&f.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-medium",children:[v.length," demande",v.length>1?"s":""," en attente"]})]}),f.jsx("p",{className:"text-gray-600 mt-1",children:g.location})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:b=>{b.stopPropagation(),i({stand:g,type:"preventive"})},className:"btn bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-md hover:shadow-lg",children:[f.jsx(yi,{className:"h-4 w-4"}),"Maintenance préventive"]}),f.jsxs("button",{onClick:b=>{b.stopPropagation(),i({stand:g,type:"curative"})},className:"btn bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 shadow-md hover:shadow-lg",children:[f.jsx(Wn,{className:"h-4 w-4"}),"Maintenance curative"]}),y?f.jsx(dJ,{className:"h-5 w-5 text-gray-400"}):f.jsx(cJ,{className:"h-5 w-5 text-gray-400"})]})]})}),y&&f.jsxs("div",{className:"border-t border-gray-100 p-6 bg-gradient-to-b from-blue-50 to-transparent",children:[v.length>0&&f.jsxs("div",{className:"mb-6 space-y-4",children:[f.jsx("h4",{className:"text-lg font-medium text-yellow-800",children:"Demandes en attente"}),v.map(b=>f.jsx("div",{className:"card p-4 bg-yellow-50 border-2 border-yellow-200",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Wn,{className:"h-5 w-5 text-yellow-600"}),f.jsx("h4",{className:"font-medium text-yellow-800",children:"Demande de maintenance en attente"})]}),f.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:b.issues}),f.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:["Demandé par: ",b.requestedBy]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>h(b.id,g.id),className:"btn btn-primary py-1 px-3",children:"Approuver"}),f.jsx("button",{onClick:()=>m(b.id,g.id),className:"btn btn-secondary py-1 px-3",children:"Rejeter"})]})]})},b.id))]}),f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Historique des maintenances"}),f.jsx(NIe,{maintenances:g.maintenanceHistory||[]})]})]},g.id)})}),r&&f.jsx(NS,{stand:r.stand,type:r.type,isOpen:!0,onClose:()=>i(null),onSubmit:(g,y)=>{e(g,y),i(null),K.success("Maintenance enregistrée avec succès")}})]})},kIe=()=>{const{id:t}=mE(),e=_i(),{stands:n}=sc(),[r,i]=D.useState(!1),[a,o]=D.useState(""),s=n.find(d=>d.id===t);if(!s)return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"card p-8 max-w-md w-full text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Présentoir non trouvé"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Le présentoir demandé n'existe pas ou n'est plus disponible."}),f.jsxs("button",{onClick:()=>e("/"),className:"btn btn-primary inline-flex items-center",children:[f.jsx(wu,{className:"h-4 w-4 mr-2"}),"Retour au tableau de bord"]})]})});const l=LT(s.createdAt),u=yy(s.createdAt),c=async d=>{d.preventDefault();try{await yr(Ge(ge,"stands",s.id),{createdAt:new Date(a).toISOString()}),K.success("Date d'installation mise à jour"),i(!1)}catch(h){console.error("Erreur lors de la mise à jour:",h),K.error("Erreur lors de la mise à jour")}};return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[f.jsx("div",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900 mb-4 inline-flex items-center",children:[f.jsx(wu,{className:"h-4 w-4 mr-2"}),"Retour au tableau de bord"]}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),f.jsxs("p",{className:"text-gray-600 mt-1 flex items-center",children:[f.jsx(yv,{className:"h-4 w-4 mr-2"}),s.location]})]})}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"card p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"État actuel"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm text-gray-500",children:"Affiche actuelle"}),f.jsx("p",{className:"text-lg font-medium text-gray-900",children:s.currentPoster})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm text-gray-500",children:"Statut"}),f.jsx("div",{className:"flex items-center gap-2 mt-1",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.isReserved?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:s.isReserved?"Réservé":"Disponible"})})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm text-gray-500",children:"Date d'installation"}),f.jsxs("div",{className:"flex items-center justify-between mt-1",children:[f.jsx("p",{className:"text-lg font-medium text-gray-900",children:Wt(new Date(s.createdAt),"PP",{locale:el})}),f.jsx("button",{onClick:()=>{o(Wt(new Date(s.createdAt),"yyyy-MM-dd")),i(!0)},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Modifier"})]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm text-gray-500",children:"Âge du présentoir"}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${u.status==="old"?"bg-red-100 text-red-700":u.status==="aging"?"bg-yellow-100 text-yellow-700":u.status==="good"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[f.jsx(po,{className:"h-4 w-4"}),l]}),u.status==="old"&&f.jsx("span",{className:"text-red-600",children:f.jsx(Wn,{className:"h-5 w-5"})})]})]})]})})]})}),f.jsx(Hr,{isOpen:r,onClose:()=>i(!1),title:"Modifier la date d'installation",children:f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'installation"}),f.jsx("input",{type:"date",className:"input",value:a,onChange:d=>o(d.target.value),max:Wt(new Date,"yyyy-MM-dd")})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-secondary",children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Mettre à jour"})]})]})})]})},jIe=()=>{const t=_i();return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsx("div",{className:"max-w-md w-full text-center",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:f.jsx(vJ,{className:"h-12 w-12 text-red-600"})})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Accès non autorisé"}),f.jsx("p",{className:"text-gray-600 mb-8",children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page."}),f.jsxs("button",{onClick:()=>t("/"),className:"btn btn-primary inline-flex items-center",children:[f.jsx(wu,{className:"h-5 w-5 mr-2"}),"Retour au tableau de bord"]})]})})})},RIe=()=>f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs(Di,{to:"/",className:"text-blue-600 hover:text-blue-700 flex items-center gap-2 mb-4",children:[f.jsx(wu,{className:"h-4 w-4"}),"Retour au tableau de bord"]}),f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Centre d'aide"}),f.jsx("p",{className:"text-gray-600",children:"Guide complet d'utilisation de l'application de gestion des présentoirs"})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("section",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:f.jsx(lJ,{className:"h-5 w-5"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Guide d'utilisation"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[f.jsx(ac,{className:"h-5 w-5 text-gray-600"}),"Gestion des présentoirs"]}),f.jsxs("div",{className:"ml-7 space-y-3 text-gray-600",children:[f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Ajouter un présentoir :"}),' Utilisez le bouton "+" pour créer un nouveau présentoir']}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Modifier un présentoir :"})," Cliquez sur le présentoir pour accéder aux options de modification"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Réserver un présentoir :"})," Sélectionnez les dates et remplissez les informations requises"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"QR Code :"})," Chaque présentoir dispose d'un QR code unique pour un accès rapide"]})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[f.jsx(jh,{className:"h-5 w-5 text-gray-600"}),"Gestion des affiches"]}),f.jsxs("div",{className:"ml-7 space-y-3 text-gray-600",children:[f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Ajouter une affiche :"})," Téléchargez une nouvelle affiche avec ses informations"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Changer d'affiche :"})," Faites une demande de changement depuis la page du présentoir"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Catégories :"})," Organisez vos affiches par catégories pour une meilleure gestion"]})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[f.jsx(yi,{className:"h-5 w-5 text-gray-600"}),"Maintenance"]}),f.jsxs("div",{className:"ml-7 space-y-3 text-gray-600",children:[f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Maintenance préventive :"})," Planifiez des interventions régulières"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Maintenance curative :"})," Signalez et suivez les problèmes techniques"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Historique :"})," Consultez l'historique complet des interventions"]})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[f.jsx(Nh,{className:"h-5 w-5 text-gray-600"}),"Notifications"]}),f.jsxs("div",{className:"ml-7 space-y-3 text-gray-600",children:[f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Alertes :"})," Recevez des notifications pour les événements importants"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Paramètres :"})," Personnalisez vos préférences de notification"]}),f.jsxs("p",{children:["• ",f.jsx("strong",{children:"Rappels :"})," Soyez informé des maintenances à venir"]})]})]})]})]}),f.jsxs("section",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:f.jsx(bJ,{className:"h-5 w-5"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"RGPD et Protection des données"})]}),f.jsxs("div",{className:"space-y-6 text-gray-600",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Collecte des données"}),f.jsx("p",{children:"Nous collectons uniquement les données nécessaires au fonctionnement du service :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Informations de compte (email, nom)"}),f.jsx("li",{children:"Données de réservation"}),f.jsx("li",{children:"Historique des maintenances"}),f.jsx("li",{children:"Préférences de notification"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Utilisation des données"}),f.jsx("p",{children:"Vos données sont utilisées pour :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Gérer votre compte et vos accès"}),f.jsx("li",{children:"Assurer le suivi des réservations"}),f.jsx("li",{children:"Envoyer des notifications importantes"}),f.jsx("li",{children:"Améliorer nos services"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Vos droits"}),f.jsx("p",{children:"Conformément au RGPD, vous disposez des droits suivants :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Droit d'accès à vos données"}),f.jsx("li",{children:"Droit de rectification"}),f.jsx("li",{children:"Droit à l'effacement"}),f.jsx("li",{children:"Droit à la portabilité"}),f.jsx("li",{children:"Droit d'opposition"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Sécurité"}),f.jsx("p",{children:"Nous mettons en œuvre les mesures suivantes pour protéger vos données :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Chiffrement des données"}),f.jsx("li",{children:"Authentification sécurisée"}),f.jsx("li",{children:"Accès restreint aux données"}),f.jsx("li",{children:"Sauvegardes régulières"})]})]})]})]}),f.jsxs("section",{className:"card p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:f.jsx(FV,{className:"h-5 w-5"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Politique de confidentialité"})]}),f.jsxs("div",{className:"space-y-6 text-gray-600",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Cookies et traceurs"}),f.jsx("p",{children:"Notre application utilise des cookies essentiels pour :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Maintenir votre session"}),f.jsx("li",{children:"Mémoriser vos préférences"}),f.jsx("li",{children:"Assurer la sécurité"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Partage des données"}),f.jsx("p",{children:"Nous ne partageons vos données qu'avec :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Les membres de votre organisation"}),f.jsx("li",{children:"Nos sous-traitants techniques"}),f.jsx("li",{children:"Les autorités (si requis par la loi)"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Conservation des données"}),f.jsx("p",{children:"Vos données sont conservées :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Pendant la durée de votre utilisation du service"}),f.jsx("li",{children:"3 ans après votre dernière connexion"}),f.jsx("li",{children:"Les données de maintenance sont conservées 5 ans"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact"}),f.jsx("p",{children:"Pour toute question concernant vos données :"}),f.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-2",children:[f.jsx("li",{children:"Email : dpo@example.com"}),f.jsx("li",{children:"Formulaire de contact dans les paramètres"}),f.jsx("li",{children:"Délai de réponse : 30 jours maximum"})]})]})]})]})]})]}),DIe=()=>f.jsx(Zz,{children:f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(H9,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),f.jsxs(Hz,{children:[f.jsx(Ft,{path:"/login",element:f.jsx(EJ,{})}),f.jsx(Ft,{path:"/unauthorized",element:f.jsx(jIe,{})}),f.jsx(Ft,{path:"/stand/:id",element:f.jsx(PIe,{})}),f.jsx(Ft,{path:"/help",element:f.jsx(RIe,{})}),f.jsxs(Ft,{element:f.jsx(iJ,{children:f.jsx(mee,{})}),children:[f.jsx(Ft,{index:!0,element:f.jsx(Kee,{})}),f.jsx(Ft,{path:"statistics",element:f.jsx(pIe,{})}),f.jsx(Ft,{path:"maintenance",element:f.jsx(CIe,{})}),f.jsx(Ft,{path:"settings",element:f.jsx(mIe,{})}),f.jsx(Ft,{path:"settings/stands",element:f.jsx(xIe,{})}),f.jsx(Ft,{path:"settings/posters",element:f.jsx(gIe,{})}),f.jsx(Ft,{path:"settings/publications",element:f.jsx(yIe,{})}),f.jsx(Ft,{path:"settings/maintenance",element:f.jsx(_Ie,{})}),f.jsx(Ft,{path:"settings/notifications",element:f.jsx(EIe,{})}),f.jsx(Ft,{path:"settings/profile",element:f.jsx(SIe,{})}),f.jsx(Ft,{path:"details/:type",element:f.jsx(OIe,{})}),f.jsx(Ft,{path:"admin/stand/:id",element:f.jsx(kIe,{})})]})]})]})});jD(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(xJ,{children:f.jsx(SJ,{children:f.jsx(vIe,{children:f.jsx(Cee,{children:f.jsx(DIe,{})})})})})}));
//# sourceMappingURL=index-Dxjyp_OZ.js.map
