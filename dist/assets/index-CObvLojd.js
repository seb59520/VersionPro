function oB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ej={exports:{}},Bg={},Sj={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=Symbol.for("react.element"),sB=Symbol.for("react.portal"),lB=Symbol.for("react.fragment"),uB=Symbol.for("react.strict_mode"),cB=Symbol.for("react.profiler"),dB=Symbol.for("react.provider"),fB=Symbol.for("react.context"),hB=Symbol.for("react.forward_ref"),pB=Symbol.for("react.suspense"),mB=Symbol.for("react.memo"),gB=Symbol.for("react.lazy"),FT=Symbol.iterator;function yB(t){return t===null||typeof t!="object"?null:(t=FT&&t[FT]||t["@@iterator"],typeof t=="function"?t:null)}var Tj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Aj=Object.assign,Pj={};function Iu(t,e,n){this.props=t,this.context=e,this.refs=Pj,this.updater=n||Tj}Iu.prototype.isReactComponent={};Iu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Iu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ij(){}Ij.prototype=Iu.prototype;function Ox(t,e,n){this.props=t,this.context=e,this.refs=Pj,this.updater=n||Tj}var Cx=Ox.prototype=new Ij;Cx.constructor=Ox;Aj(Cx,Iu.prototype);Cx.isPureReactComponent=!0;var BT=Array.isArray,Oj=Object.prototype.hasOwnProperty,Nx={current:null},Cj={key:!0,ref:!0,__self:!0,__source:!0};function Nj(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Oj.call(e,r)&&!Cj.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:$f,type:t,key:a,ref:o,props:i,_owner:Nx.current}}function vB(t,e){return{$$typeof:$f,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kx(t){return typeof t=="object"&&t!==null&&t.$$typeof===$f}function bB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var UT=/\/+/g;function Gv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bB(""+t.key):e.toString(36)}function pp(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $f:case sB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gv(o,0):r,BT(i)?(n="",t!=null&&(n=t.replace(UT,"$&/")+"/"),pp(i,e,n,"",function(u){return u})):i!=null&&(kx(i)&&(i=vB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(UT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",BT(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Gv(a,s);o+=pp(a,e,n,l,i)}else if(l=yB(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Gv(a,s++),o+=pp(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oh(t,e,n){if(t==null)return t;var r=[],i=0;return pp(t,r,"","",function(a){return e.call(n,a,i++)}),r}function wB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},mp={transition:null},_B={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:mp,ReactCurrentOwner:Nx};function kj(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Oh,forEach:function(t,e,n){Oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oh(t,function(){e++}),e},toArray:function(t){return Oh(t,function(e){return e})||[]},only:function(t){if(!kx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Iu;Te.Fragment=lB;Te.Profiler=cB;Te.PureComponent=Ox;Te.StrictMode=uB;Te.Suspense=pB;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_B;Te.act=kj;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Aj({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Nx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Oj.call(e,l)&&!Cj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:$f,type:t.type,key:i,ref:a,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:fB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dB,_context:t},t.Consumer=t};Te.createElement=Nj;Te.createFactory=function(t){var e=Nj.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:hB,render:t}};Te.isValidElement=kx;Te.lazy=function(t){return{$$typeof:gB,_payload:{_status:-1,_result:t},_init:wB}};Te.memo=function(t,e){return{$$typeof:mB,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=mp.transition;mp.transition={};try{t()}finally{mp.transition=e}};Te.unstable_act=kj;Te.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Te.useContext=function(t){return Tn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Te.useId=function(){return Tn.current.useId()};Te.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Te.useRef=function(t){return Tn.current.useRef(t)};Te.useState=function(t){return Tn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Tn.current.useTransition()};Te.version="18.3.1";Sj.exports=Te;var M=Sj.exports;const D=Fe(M),xB=oB({__proto__:null,default:D},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EB=M,SB=Symbol.for("react.element"),TB=Symbol.for("react.fragment"),AB=Object.prototype.hasOwnProperty,PB=EB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IB={key:!0,ref:!0,__self:!0,__source:!0};function jj(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AB.call(e,r)&&!IB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SB,type:t,key:a,ref:o,props:i,_owner:PB.current}}Bg.Fragment=TB;Bg.jsx=jj;Bg.jsxs=jj;Ej.exports=Bg;var p=Ej.exports,Rj={exports:{}},Xn={},Dj={exports:{}},Mj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var Y=V.length;V.push(q);e:for(;0<Y;){var re=Y-1>>>1,Q=V[re];if(0<i(Q,q))V[re]=q,V[Y]=Q,Y=re;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],Y=V.pop();if(Y!==q){V[0]=Y;e:for(var re=0,Q=V.length,ae=Q>>>1;re<ae;){var Ie=2*(re+1)-1,De=V[Ie],st=Ie+1,Ut=V[st];if(0>i(De,Y))st<Q&&0>i(Ut,De)?(V[re]=Ut,V[st]=Y,re=st):(V[re]=De,V[Ie]=Y,re=Ie);else if(st<Q&&0>i(Ut,Y))V[re]=Ut,V[st]=Y,re=st;else break e}}return q}function i(V,q){var Y=V.sortIndex-q.sortIndex;return Y!==0?Y:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function P(V){if(y=!1,x(V),!g)if(n(l)!==null)g=!0,H(S);else{var q=n(u);q!==null&&K(P,q.startTime-V)}}function S(V,q){g=!1,y&&(y=!1,E(b),b=-1),m=!0;var Y=f;try{for(x(q),d=n(l);d!==null&&(!(d.expirationTime>q)||V&&!N());){var re=d.callback;if(typeof re=="function"){d.callback=null,f=d.priorityLevel;var Q=re(d.expirationTime<=q);q=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),x(q)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var Ie=n(u);Ie!==null&&K(P,Ie.startTime-q),ae=!1}return ae}finally{d=null,f=Y,m=!1}}var A=!1,T=null,b=-1,O=5,C=-1;function N(){return!(t.unstable_now()-C<O)}function R(){if(T!==null){var V=t.unstable_now();C=V;var q=!0;try{q=T(!0,V)}finally{q?k():(A=!1,T=null)}}else A=!1}var k;if(typeof _=="function")k=function(){_(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=R,k=function(){U.postMessage(null)}}else k=function(){v(R,0)};function H(V){T=V,A||(A=!0,k())}function K(V,q){b=v(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Y=f;f=q;try{return V()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=f;f=V;try{return q()}finally{f=Y}},t.unstable_scheduleCallback=function(V,q,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,V={id:c++,callback:q,priorityLevel:V,startTime:Y,expirationTime:Q,sortIndex:-1},Y>re?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(y?(E(b),b=-1):y=!0,K(P,Y-re))):(V.sortIndex=Q,e(l,V),g||m||(g=!0,H(S))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var q=f;return function(){var Y=f;f=q;try{return V.apply(this,arguments)}finally{f=Y}}}})(Mj);Dj.exports=Mj;var OB=Dj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CB=M,Yn=OB;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $j=new Set,xd={};function Ps(t,e){Ll(t,e),Ll(t+"Capture",e)}function Ll(t,e){for(xd[t]=e,t=0;t<e.length;t++)$j.add(e[t])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bb=Object.prototype.hasOwnProperty,NB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zT={},qT={};function kB(t){return bb.call(qT,t)?!0:bb.call(zT,t)?!1:NB.test(t)?qT[t]=!0:(zT[t]=!0,!1)}function jB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RB(t,e,n,r){if(e===null||typeof e>"u"||jB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var jx=/[\-:]([a-z])/g;function Rx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jx,Rx);Xt[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jx,Rx);Xt[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jx,Rx);Xt[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dx(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RB(e,n,i,r)&&(n=null),r||i===null?kB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qi=CB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),al=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),Mx=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),Lj=Symbol.for("react.provider"),Vj=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),_b=Symbol.for("react.suspense"),xb=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),Fj=Symbol.for("react.offscreen"),WT=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=WT&&t[WT]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Yv;function Lc(t){if(Yv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yv=e&&e[1]||""}return`
`+Yv+t}var Qv=!1;function Xv(t,e){if(!t||Qv)return"";Qv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Qv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lc(t):""}function DB(t){switch(t.tag){case 5:return Lc(t.type);case 16:return Lc("Lazy");case 13:return Lc("Suspense");case 19:return Lc("SuspenseList");case 0:case 2:case 15:return t=Xv(t.type,!1),t;case 11:return t=Xv(t.type.render,!1),t;case 1:return t=Xv(t.type,!0),t;default:return""}}function Eb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ol:return"Fragment";case al:return"Portal";case wb:return"Profiler";case Mx:return"StrictMode";case _b:return"Suspense";case xb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vj:return(t.displayName||"Context")+".Consumer";case Lj:return(t._context.displayName||"Context")+".Provider";case $x:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lx:return e=t.displayName||null,e!==null?e:Eb(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return Eb(t(e))}catch{}}return null}function MB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eb(e);case 8:return e===Mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ga(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $B(t){var e=Bj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nh(t){t._valueTracker||(t._valueTracker=$B(t))}function Uj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sb(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function HT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ga(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zj(t,e){e=e.checked,e!=null&&Dx(t,"checked",e,!1)}function Tb(t,e){zj(t,e);var n=Ga(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ab(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ab(t,e.type,Ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ab(t,e,n){(e!=="number"||qp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vc=Array.isArray;function El(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ga(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Vc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ga(n)}}function qj(t,e){var n=Ga(e.value),r=Ga(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ib(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kh,Hj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kh=kh||document.createElement("div"),kh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ed(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LB=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(t){LB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xc[e]=Xc[t]})});function Kj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xc.hasOwnProperty(t)&&Xc[t]?(""+e).trim():e+"px"}function Gj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VB=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ob(t,e){if(e){if(VB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Cb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nb=null;function Vx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kb=null,Sl=null,Tl=null;function QT(t){if(t=Ff(t)){if(typeof kb!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Hg(e),kb(t.stateNode,t.type,e))}}function Yj(t){Sl?Tl?Tl.push(t):Tl=[t]:Sl=t}function Qj(){if(Sl){var t=Sl,e=Tl;if(Tl=Sl=null,QT(t),e)for(t=0;t<e.length;t++)QT(e[t])}}function Xj(t,e){return t(e)}function Jj(){}var Jv=!1;function Zj(t,e,n){if(Jv)return t(e,n);Jv=!0;try{return Xj(t,e,n)}finally{Jv=!1,(Sl!==null||Tl!==null)&&(Jj(),Qj())}}function Sd(t,e){var n=t.stateNode;if(n===null)return null;var r=Hg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var jb=!1;if(Li)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){jb=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{jb=!1}function FB(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Jc=!1,Wp=null,Hp=!1,Rb=null,BB={onError:function(t){Jc=!0,Wp=t}};function UB(t,e,n,r,i,a,o,s,l){Jc=!1,Wp=null,FB.apply(BB,arguments)}function zB(t,e,n,r,i,a,o,s,l){if(UB.apply(this,arguments),Jc){if(Jc){var u=Wp;Jc=!1,Wp=null}else throw Error(J(198));Hp||(Hp=!0,Rb=u)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XT(t){if(Is(t)!==t)throw Error(J(188))}function qB(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return XT(i),t;if(a===r)return XT(i),e;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function tR(t){return t=qB(t),t!==null?nR(t):null}function nR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nR(t);if(e!==null)return e;t=t.sibling}return null}var rR=Yn.unstable_scheduleCallback,JT=Yn.unstable_cancelCallback,WB=Yn.unstable_shouldYield,HB=Yn.unstable_requestPaint,_t=Yn.unstable_now,KB=Yn.unstable_getCurrentPriorityLevel,Fx=Yn.unstable_ImmediatePriority,iR=Yn.unstable_UserBlockingPriority,Kp=Yn.unstable_NormalPriority,GB=Yn.unstable_LowPriority,aR=Yn.unstable_IdlePriority,Ug=null,Gr=null;function YB(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Ug,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:JB,QB=Math.log,XB=Math.LN2;function JB(t){return t>>>=0,t===0?32:31-(QB(t)/XB|0)|0}var jh=64,Rh=4194304;function Fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Fc(s):(a&=o,a!==0&&(r=Fc(a)))}else o=n&~i,o!==0?r=Fc(o):a!==0&&(r=Fc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function ZB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Ir(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=ZB(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Db(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oR(){var t=jh;return jh<<=1,!(jh&4194240)&&(jh=64),t}function Zv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function t6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Bx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function sR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lR,Ux,uR,cR,dR,Mb=!1,Dh=[],ka=null,ja=null,Ra=null,Td=new Map,Ad=new Map,ya=[],n6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZT(t,e){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(e.pointerId)}}function gc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ff(e),e!==null&&Ux(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r6(t,e,n,r,i){switch(e){case"focusin":return ka=gc(ka,t,e,n,r,i),!0;case"dragenter":return ja=gc(ja,t,e,n,r,i),!0;case"mouseover":return Ra=gc(Ra,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Td.set(a,gc(Td.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ad.set(a,gc(Ad.get(a)||null,t,e,n,r,i)),!0}return!1}function fR(t){var e=Fo(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=eR(n),e!==null){t.blockedOn=e,dR(t.priority,function(){uR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$b(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nb=r,n.target.dispatchEvent(r),Nb=null}else return e=Ff(n),e!==null&&Ux(e),t.blockedOn=n,!1;e.shift()}return!0}function eA(t,e,n){gp(t)&&n.delete(e)}function i6(){Mb=!1,ka!==null&&gp(ka)&&(ka=null),ja!==null&&gp(ja)&&(ja=null),Ra!==null&&gp(Ra)&&(Ra=null),Td.forEach(eA),Ad.forEach(eA)}function yc(t,e){t.blockedOn===e&&(t.blockedOn=null,Mb||(Mb=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,i6)))}function Pd(t){function e(i){return yc(i,t)}if(0<Dh.length){yc(Dh[0],t);for(var n=1;n<Dh.length;n++){var r=Dh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ka!==null&&yc(ka,t),ja!==null&&yc(ja,t),Ra!==null&&yc(Ra,t),Td.forEach(e),Ad.forEach(e),n=0;n<ya.length;n++)r=ya[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ya.length&&(n=ya[0],n.blockedOn===null);)fR(n),n.blockedOn===null&&ya.shift()}var Al=Qi.ReactCurrentBatchConfig,Yp=!0;function a6(t,e,n,r){var i=Ve,a=Al.transition;Al.transition=null;try{Ve=1,zx(t,e,n,r)}finally{Ve=i,Al.transition=a}}function o6(t,e,n,r){var i=Ve,a=Al.transition;Al.transition=null;try{Ve=4,zx(t,e,n,r)}finally{Ve=i,Al.transition=a}}function zx(t,e,n,r){if(Yp){var i=$b(t,e,n,r);if(i===null)u0(t,e,r,Qp,n),ZT(t,r);else if(r6(i,t,e,n,r))r.stopPropagation();else if(ZT(t,r),e&4&&-1<n6.indexOf(t)){for(;i!==null;){var a=Ff(i);if(a!==null&&lR(a),a=$b(t,e,n,r),a===null&&u0(t,e,r,Qp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else u0(t,e,r,null,n)}}var Qp=null;function $b(t,e,n,r){if(Qp=null,t=Vx(r),t=Fo(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qp=t,null}function hR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KB()){case Fx:return 1;case iR:return 4;case Kp:case GB:return 16;case aR:return 536870912;default:return 16}default:return 16}}var Aa=null,qx=null,yp=null;function pR(){if(yp)return yp;var t,e=qx,n=e.length,r,i="value"in Aa?Aa.value:Aa.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return yp=i.slice(t,1<r?1-r:void 0)}function vp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mh(){return!0}function tA(){return!1}function Jn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mh:tA,this.isPropagationStopped=tA,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wx=Jn(Ou),Vf=pt({},Ou,{view:0,detail:0}),s6=Jn(Vf),e0,t0,vc,zg=pt({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(e0=t.screenX-vc.screenX,t0=t.screenY-vc.screenY):t0=e0=0,vc=t),e0)},movementY:function(t){return"movementY"in t?t.movementY:t0}}),nA=Jn(zg),l6=pt({},zg,{dataTransfer:0}),u6=Jn(l6),c6=pt({},Vf,{relatedTarget:0}),n0=Jn(c6),d6=pt({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),f6=Jn(d6),h6=pt({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p6=Jn(h6),m6=pt({},Ou,{data:0}),rA=Jn(m6),g6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v6[t])?!!e[t]:!1}function Hx(){return b6}var w6=pt({},Vf,{key:function(t){if(t.key){var e=g6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hx,charCode:function(t){return t.type==="keypress"?vp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_6=Jn(w6),x6=pt({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iA=Jn(x6),E6=pt({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hx}),S6=Jn(E6),T6=pt({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),A6=Jn(T6),P6=pt({},zg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I6=Jn(P6),O6=[9,13,27,32],Kx=Li&&"CompositionEvent"in window,Zc=null;Li&&"documentMode"in document&&(Zc=document.documentMode);var C6=Li&&"TextEvent"in window&&!Zc,mR=Li&&(!Kx||Zc&&8<Zc&&11>=Zc),aA=" ",oA=!1;function gR(t,e){switch(t){case"keyup":return O6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function N6(t,e){switch(t){case"compositionend":return yR(e);case"keypress":return e.which!==32?null:(oA=!0,aA);case"textInput":return t=e.data,t===aA&&oA?null:t;default:return null}}function k6(t,e){if(sl)return t==="compositionend"||!Kx&&gR(t,e)?(t=pR(),yp=qx=Aa=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mR&&e.locale!=="ko"?null:e.data;default:return null}}var j6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j6[t.type]:e==="textarea"}function vR(t,e,n,r){Yj(r),e=Xp(e,"onChange"),0<e.length&&(n=new Wx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ed=null,Id=null;function R6(t){OR(t,0)}function qg(t){var e=cl(t);if(Uj(e))return t}function D6(t,e){if(t==="change")return e}var bR=!1;if(Li){var r0;if(Li){var i0="oninput"in document;if(!i0){var lA=document.createElement("div");lA.setAttribute("oninput","return;"),i0=typeof lA.oninput=="function"}r0=i0}else r0=!1;bR=r0&&(!document.documentMode||9<document.documentMode)}function uA(){ed&&(ed.detachEvent("onpropertychange",wR),Id=ed=null)}function wR(t){if(t.propertyName==="value"&&qg(Id)){var e=[];vR(e,Id,t,Vx(t)),Zj(R6,e)}}function M6(t,e,n){t==="focusin"?(uA(),ed=e,Id=n,ed.attachEvent("onpropertychange",wR)):t==="focusout"&&uA()}function $6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qg(Id)}function L6(t,e){if(t==="click")return qg(e)}function V6(t,e){if(t==="input"||t==="change")return qg(e)}function F6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:F6;function Od(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bb.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function cA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dA(t,e){var n=cA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cA(n)}}function _R(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_R(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xR(){for(var t=window,e=qp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qp(t.document)}return e}function Gx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B6(t){var e=xR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_R(n.ownerDocument.documentElement,n)){if(r!==null&&Gx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=dA(n,a);var o=dA(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U6=Li&&"documentMode"in document&&11>=document.documentMode,ll=null,Lb=null,td=null,Vb=!1;function fA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vb||ll==null||ll!==qp(r)||(r=ll,"selectionStart"in r&&Gx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),td&&Od(td,r)||(td=r,r=Xp(Lb,"onSelect"),0<r.length&&(e=new Wx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ll)))}function $h(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ul={animationend:$h("Animation","AnimationEnd"),animationiteration:$h("Animation","AnimationIteration"),animationstart:$h("Animation","AnimationStart"),transitionend:$h("Transition","TransitionEnd")},a0={},ER={};Li&&(ER=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Wg(t){if(a0[t])return a0[t];if(!ul[t])return t;var e=ul[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ER)return a0[t]=e[n];return t}var SR=Wg("animationend"),TR=Wg("animationiteration"),AR=Wg("animationstart"),PR=Wg("transitionend"),IR=new Map,hA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){IR.set(t,e),Ps(e,[t])}for(var o0=0;o0<hA.length;o0++){var s0=hA[o0],z6=s0.toLowerCase(),q6=s0[0].toUpperCase()+s0.slice(1);no(z6,"on"+q6)}no(SR,"onAnimationEnd");no(TR,"onAnimationIteration");no(AR,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(PR,"onTransitionEnd");Ll("onMouseEnter",["mouseout","mouseover"]);Ll("onMouseLeave",["mouseout","mouseover"]);Ll("onPointerEnter",["pointerout","pointerover"]);Ll("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function pA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zB(r,e,void 0,t),t.currentTarget=null}function OR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;pA(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;pA(i,s,u),a=l}}}if(Hp)throw t=Rb,Hp=!1,Rb=null,t}function Ze(t,e){var n=e[qb];n===void 0&&(n=e[qb]=new Set);var r=t+"__bubble";n.has(r)||(CR(e,t,2,!1),n.add(r))}function l0(t,e,n){var r=0;e&&(r|=4),CR(n,t,r,e)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[Lh]){t[Lh]=!0,$j.forEach(function(n){n!=="selectionchange"&&(W6.has(n)||l0(n,!1,t),l0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lh]||(e[Lh]=!0,l0("selectionchange",!1,e))}}function CR(t,e,n,r){switch(hR(e)){case 1:var i=a6;break;case 4:i=o6;break;default:i=zx}n=i.bind(null,e,n,t),i=void 0,!jb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function u0(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Fo(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}Zj(function(){var u=a,c=Vx(n),d=[];e:{var f=IR.get(t);if(f!==void 0){var m=Wx,g=t;switch(t){case"keypress":if(vp(n)===0)break e;case"keydown":case"keyup":m=_6;break;case"focusin":g="focus",m=n0;break;case"focusout":g="blur",m=n0;break;case"beforeblur":case"afterblur":m=n0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=u6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=S6;break;case SR:case TR:case AR:m=f6;break;case PR:m=A6;break;case"scroll":m=s6;break;case"wheel":m=I6;break;case"copy":case"cut":case"paste":m=p6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iA}var y=(e&4)!==0,v=!y&&t==="scroll",E=y?f!==null?f+"Capture":null:f;y=[];for(var _=u,x;_!==null;){x=_;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,E!==null&&(P=Sd(_,E),P!=null&&y.push(Nd(_,P,x)))),v)break;_=_.return}0<y.length&&(f=new m(f,g,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Nb&&(g=n.relatedTarget||n.fromElement)&&(Fo(g)||g[Vi]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Fo(g):null,g!==null&&(v=Is(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=nA,P="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=iA,P="onPointerLeave",E="onPointerEnter",_="pointer"),v=m==null?f:cl(m),x=g==null?f:cl(g),f=new y(P,_+"leave",m,n,c),f.target=v,f.relatedTarget=x,P=null,Fo(c)===u&&(y=new y(E,_+"enter",g,n,c),y.target=x,y.relatedTarget=v,P=y),v=P,m&&g)t:{for(y=m,E=g,_=0,x=y;x;x=Ws(x))_++;for(x=0,P=E;P;P=Ws(P))x++;for(;0<_-x;)y=Ws(y),_--;for(;0<x-_;)E=Ws(E),x--;for(;_--;){if(y===E||E!==null&&y===E.alternate)break t;y=Ws(y),E=Ws(E)}y=null}else y=null;m!==null&&mA(d,f,m,y,!1),g!==null&&v!==null&&mA(d,v,g,y,!0)}}e:{if(f=u?cl(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=D6;else if(sA(f))if(bR)S=V6;else{S=$6;var A=M6}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=L6);if(S&&(S=S(t,u))){vR(d,S,n,c);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Ab(f,"number",f.value)}switch(A=u?cl(u):window,t){case"focusin":(sA(A)||A.contentEditable==="true")&&(ll=A,Lb=u,td=null);break;case"focusout":td=Lb=ll=null;break;case"mousedown":Vb=!0;break;case"contextmenu":case"mouseup":case"dragend":Vb=!1,fA(d,n,c);break;case"selectionchange":if(U6)break;case"keydown":case"keyup":fA(d,n,c)}var T;if(Kx)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else sl?gR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(mR&&n.locale!=="ko"&&(sl||b!=="onCompositionStart"?b==="onCompositionEnd"&&sl&&(T=pR()):(Aa=c,qx="value"in Aa?Aa.value:Aa.textContent,sl=!0)),A=Xp(u,b),0<A.length&&(b=new rA(b,t,null,n,c),d.push({event:b,listeners:A}),T?b.data=T:(T=yR(n),T!==null&&(b.data=T)))),(T=C6?N6(t,n):k6(t,n))&&(u=Xp(u,"onBeforeInput"),0<u.length&&(c=new rA("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}OR(d,e)})}function Nd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Sd(t,n),a!=null&&r.unshift(Nd(t,a,i)),a=Sd(t,e),a!=null&&r.push(Nd(t,a,i))),t=t.return}return r}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mA(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Sd(n,a),l!=null&&o.unshift(Nd(n,l,s))):i||(l=Sd(n,a),l!=null&&o.push(Nd(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var H6=/\r\n?/g,K6=/\u0000|\uFFFD/g;function gA(t){return(typeof t=="string"?t:""+t).replace(H6,`
`).replace(K6,"")}function Vh(t,e,n){if(e=gA(e),gA(t)!==e&&n)throw Error(J(425))}function Jp(){}var Fb=null,Bb=null;function Ub(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zb=typeof setTimeout=="function"?setTimeout:void 0,G6=typeof clearTimeout=="function"?clearTimeout:void 0,yA=typeof Promise=="function"?Promise:void 0,Y6=typeof queueMicrotask=="function"?queueMicrotask:typeof yA<"u"?function(t){return yA.resolve(null).then(t).catch(Q6)}:zb;function Q6(t){setTimeout(function(){throw t})}function c0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pd(e)}function Da(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Br="__reactFiber$"+Cu,kd="__reactProps$"+Cu,Vi="__reactContainer$"+Cu,qb="__reactEvents$"+Cu,X6="__reactListeners$"+Cu,J6="__reactHandles$"+Cu;function Fo(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vi]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vA(t);t!==null;){if(n=t[Br])return n;t=vA(t)}return e}t=n,n=t.parentNode}return null}function Ff(t){return t=t[Br]||t[Vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Hg(t){return t[kd]||null}var Wb=[],dl=-1;function ro(t){return{current:t}}function nt(t){0>dl||(t.current=Wb[dl],Wb[dl]=null,dl--)}function Ye(t,e){dl++,Wb[dl]=t.current,t.current=e}var Ya={},fn=ro(Ya),Rn=ro(!1),ns=Ya;function Vl(t,e){var n=t.type.contextTypes;if(!n)return Ya;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function Zp(){nt(Rn),nt(fn)}function bA(t,e,n){if(fn.current!==Ya)throw Error(J(168));Ye(fn,e),Ye(Rn,n)}function NR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,MB(t)||"Unknown",i));return pt({},n,r)}function em(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ya,ns=fn.current,Ye(fn,t),Ye(Rn,Rn.current),!0}function wA(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=NR(t,e,ns),r.__reactInternalMemoizedMergedChildContext=t,nt(Rn),nt(fn),Ye(fn,t)):nt(Rn),Ye(Rn,n)}var wi=null,Kg=!1,d0=!1;function kR(t){wi===null?wi=[t]:wi.push(t)}function Z6(t){Kg=!0,kR(t)}function io(){if(!d0&&wi!==null){d0=!0;var t=0,e=Ve;try{var n=wi;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wi=null,Kg=!1}catch(i){throw wi!==null&&(wi=wi.slice(t+1)),rR(Fx,io),i}finally{Ve=e,d0=!1}}return null}var fl=[],hl=0,tm=null,nm=0,nr=[],rr=0,rs=null,_i=1,xi="";function Po(t,e){fl[hl++]=nm,fl[hl++]=tm,tm=t,nm=e}function jR(t,e,n){nr[rr++]=_i,nr[rr++]=xi,nr[rr++]=rs,rs=t;var r=_i;t=xi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var a=32-Ir(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_i=1<<32-Ir(e)+i|n<<i|r,xi=a+t}else _i=1<<a|n<<i|r,xi=t}function Yx(t){t.return!==null&&(Po(t,1),jR(t,1,0))}function Qx(t){for(;t===tm;)tm=fl[--hl],fl[hl]=null,nm=fl[--hl],fl[hl]=null;for(;t===rs;)rs=nr[--rr],nr[rr]=null,xi=nr[--rr],nr[rr]=null,_i=nr[--rr],nr[rr]=null}var Hn=null,qn=null,it=!1,Ar=null;function RR(t,e){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _A(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,qn=Da(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:_i,overflow:xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,qn=null,!0):!1;default:return!1}}function Hb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kb(t){if(it){var e=qn;if(e){var n=e;if(!_A(t,e)){if(Hb(t))throw Error(J(418));e=Da(n.nextSibling);var r=Hn;e&&_A(t,e)?RR(r,n):(t.flags=t.flags&-4097|2,it=!1,Hn=t)}}else{if(Hb(t))throw Error(J(418));t.flags=t.flags&-4097|2,it=!1,Hn=t}}}function xA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function Fh(t){if(t!==Hn)return!1;if(!it)return xA(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ub(t.type,t.memoizedProps)),e&&(e=qn)){if(Hb(t))throw DR(),Error(J(418));for(;e;)RR(t,e),e=Da(e.nextSibling)}if(xA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=Da(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Hn?Da(t.stateNode.nextSibling):null;return!0}function DR(){for(var t=qn;t;)t=Da(t.nextSibling)}function Fl(){qn=Hn=null,it=!1}function Xx(t){Ar===null?Ar=[t]:Ar.push(t)}var eU=Qi.ReactCurrentBatchConfig;function bc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Bh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EA(t){var e=t._init;return e(t._payload)}function MR(t){function e(E,_){if(t){var x=E.deletions;x===null?(E.deletions=[_],E.flags|=16):x.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=Va(E,_),E.index=0,E.sibling=null,E}function a(E,_,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<_?(E.flags|=2,_):x):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function s(E,_,x,P){return _===null||_.tag!==6?(_=v0(x,E.mode,P),_.return=E,_):(_=i(_,x),_.return=E,_)}function l(E,_,x,P){var S=x.type;return S===ol?c(E,_,x.props.children,P,x.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pa&&EA(S)===_.type)?(P=i(_,x.props),P.ref=bc(E,_,x),P.return=E,P):(P=Tp(x.type,x.key,x.props,null,E.mode,P),P.ref=bc(E,_,x),P.return=E,P)}function u(E,_,x,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=b0(x,E.mode,P),_.return=E,_):(_=i(_,x.children||[]),_.return=E,_)}function c(E,_,x,P,S){return _===null||_.tag!==7?(_=Qo(x,E.mode,P,S),_.return=E,_):(_=i(_,x),_.return=E,_)}function d(E,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=v0(""+_,E.mode,x),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ch:return x=Tp(_.type,_.key,_.props,null,E.mode,x),x.ref=bc(E,null,_),x.return=E,x;case al:return _=b0(_,E.mode,x),_.return=E,_;case pa:var P=_._init;return d(E,P(_._payload),x)}if(Vc(_)||pc(_))return _=Qo(_,E.mode,x,null),_.return=E,_;Bh(E,_)}return null}function f(E,_,x,P){var S=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:s(E,_,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:return x.key===S?l(E,_,x,P):null;case al:return x.key===S?u(E,_,x,P):null;case pa:return S=x._init,f(E,_,S(x._payload),P)}if(Vc(x)||pc(x))return S!==null?null:c(E,_,x,P,null);Bh(E,x)}return null}function m(E,_,x,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(x)||null,s(_,E,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ch:return E=E.get(P.key===null?x:P.key)||null,l(_,E,P,S);case al:return E=E.get(P.key===null?x:P.key)||null,u(_,E,P,S);case pa:var A=P._init;return m(E,_,x,A(P._payload),S)}if(Vc(P)||pc(P))return E=E.get(x)||null,c(_,E,P,S,null);Bh(_,P)}return null}function g(E,_,x,P){for(var S=null,A=null,T=_,b=_=0,O=null;T!==null&&b<x.length;b++){T.index>b?(O=T,T=null):O=T.sibling;var C=f(E,T,x[b],P);if(C===null){T===null&&(T=O);break}t&&T&&C.alternate===null&&e(E,T),_=a(C,_,b),A===null?S=C:A.sibling=C,A=C,T=O}if(b===x.length)return n(E,T),it&&Po(E,b),S;if(T===null){for(;b<x.length;b++)T=d(E,x[b],P),T!==null&&(_=a(T,_,b),A===null?S=T:A.sibling=T,A=T);return it&&Po(E,b),S}for(T=r(E,T);b<x.length;b++)O=m(T,E,b,x[b],P),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?b:O.key),_=a(O,_,b),A===null?S=O:A.sibling=O,A=O);return t&&T.forEach(function(N){return e(E,N)}),it&&Po(E,b),S}function y(E,_,x,P){var S=pc(x);if(typeof S!="function")throw Error(J(150));if(x=S.call(x),x==null)throw Error(J(151));for(var A=S=null,T=_,b=_=0,O=null,C=x.next();T!==null&&!C.done;b++,C=x.next()){T.index>b?(O=T,T=null):O=T.sibling;var N=f(E,T,C.value,P);if(N===null){T===null&&(T=O);break}t&&T&&N.alternate===null&&e(E,T),_=a(N,_,b),A===null?S=N:A.sibling=N,A=N,T=O}if(C.done)return n(E,T),it&&Po(E,b),S;if(T===null){for(;!C.done;b++,C=x.next())C=d(E,C.value,P),C!==null&&(_=a(C,_,b),A===null?S=C:A.sibling=C,A=C);return it&&Po(E,b),S}for(T=r(E,T);!C.done;b++,C=x.next())C=m(T,E,b,C.value,P),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?b:C.key),_=a(C,_,b),A===null?S=C:A.sibling=C,A=C);return t&&T.forEach(function(R){return e(E,R)}),it&&Po(E,b),S}function v(E,_,x,P){if(typeof x=="object"&&x!==null&&x.type===ol&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:e:{for(var S=x.key,A=_;A!==null;){if(A.key===S){if(S=x.type,S===ol){if(A.tag===7){n(E,A.sibling),_=i(A,x.props.children),_.return=E,E=_;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pa&&EA(S)===A.type){n(E,A.sibling),_=i(A,x.props),_.ref=bc(E,A,x),_.return=E,E=_;break e}n(E,A);break}else e(E,A);A=A.sibling}x.type===ol?(_=Qo(x.props.children,E.mode,P,x.key),_.return=E,E=_):(P=Tp(x.type,x.key,x.props,null,E.mode,P),P.ref=bc(E,_,x),P.return=E,E=P)}return o(E);case al:e:{for(A=x.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(E,_.sibling),_=i(_,x.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=b0(x,E.mode,P),_.return=E,E=_}return o(E);case pa:return A=x._init,v(E,_,A(x._payload),P)}if(Vc(x))return g(E,_,x,P);if(pc(x))return y(E,_,x,P);Bh(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,x),_.return=E,E=_):(n(E,_),_=v0(x,E.mode,P),_.return=E,E=_),o(E)):n(E,_)}return v}var Bl=MR(!0),$R=MR(!1),rm=ro(null),im=null,pl=null,Jx=null;function Zx(){Jx=pl=im=null}function e1(t){var e=rm.current;nt(rm),t._currentValue=e}function Gb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pl(t,e){im=t,Jx=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(Jx!==t)if(t={context:t,memoizedValue:e,next:null},pl===null){if(im===null)throw Error(J(308));pl=t,im.dependencies={lanes:0,firstContext:t}}else pl=pl.next=t;return e}var Bo=null;function t1(t){Bo===null?Bo=[t]:Bo.push(t)}function LR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,t1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fi(t,r)}function Fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ma=!1;function n1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fi(t,n)}return i=r.interleaved,i===null?(e.next=e,t1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fi(t,n)}function bp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bx(t,n)}}function SA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function am(t,e,n,r){var i=t.updateQueue;ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var f=s.lane,m=s.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(f=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=pt({},d,f);break e;case 2:ma=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else m={eventTime:m,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);as|=o,t.lanes=o,t.memoizedState=d}}function TA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Bf={},Yr=ro(Bf),jd=ro(Bf),Rd=ro(Bf);function Uo(t){if(t===Bf)throw Error(J(174));return t}function r1(t,e){switch(Ye(Rd,e),Ye(jd,t),Ye(Yr,Bf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ib(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ib(e,t)}nt(Yr),Ye(Yr,e)}function Ul(){nt(Yr),nt(jd),nt(Rd)}function FR(t){Uo(Rd.current);var e=Uo(Yr.current),n=Ib(e,t.type);e!==n&&(Ye(jd,t),Ye(Yr,n))}function i1(t){jd.current===t&&(nt(Yr),nt(jd))}var ut=ro(0);function om(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var f0=[];function a1(){for(var t=0;t<f0.length;t++)f0[t]._workInProgressVersionPrimary=null;f0.length=0}var wp=Qi.ReactCurrentDispatcher,h0=Qi.ReactCurrentBatchConfig,is=0,ft=null,Ot=null,Lt=null,sm=!1,nd=!1,Dd=0,tU=0;function rn(){throw Error(J(321))}function o1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function s1(t,e,n,r,i,a){if(is=a,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wp.current=t===null||t.memoizedState===null?aU:oU,t=n(r,i),nd){a=0;do{if(nd=!1,Dd=0,25<=a)throw Error(J(301));a+=1,Lt=Ot=null,e.updateQueue=null,wp.current=sU,t=n(r,i)}while(nd)}if(wp.current=lm,e=Ot!==null&&Ot.next!==null,is=0,Lt=Ot=ft=null,sm=!1,e)throw Error(J(300));return t}function l1(){var t=Dd!==0;return Dd=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function mr(){if(Ot===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?ft.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error(J(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Md(t,e){return typeof e=="function"?e(t):e}function p0(t){var e=mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,ft.lanes|=c,as|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,kr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,ft.lanes|=a,as|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function m0(t){var e=mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);kr(a,e.memoizedState)||(Nn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function BR(){}function UR(t,e){var n=ft,r=mr(),i=e(),a=!kr(r.memoizedState,i);if(a&&(r.memoizedState=i,Nn=!0),r=r.queue,u1(WR.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,$d(9,qR.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(J(349));is&30||zR(n,e,i)}return i}function zR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qR(t,e,n,r){e.value=n,e.getSnapshot=r,HR(e)&&KR(t)}function WR(t,e,n){return n(function(){HR(e)&&KR(t)})}function HR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function KR(t){var e=Fi(t,1);e!==null&&Or(e,t,1,-1)}function AA(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},e.queue=t,t=t.dispatch=iU.bind(null,ft,t),[e.memoizedState,t]}function $d(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GR(){return mr().memoizedState}function _p(t,e,n,r){var i=Fr();ft.flags|=t,i.memoizedState=$d(1|e,n,void 0,r===void 0?null:r)}function Gg(t,e,n,r){var i=mr();r=r===void 0?null:r;var a=void 0;if(Ot!==null){var o=Ot.memoizedState;if(a=o.destroy,r!==null&&o1(r,o.deps)){i.memoizedState=$d(e,n,a,r);return}}ft.flags|=t,i.memoizedState=$d(1|e,n,a,r)}function PA(t,e){return _p(8390656,8,t,e)}function u1(t,e){return Gg(2048,8,t,e)}function YR(t,e){return Gg(4,2,t,e)}function QR(t,e){return Gg(4,4,t,e)}function XR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JR(t,e,n){return n=n!=null?n.concat([t]):null,Gg(4,4,XR.bind(null,e,t),n)}function c1(){}function ZR(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&o1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e2(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&o1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t2(t,e,n){return is&21?(kr(n,e)||(n=oR(),ft.lanes|=n,as|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function nU(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=h0.transition;h0.transition={};try{t(!1),e()}finally{Ve=n,h0.transition=r}}function n2(){return mr().memoizedState}function rU(t,e,n){var r=La(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r2(t))i2(e,n);else if(n=LR(t,e,n,r),n!==null){var i=xn();Or(n,t,r,i),a2(n,e,r)}}function iU(t,e,n){var r=La(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r2(t))i2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,kr(s,o)){var l=e.interleaved;l===null?(i.next=i,t1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=LR(t,e,i,r),n!==null&&(i=xn(),Or(n,t,r,i),a2(n,e,r))}}function r2(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function i2(t,e){nd=sm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bx(t,n)}}var lm={readContext:pr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},aU={readContext:pr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:PA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_p(4194308,4,XR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _p(4194308,4,t,e)},useInsertionEffect:function(t,e){return _p(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rU.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:AA,useDebugValue:c1,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=AA(!1),e=t[0];return t=nU.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Fr();if(it){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ft===null)throw Error(J(349));is&30||zR(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,PA(WR.bind(null,r,a,t),[t]),r.flags|=2048,$d(9,qR.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Ft.identifierPrefix;if(it){var n=xi,r=_i;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oU={readContext:pr,useCallback:ZR,useContext:pr,useEffect:u1,useImperativeHandle:JR,useInsertionEffect:YR,useLayoutEffect:QR,useMemo:e2,useReducer:p0,useRef:GR,useState:function(){return p0(Md)},useDebugValue:c1,useDeferredValue:function(t){var e=mr();return t2(e,Ot.memoizedState,t)},useTransition:function(){var t=p0(Md)[0],e=mr().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:UR,useId:n2,unstable_isNewReconciler:!1},sU={readContext:pr,useCallback:ZR,useContext:pr,useEffect:u1,useImperativeHandle:JR,useInsertionEffect:YR,useLayoutEffect:QR,useMemo:e2,useReducer:m0,useRef:GR,useState:function(){return m0(Md)},useDebugValue:c1,useDeferredValue:function(t){var e=mr();return Ot===null?e.memoizedState=t:t2(e,Ot.memoizedState,t)},useTransition:function(){var t=m0(Md)[0],e=mr().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:UR,useId:n2,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yg={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=La(t),a=ki(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ma(t,a,i),e!==null&&(Or(e,t,i,r),bp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=La(t),a=ki(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ma(t,a,i),e!==null&&(Or(e,t,i,r),bp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=La(t),i=ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,r),e!==null&&(Or(e,t,r,n),bp(e,t,r))}};function IA(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Od(n,r)||!Od(i,a):!0}function o2(t,e,n){var r=!1,i=Ya,a=e.contextType;return typeof a=="object"&&a!==null?a=pr(a):(i=Dn(e)?ns:fn.current,r=e.contextTypes,a=(r=r!=null)?Vl(t,i):Ya),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function OA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yg.enqueueReplaceState(e,e.state,null)}function Qb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},n1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=pr(a):(a=Dn(e)?ns:fn.current,i.context=Vl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Yb(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yg.enqueueReplaceState(i,i.state,null),am(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e){try{var n="",r=e;do n+=DB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function g0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lU=typeof WeakMap=="function"?WeakMap:Map;function s2(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cm||(cm=!0,sw=r),Xb(t,e)},n}function l2(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xb(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Xb(t,e),typeof r!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function CA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xU.bind(null,t,e,n),e.then(t,t))}function NA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,Ma(n,e,1))),n.lanes|=1),t)}var uU=Qi.ReactCurrentOwner,Nn=!1;function gn(t,e,n,r){e.child=t===null?$R(e,null,n,r):Bl(e,t.child,n,r)}function jA(t,e,n,r,i){n=n.render;var a=e.ref;return Pl(e,i),r=s1(t,e,n,r,a,i),n=l1(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(it&&n&&Yx(e),e.flags|=1,gn(t,e,r,i),e.child)}function RA(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!v1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,u2(t,e,a,r,i)):(t=Tp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Od,n(o,r)&&t.ref===e.ref)return Bi(t,e,i)}return e.flags|=1,t=Va(a,r),t.ref=e.ref,t.return=e,e.child=t}function u2(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Od(a,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Bi(t,e,i)}return Jb(t,e,n,r,i)}function c2(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(gl,Bn),Bn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(gl,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ye(gl,Bn),Bn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ye(gl,Bn),Bn|=r;return gn(t,e,i,n),e.child}function d2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jb(t,e,n,r,i){var a=Dn(n)?ns:fn.current;return a=Vl(e,a),Pl(e,i),n=s1(t,e,n,r,a,i),r=l1(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(it&&r&&Yx(e),e.flags|=1,gn(t,e,n,i),e.child)}function DA(t,e,n,r,i){if(Dn(n)){var a=!0;em(e)}else a=!1;if(Pl(e,i),e.stateNode===null)xp(t,e),o2(e,n,r),Qb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Dn(n)?ns:fn.current,u=Vl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&OA(e,o,r,u),ma=!1;var f=e.memoizedState;o.state=f,am(e,r,o,i),l=e.memoizedState,s!==r||f!==l||Rn.current||ma?(typeof c=="function"&&(Yb(e,n,c,r),l=e.memoizedState),(s=ma||IA(e,n,s,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VR(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Er(e.type,s),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Dn(n)?ns:fn.current,l=Vl(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||f!==l)&&OA(e,o,r,l),ma=!1,f=e.memoizedState,o.state=f,am(e,r,o,i);var g=e.memoizedState;s!==d||f!==g||Rn.current||ma?(typeof m=="function"&&(Yb(e,n,m,r),g=e.memoizedState),(u=ma||IA(e,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zb(t,e,n,r,a,i)}function Zb(t,e,n,r,i,a){d2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wA(e,n,!1),Bi(t,e,a);r=e.stateNode,uU.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bl(e,t.child,null,a),e.child=Bl(e,null,s,a)):gn(t,e,s,a),e.memoizedState=r.state,i&&wA(e,n,!0),e.child}function f2(t){var e=t.stateNode;e.pendingContext?bA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bA(t,e.context,!1),r1(t,e.containerInfo)}function MA(t,e,n,r,i){return Fl(),Xx(i),e.flags|=256,gn(t,e,n,r),e.child}var ew={dehydrated:null,treeContext:null,retryLane:0};function tw(t){return{baseLanes:t,cachePool:null,transitions:null}}function h2(t,e,n){var r=e.pendingProps,i=ut.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(ut,i&1),t===null)return Kb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Jg(o,r,0,null),t=Qo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=tw(n),e.memoizedState=ew,t):d1(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return cU(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Va(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Va(s,a):(a=Qo(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?tw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=ew,r}return a=t.child,t=a.sibling,r=Va(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function d1(t,e){return e=Jg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uh(t,e,n,r){return r!==null&&Xx(r),Bl(e,t.child,null,n),t=d1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cU(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=g0(Error(J(422))),Uh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Jg({mode:"visible",children:r.children},i,0,null),a=Qo(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Bl(e,t.child,null,o),e.child.memoizedState=tw(o),e.memoizedState=ew,a);if(!(e.mode&1))return Uh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(J(419)),r=g0(a,r,void 0),Uh(t,e,o,r)}if(s=(o&t.childLanes)!==0,Nn||s){if(r=Ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fi(t,i),Or(r,t,i,-1))}return y1(),r=g0(Error(J(421))),Uh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=EU.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,qn=Da(i.nextSibling),Hn=e,it=!0,Ar=null,t!==null&&(nr[rr++]=_i,nr[rr++]=xi,nr[rr++]=rs,_i=t.id,xi=t.overflow,rs=e),e=d1(e,r.children),e.flags|=4096,e)}function $A(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gb(t.return,e,n)}function y0(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function p2(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(gn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$A(t,n,e);else if(t.tag===19)$A(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&om(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),y0(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&om(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}y0(e,!0,n,null,a);break;case"together":y0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Va(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Va(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dU(t,e,n){switch(e.tag){case 3:f2(e),Fl();break;case 5:FR(e);break;case 1:Dn(e.type)&&em(e);break;case 4:r1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(rm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?h2(t,e,n):(Ye(ut,ut.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);Ye(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return p2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,c2(t,e,n)}return Bi(t,e,n)}var m2,nw,g2,y2;m2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nw=function(){};g2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uo(Yr.current);var a=null;switch(n){case"input":i=Sb(t,i),r=Sb(t,r),a=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),a=[];break;case"textarea":i=Pb(t,i),r=Pb(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jp)}Ob(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i?.[u],r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};y2=function(t,e,n,r){n!==r&&(e.flags|=4)};function wc(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fU(t,e,n){var r=e.pendingProps;switch(Qx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Dn(e.type)&&Zp(),an(e),null;case 3:return r=e.stateNode,Ul(),nt(Rn),nt(fn),a1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(cw(Ar),Ar=null))),nw(t,e),an(e),null;case 5:i1(e);var i=Uo(Rd.current);if(n=e.type,t!==null&&e.stateNode!=null)g2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return an(e),null}if(t=Uo(Yr.current),Fh(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Br]=e,r[kd]=a,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<Bc.length;i++)Ze(Bc[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":HT(r,a),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ze("invalid",r);break;case"textarea":GT(r,a),Ze("invalid",r)}Ob(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Vh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Vh(r.textContent,s,t),i=["children",""+s]):xd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Nh(r),KT(r,a,!0);break;case"textarea":Nh(r),YT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Jp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Br]=e,t[kd]=r,m2(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cb(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bc.length;i++)Ze(Bc[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":HT(t,r),i=Sb(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":GT(t,r),i=Pb(t,r),Ze("invalid",t);break;default:i=r}Ob(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?Gj(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hj(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ed(t,l):typeof l=="number"&&Ed(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ze("scroll",t):l!=null&&Dx(t,a,l,o))}switch(n){case"input":Nh(t),KT(t,r,!1);break;case"textarea":Nh(t),YT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ga(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?El(t,!!r.multiple,a,!1):r.defaultValue!=null&&El(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)y2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Uo(Rd.current),Uo(Yr.current),Fh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(a=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:Vh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vh(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return an(e),null;case 13:if(nt(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&qn!==null&&e.mode&1&&!(e.flags&128))DR(),Fl(),e.flags|=98560,a=!1;else if(a=Fh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Br]=e}else Fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),a=!1}else Ar!==null&&(cw(Ar),Ar=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Nt===0&&(Nt=3):y1())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Ul(),nw(t,e),t===null&&Cd(e.stateNode.containerInfo),an(e),null;case 10:return e1(e.type._context),an(e),null;case 17:return Dn(e.type)&&Zp(),an(e),null;case 19:if(nt(ut),a=e.memoizedState,a===null)return an(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)wc(a,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=om(t),o!==null){for(e.flags|=128,wc(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(ut,ut.current&1|2),e.child}t=t.sibling}a.tail!==null&&_t()>ql&&(e.flags|=128,r=!0,wc(a,!1),e.lanes=4194304)}else{if(!r)if(t=om(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!it)return an(e),null}else 2*_t()-a.renderingStartTime>ql&&n!==1073741824&&(e.flags|=128,r=!0,wc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,n=ut.current,Ye(ut,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return g1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function hU(t,e){switch(Qx(e),e.tag){case 1:return Dn(e.type)&&Zp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ul(),nt(Rn),nt(fn),a1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return i1(e),null;case 13:if(nt(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ut),null;case 4:return Ul(),null;case 10:return e1(e.type._context),null;case 22:case 23:return g1(),null;case 24:return null;default:return null}}var zh=!1,ln=!1,pU=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ml(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function rw(t,e,n){try{n()}catch(r){yt(t,e,r)}}var LA=!1;function mU(t,e){if(Fb=Yp,t=xR(),Gx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(s=o),f===a&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bb={focusedElem:t,selectionRange:n},Yp=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:Er(e.type,y),v);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){yt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=LA,LA=!1,g}function rd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&rw(e,n,a)}i=i.next}while(i!==r)}}function Qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v2(t){var e=t.alternate;e!==null&&(t.alternate=null,v2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[kd],delete e[qb],delete e[X6],delete e[J6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function b2(t){return t.tag===5||t.tag===3||t.tag===4}function VA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jp));else if(r!==4&&(t=t.child,t!==null))for(aw(t,e,n),t=t.sibling;t!==null;)aw(t,e,n),t=t.sibling}function ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ow(t,e,n),t=t.sibling;t!==null;)ow(t,e,n),t=t.sibling}var Wt=null,Sr=!1;function oa(t,e,n){for(n=n.child;n!==null;)w2(t,e,n),n=n.sibling}function w2(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Ug,n)}catch{}switch(n.tag){case 5:ln||ml(n,e);case 6:var r=Wt,i=Sr;Wt=null,oa(t,e,n),Wt=r,Sr=i,Wt!==null&&(Sr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Sr?(t=Wt,n=n.stateNode,t.nodeType===8?c0(t.parentNode,n):t.nodeType===1&&c0(t,n),Pd(t)):c0(Wt,n.stateNode));break;case 4:r=Wt,i=Sr,Wt=n.stateNode.containerInfo,Sr=!0,oa(t,e,n),Wt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&rw(n,e,o),i=i.next}while(i!==r)}oa(t,e,n);break;case 1:if(!ln&&(ml(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){yt(n,e,s)}oa(t,e,n);break;case 21:oa(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,oa(t,e,n),ln=r):oa(t,e,n);break;default:oa(t,e,n)}}function FA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pU),e.forEach(function(r){var i=SU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Wt=s.stateNode,Sr=!1;break e;case 3:Wt=s.stateNode.containerInfo,Sr=!0;break e;case 4:Wt=s.stateNode.containerInfo,Sr=!0;break e}s=s.return}if(Wt===null)throw Error(J(160));w2(a,o,i),Wt=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_2(e,t),e=e.sibling}function _2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Vr(t),r&4){try{rd(3,t,t.return),Qg(3,t)}catch(y){yt(t,t.return,y)}try{rd(5,t,t.return)}catch(y){yt(t,t.return,y)}}break;case 1:wr(e,t),Vr(t),r&512&&n!==null&&ml(n,n.return);break;case 5:if(wr(e,t),Vr(t),r&512&&n!==null&&ml(n,n.return),t.flags&32){var i=t.stateNode;try{Ed(i,"")}catch(y){yt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&zj(i,a),Cb(s,o);var u=Cb(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Gj(i,d):c==="dangerouslySetInnerHTML"?Hj(i,d):c==="children"?Ed(i,d):Dx(i,c,d,u)}switch(s){case"input":Tb(i,a);break;case"textarea":qj(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?El(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?El(i,!!a.multiple,a.defaultValue,!0):El(i,!!a.multiple,a.multiple?[]:"",!1))}i[kd]=a}catch(y){yt(t,t.return,y)}}break;case 6:if(wr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){yt(t,t.return,y)}}break;case 3:if(wr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pd(e.containerInfo)}catch(y){yt(t,t.return,y)}break;case 4:wr(e,t),Vr(t);break;case 13:wr(e,t),Vr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(p1=_t())),r&4&&FA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||c,wr(e,t),ln=u):wr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(d=oe=c;oe!==null;){switch(f=oe,m=f.child,f.tag){case 0:case 11:case 14:case 15:rd(4,f,f.return);break;case 1:ml(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){yt(r,n,y)}}break;case 5:ml(f,f.return);break;case 22:if(f.memoizedState!==null){UA(d);continue}}m!==null?(m.return=f,oe=m):UA(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Kj("display",o))}catch(y){yt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){yt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wr(e,t),Vr(t),r&4&&FA(t);break;case 21:break;default:wr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(b2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ed(i,""),r.flags&=-33);var a=VA(t);ow(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=VA(t);aw(t,s,o);break;default:throw Error(J(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gU(t,e,n){oe=t,x2(t)}function x2(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ln;s=zh;var u=ln;if(zh=o,(ln=l)&&!u)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?zA(i):l!==null?(l.return=o,oe=l):zA(i);for(;a!==null;)oe=a,x2(a),a=a.sibling;oe=i,zh=s,ln=u}BA(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oe=a):BA(t)}}function BA(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Qg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&TA(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}TA(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}ln||e.flags&512&&iw(e)}catch(f){yt(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function UA(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function zA(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qg(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var a=e.return;try{iw(e)}catch(l){yt(e,a,l)}break;case 5:var o=e.return;try{iw(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var yU=Math.ceil,um=Qi.ReactCurrentDispatcher,f1=Qi.ReactCurrentOwner,ur=Qi.ReactCurrentBatchConfig,Ne=0,Ft=null,Tt=null,Qt=0,Bn=0,gl=ro(0),Nt=0,Ld=null,as=0,Xg=0,h1=0,id=null,On=null,p1=0,ql=1/0,vi=null,cm=!1,sw=null,$a=null,qh=!1,Pa=null,dm=0,ad=0,lw=null,Ep=-1,Sp=0;function xn(){return Ne&6?_t():Ep!==-1?Ep:Ep=_t()}function La(t){return t.mode&1?Ne&2&&Qt!==0?Qt&-Qt:eU.transition!==null?(Sp===0&&(Sp=oR()),Sp):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:hR(t.type)),t):1}function Or(t,e,n,r){if(50<ad)throw ad=0,lw=null,Error(J(185));Lf(t,n,r),(!(Ne&2)||t!==Ft)&&(t===Ft&&(!(Ne&2)&&(Xg|=n),Nt===4&&va(t,Qt)),Mn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(ql=_t()+500,Kg&&io()))}function Mn(t,e){var n=t.callbackNode;e6(t,e);var r=Gp(t,t===Ft?Qt:0);if(r===0)n!==null&&JT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&JT(n),e===1)t.tag===0?Z6(qA.bind(null,t)):kR(qA.bind(null,t)),Y6(function(){!(Ne&6)&&io()}),n=null;else{switch(sR(r)){case 1:n=Fx;break;case 4:n=iR;break;case 16:n=Kp;break;case 536870912:n=aR;break;default:n=Kp}n=C2(n,E2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E2(t,e){if(Ep=-1,Sp=0,Ne&6)throw Error(J(327));var n=t.callbackNode;if(Il()&&t.callbackNode!==n)return null;var r=Gp(t,t===Ft?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fm(t,r);else{e=r;var i=Ne;Ne|=2;var a=T2();(Ft!==t||Qt!==e)&&(vi=null,ql=_t()+500,Yo(t,e));do try{wU();break}catch(s){S2(t,s)}while(!0);Zx(),um.current=a,Ne=i,Tt!==null?e=0:(Ft=null,Qt=0,e=Nt)}if(e!==0){if(e===2&&(i=Db(t),i!==0&&(r=i,e=uw(t,i))),e===1)throw n=Ld,Yo(t,0),va(t,r),Mn(t,_t()),n;if(e===6)va(t,r);else{if(i=t.current.alternate,!(r&30)&&!vU(i)&&(e=fm(t,r),e===2&&(a=Db(t),a!==0&&(r=a,e=uw(t,a))),e===1))throw n=Ld,Yo(t,0),va(t,r),Mn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Io(t,On,vi);break;case 3:if(va(t,r),(r&130023424)===r&&(e=p1+500-_t(),10<e)){if(Gp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zb(Io.bind(null,t,On,vi),e);break}Io(t,On,vi);break;case 4:if(va(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ir(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yU(r/1960))-r,10<r){t.timeoutHandle=zb(Io.bind(null,t,On,vi),r);break}Io(t,On,vi);break;case 5:Io(t,On,vi);break;default:throw Error(J(329))}}}return Mn(t,_t()),t.callbackNode===n?E2.bind(null,t):null}function uw(t,e){var n=id;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=fm(t,e),t!==2&&(e=On,On=n,e!==null&&cw(e)),t}function cw(t){On===null?On=t:On.push.apply(On,t)}function vU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!kr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function va(t,e){for(e&=~h1,e&=~Xg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function qA(t){if(Ne&6)throw Error(J(327));Il();var e=Gp(t,0);if(!(e&1))return Mn(t,_t()),null;var n=fm(t,e);if(t.tag!==0&&n===2){var r=Db(t);r!==0&&(e=r,n=uw(t,r))}if(n===1)throw n=Ld,Yo(t,0),va(t,e),Mn(t,_t()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,On,vi),Mn(t,_t()),null}function m1(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(ql=_t()+500,Kg&&io())}}function os(t){Pa!==null&&Pa.tag===0&&!(Ne&6)&&Il();var e=Ne;Ne|=1;var n=ur.transition,r=Ve;try{if(ur.transition=null,Ve=1,t)return t()}finally{Ve=r,ur.transition=n,Ne=e,!(Ne&6)&&io()}}function g1(){Bn=gl.current,nt(gl)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G6(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Qx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zp();break;case 3:Ul(),nt(Rn),nt(fn),a1();break;case 5:i1(r);break;case 4:Ul();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:e1(r.type._context);break;case 22:case 23:g1()}n=n.return}if(Ft=t,Tt=t=Va(t.current,null),Qt=Bn=e,Nt=0,Ld=null,h1=Xg=as=0,On=id=null,Bo!==null){for(e=0;e<Bo.length;e++)if(n=Bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Bo=null}return t}function S2(t,e){do{var n=Tt;try{if(Zx(),wp.current=lm,sm){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sm=!1}if(is=0,Lt=Ot=ft=null,nd=!1,Dd=0,f1.current=null,n===null||n.return===null){Nt=1,Ld=e,Tt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=NA(o);if(m!==null){m.flags&=-257,kA(m,o,s,a,e),m.mode&1&&CA(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){CA(a,u,e),y1();break e}l=Error(J(426))}}else if(it&&s.mode&1){var v=NA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),kA(v,o,s,a,e),Xx(zl(l,s));break e}}a=l=zl(l,s),Nt!==4&&(Nt=2),id===null?id=[a]:id.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var E=s2(a,l,e);SA(a,E);break e;case 1:s=l;var _=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($a===null||!$a.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var P=l2(a,s,e);SA(a,P);break e}}a=a.return}while(a!==null)}P2(n)}catch(S){e=S,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function T2(){var t=um.current;return um.current=lm,t===null?lm:t}function y1(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ft===null||!(as&268435455)&&!(Xg&268435455)||va(Ft,Qt)}function fm(t,e){var n=Ne;Ne|=2;var r=T2();(Ft!==t||Qt!==e)&&(vi=null,Yo(t,e));do try{bU();break}catch(i){S2(t,i)}while(!0);if(Zx(),Ne=n,um.current=r,Tt!==null)throw Error(J(261));return Ft=null,Qt=0,Nt}function bU(){for(;Tt!==null;)A2(Tt)}function wU(){for(;Tt!==null&&!WB();)A2(Tt)}function A2(t){var e=O2(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?P2(t):Tt=e,f1.current=null}function P2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hU(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Tt=null;return}}else if(n=fU(n,e,Bn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Nt===0&&(Nt=5)}function Io(t,e,n){var r=Ve,i=ur.transition;try{ur.transition=null,Ve=1,_U(t,e,n,r)}finally{ur.transition=i,Ve=r}return null}function _U(t,e,n,r){do Il();while(Pa!==null);if(Ne&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(t6(t,a),t===Ft&&(Tt=Ft=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qh||(qh=!0,C2(Kp,function(){return Il(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ur.transition,ur.transition=null;var o=Ve;Ve=1;var s=Ne;Ne|=4,f1.current=null,mU(t,n),_2(n,t),B6(Bb),Yp=!!Fb,Bb=Fb=null,t.current=n,gU(n),HB(),Ne=s,Ve=o,ur.transition=a}else t.current=n;if(qh&&(qh=!1,Pa=t,dm=i),a=t.pendingLanes,a===0&&($a=null),YB(n.stateNode),Mn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cm)throw cm=!1,t=sw,sw=null,t;return dm&1&&t.tag!==0&&Il(),a=t.pendingLanes,a&1?t===lw?ad++:(ad=0,lw=t):ad=0,io(),null}function Il(){if(Pa!==null){var t=sR(dm),e=ur.transition,n=Ve;try{if(ur.transition=null,Ve=16>t?16:t,Pa===null)var r=!1;else{if(t=Pa,Pa=null,dm=0,Ne&6)throw Error(J(331));var i=Ne;for(Ne|=4,oe=t.current;oe!==null;){var a=oe,o=a.child;if(oe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:rd(8,c,a)}var d=c.child;if(d!==null)d.return=c,oe=d;else for(;oe!==null;){c=oe;var f=c.sibling,m=c.return;if(v2(c),c===u){oe=null;break}if(f!==null){f.return=m,oe=f;break}oe=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,oe=o;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rd(9,a,a.return)}var E=a.sibling;if(E!==null){E.return=a.return,oe=E;break e}oe=a.return}}var _=t.current;for(oe=_;oe!==null;){o=oe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,oe=x;else e:for(o=_;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qg(9,s)}}catch(S){yt(s,s.return,S)}if(s===o){oe=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,oe=P;break e}oe=s.return}}if(Ne=i,io(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Ug,t)}catch{}r=!0}return r}finally{Ve=n,ur.transition=e}}return!1}function WA(t,e,n){e=zl(n,e),e=s2(t,e,1),t=Ma(t,e,1),e=xn(),t!==null&&(Lf(t,1,e),Mn(t,e))}function yt(t,e,n){if(t.tag===3)WA(t,t,n);else for(;e!==null;){if(e.tag===3){WA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){t=zl(n,t),t=l2(e,t,1),e=Ma(e,t,1),t=xn(),e!==null&&(Lf(e,1,t),Mn(e,t));break}}e=e.return}}function xU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Qt&n)===n&&(Nt===4||Nt===3&&(Qt&130023424)===Qt&&500>_t()-p1?Yo(t,0):h1|=n),Mn(t,e)}function I2(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var n=xn();t=Fi(t,e),t!==null&&(Lf(t,e,n),Mn(t,n))}function EU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I2(t,n)}function SU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),I2(t,n)}var O2;O2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,dU(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,it&&e.flags&1048576&&jR(e,nm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xp(t,e),t=e.pendingProps;var i=Vl(e,fn.current);Pl(e,n),i=s1(null,e,r,t,i,n);var a=l1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(a=!0,em(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n1(e),i.updater=Yg,e.stateNode=i,i._reactInternals=e,Qb(e,r,t,n),e=Zb(null,e,r,!0,a,n)):(e.tag=0,it&&a&&Yx(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AU(r),t=Er(r,t),i){case 0:e=Jb(null,e,r,t,n);break e;case 1:e=DA(null,e,r,t,n);break e;case 11:e=jA(null,e,r,t,n);break e;case 14:e=RA(null,e,r,Er(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),Jb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),DA(t,e,r,i,n);case 3:e:{if(f2(e),t===null)throw Error(J(387));r=e.pendingProps,a=e.memoizedState,i=a.element,VR(t,e),am(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=zl(Error(J(423)),e),e=MA(t,e,r,n,i);break e}else if(r!==i){i=zl(Error(J(424)),e),e=MA(t,e,r,n,i);break e}else for(qn=Da(e.stateNode.containerInfo.firstChild),Hn=e,it=!0,Ar=null,n=$R(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fl(),r===i){e=Bi(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return FR(e),t===null&&Kb(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ub(r,i)?o=null:a!==null&&Ub(r,a)&&(e.flags|=32),d2(t,e),gn(t,e,o,n),e.child;case 6:return t===null&&Kb(e),null;case 13:return h2(t,e,n);case 4:return r1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bl(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),jA(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ye(rm,r._currentValue),r._currentValue=o,a!==null)if(kr(a.value,o)){if(a.children===i.children&&!Rn.current){e=Bi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ki(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Gb(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Gb(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pl(e,n),i=pr(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=Er(r,e.pendingProps),i=Er(r.type,i),RA(t,e,r,i,n);case 15:return u2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Er(r,i),xp(t,e),e.tag=1,Dn(r)?(t=!0,em(e)):t=!1,Pl(e,n),o2(e,r,i),Qb(e,r,i,n),Zb(null,e,r,!0,t,n);case 19:return p2(t,e,n);case 22:return c2(t,e,n)}throw Error(J(156,e.tag))};function C2(t,e){return rR(t,e)}function TU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,e,n,r){return new TU(t,e,n,r)}function v1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AU(t){if(typeof t=="function")return v1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$x)return 11;if(t===Lx)return 14}return 2}function Va(t,e){var n=t.alternate;return n===null?(n=or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tp(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")v1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ol:return Qo(n.children,i,a,e);case Mx:o=8,i|=8;break;case wb:return t=or(12,n,e,i|2),t.elementType=wb,t.lanes=a,t;case _b:return t=or(13,n,e,i),t.elementType=_b,t.lanes=a,t;case xb:return t=or(19,n,e,i),t.elementType=xb,t.lanes=a,t;case Fj:return Jg(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lj:o=10;break e;case Vj:o=9;break e;case $x:o=11;break e;case Lx:o=14;break e;case pa:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=or(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Qo(t,e,n,r){return t=or(7,t,r,e),t.lanes=n,t}function Jg(t,e,n,r){return t=or(22,t,r,e),t.elementType=Fj,t.lanes=n,t.stateNode={isHidden:!1},t}function v0(t,e,n){return t=or(6,t,null,e),t.lanes=n,t}function b0(t,e,n){return e=or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zv(0),this.expirationTimes=Zv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b1(t,e,n,r,i,a,o,s,l){return t=new PU(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=or(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n1(a),t}function IU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N2(t){if(!t)return Ya;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Dn(n))return NR(t,n,e)}return e}function k2(t,e,n,r,i,a,o,s,l){return t=b1(n,r,!0,t,i,a,o,s,l),t.context=N2(null),n=t.current,r=xn(),i=La(n),a=ki(r,i),a.callback=e??null,Ma(n,a,i),t.current.lanes=i,Lf(t,i,r),Mn(t,r),t}function Zg(t,e,n,r){var i=e.current,a=xn(),o=La(i);return n=N2(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ma(i,e,o),t!==null&&(Or(t,i,o,a),bp(t,i,o)),o}function hm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function w1(t,e){HA(t,e),(t=t.alternate)&&HA(t,e)}function OU(){return null}var j2=typeof reportError=="function"?reportError:function(t){console.error(t)};function _1(t){this._internalRoot=t}ey.prototype.render=_1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Zg(t,e,null,null)};ey.prototype.unmount=_1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){Zg(null,t,null,null)}),e[Vi]=null}};function ey(t){this._internalRoot=t}ey.prototype.unstable_scheduleHydration=function(t){if(t){var e=cR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ya.length&&e!==0&&e<ya[n].priority;n++);ya.splice(n,0,t),n===0&&fR(t)}};function x1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KA(){}function CU(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=hm(o);a.call(u)}}var o=k2(e,r,t,0,null,!1,!1,"",KA);return t._reactRootContainer=o,t[Vi]=o.current,Cd(t.nodeType===8?t.parentNode:t),os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=hm(l);s.call(u)}}var l=b1(t,0,!1,null,null,!1,!1,"",KA);return t._reactRootContainer=l,t[Vi]=l.current,Cd(t.nodeType===8?t.parentNode:t),os(function(){Zg(e,l,n,r)}),l}function ny(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=hm(o);s.call(l)}}Zg(e,o,t,i)}else o=CU(n,e,t,i,r);return hm(o)}lR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fc(e.pendingLanes);n!==0&&(Bx(e,n|1),Mn(e,_t()),!(Ne&6)&&(ql=_t()+500,io()))}break;case 13:os(function(){var r=Fi(t,1);if(r!==null){var i=xn();Or(r,t,1,i)}}),w1(t,1)}};Ux=function(t){if(t.tag===13){var e=Fi(t,134217728);if(e!==null){var n=xn();Or(e,t,134217728,n)}w1(t,134217728)}};uR=function(t){if(t.tag===13){var e=La(t),n=Fi(t,e);if(n!==null){var r=xn();Or(n,t,e,r)}w1(t,e)}};cR=function(){return Ve};dR=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};kb=function(t,e,n){switch(e){case"input":if(Tb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hg(r);if(!i)throw Error(J(90));Uj(r),Tb(r,i)}}}break;case"textarea":qj(t,n);break;case"select":e=n.value,e!=null&&El(t,!!n.multiple,e,!1)}};Xj=m1;Jj=os;var NU={usingClientEntryPoint:!1,Events:[Ff,cl,Hg,Yj,Qj,m1]},_c={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kU={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tR(t),t===null?null:t.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||OU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{Ug=Wh.inject(kU),Gr=Wh}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NU;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(e))throw Error(J(200));return IU(t,e,null,n)};Xn.createRoot=function(t,e){if(!x1(t))throw Error(J(299));var n=!1,r="",i=j2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=b1(t,1,!1,null,null,n,!1,r,i),t[Vi]=e.current,Cd(t.nodeType===8?t.parentNode:t),new _1(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=tR(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return os(t)};Xn.hydrate=function(t,e,n){if(!ty(e))throw Error(J(200));return ny(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!x1(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=j2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=k2(e,null,t,1,n??null,i,!1,a,o),t[Vi]=e.current,Cd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ey(e)};Xn.render=function(t,e,n){if(!ty(e))throw Error(J(200));return ny(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!ty(t))throw Error(J(40));return t._reactRootContainer?(os(function(){ny(null,null,t,!1,function(){t._reactRootContainer=null,t[Vi]=null})}),!0):!1};Xn.unstable_batchedUpdates=m1;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ty(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return ny(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function R2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R2)}catch(t){console.error(t)}}R2(),Rj.exports=Xn;var jU=Rj.exports,D2,GA=jU;D2=GA.createRoot,GA.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}var Ia;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ia||(Ia={}));const YA="popstate";function RU(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return dw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pm(i)}return MU(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DU(){return Math.random().toString(36).substr(2,8)}function QA(t,e){return{usr:t.state,key:t.key,idx:e}}function dw(t,e,n,r){return n===void 0&&(n=null),Vd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nu(e):e,{state:n,key:e&&e.key||r||DU()})}function pm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ia.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Vd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=Ia.Pop;let v=c(),E=v==null?null:v-u;u=v,l&&l({action:s,location:y.location,delta:E})}function f(v,E){s=Ia.Push;let _=dw(y.location,v,E);u=c()+1;let x=QA(_,u),P=y.createHref(_);try{o.pushState(x,"",P)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(P)}a&&l&&l({action:s,location:y.location,delta:1})}function m(v,E){s=Ia.Replace;let _=dw(y.location,v,E);u=c();let x=QA(_,u),P=y.createHref(_);o.replaceState(x,"",P),a&&l&&l({action:s,location:y.location,delta:0})}function g(v){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:pm(v);return _=_.replace(/ $/,"%20"),xt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let y={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(YA,d),l=v,()=>{i.removeEventListener(YA,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let E=g(v);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:m,go(v){return o.go(v)}};return y}var XA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XA||(XA={}));function $U(t,e,n){return n===void 0&&(n="/"),LU(t,e,n,!1)}function LU(t,e,n,r){let i=typeof e=="string"?Nu(e):e,a=E1(i.pathname||"/",n);if(a==null)return null;let o=$2(t);VU(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=QU(a);s=GU(o[l],u,r)}return s}function $2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fa([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$2(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:HU(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of L2(a.path))i(a,o,l)}),e}function L2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=L2(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function VU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FU=/^:[\w-]+$/,BU=3,UU=2,zU=1,qU=10,WU=-2,JA=t=>t==="*";function HU(t,e){let n=t.split("/"),r=n.length;return n.some(JA)&&(r+=WU),e&&(r+=UU),n.filter(i=>!JA(i)).reduce((i,a)=>i+(FU.test(a)?BU:a===""?zU:qU),r)}function KU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GU(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=ZA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=ZA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Fa([a,d.pathname]),pathnameBase:e5(Fa([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=Fa([a,d.pathnameBase]))}return o}function ZA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let y=s[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[d];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function YU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),M2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function E1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nu(t):t;return{pathname:n?n.startsWith("/")?n:JU(n,e):e,search:t5(r),hash:n5(i)}}function JU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function w0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S1(t,e){let n=ZU(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function T1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nu(t):(i=Vd({},t),xt(!i.pathname||!i.pathname.includes("?"),w0("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),w0("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),w0("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?e[d]:"/"}let l=XU(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Fa=t=>t.join("/").replace(/\/\/+/g,"/"),e5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const V2=["post","put","patch","delete"];new Set(V2);const i5=["get",...V2];new Set(i5);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}const A1=M.createContext(null),a5=M.createContext(null),ao=M.createContext(null),ry=M.createContext(null),si=M.createContext({outlet:null,matches:[],isDataRoute:!1}),F2=M.createContext(null);function o5(t,e){let{relative:n}=e===void 0?{}:e;ku()||xt(!1);let{basename:r,navigator:i}=M.useContext(ao),{hash:a,pathname:o,search:s}=U2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Fa([r,o])),i.createHref({pathname:l,search:s,hash:a})}function ku(){return M.useContext(ry)!=null}function oo(){return ku()||xt(!1),M.useContext(ry).location}function B2(t){M.useContext(ao).static||M.useLayoutEffect(t)}function so(){let{isDataRoute:t}=M.useContext(si);return t?_5():s5()}function s5(){ku()||xt(!1);let t=M.useContext(A1),{basename:e,future:n,navigator:r}=M.useContext(ao),{matches:i}=M.useContext(si),{pathname:a}=oo(),o=JSON.stringify(S1(i,n.v7_relativeSplatPath)),s=M.useRef(!1);return B2(()=>{s.current=!0}),M.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=T1(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fa([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,a,t])}const l5=M.createContext(null);function u5(t){let e=M.useContext(si).outlet;return e&&M.createElement(l5.Provider,{value:t},e)}function P1(){let{matches:t}=M.useContext(si),e=t[t.length-1];return e?e.params:{}}function U2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(ao),{matches:i}=M.useContext(si),{pathname:a}=oo(),o=JSON.stringify(S1(i,r.v7_relativeSplatPath));return M.useMemo(()=>T1(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function c5(t,e){return d5(t,e)}function d5(t,e,n,r){ku()||xt(!1);let{navigator:i}=M.useContext(ao),{matches:a}=M.useContext(si),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=oo(),c;if(e){var d;let v=typeof e=="string"?Nu(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||xt(!1),c=v}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=$U(t,{pathname:m}),y=g5(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Fa([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Fa([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?M.createElement(ry.Provider,{value:{location:Fd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ia.Pop}},y):y}function f5(){let t=w5(),e=r5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const h5=M.createElement(f5,null);class p5 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(si.Provider,{value:this.props.routeContext},M.createElement(F2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m5(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(A1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(si.Provider,{value:e},r)}function g5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);c>=0||xt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,g=!1,y=null,v=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||h5,l&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),_=()=>{let x;return m?x=y:g?x=v:d.route.Component?x=M.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,M.createElement(m5,{match:d,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?M.createElement(p5,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var z2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(z2||{}),mm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mm||{});function y5(t){let e=M.useContext(A1);return e||xt(!1),e}function v5(t){let e=M.useContext(a5);return e||xt(!1),e}function b5(t){let e=M.useContext(si);return e||xt(!1),e}function q2(t){let e=b5(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function w5(){var t;let e=M.useContext(F2),n=v5(mm.UseRouteError),r=q2(mm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _5(){let{router:t}=y5(z2.UseNavigateStable),e=q2(mm.UseNavigateStable),n=M.useRef(!1);return B2(()=>{n.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fd({fromRouteId:e},a)))},[t,e])}const eP={};function x5(t,e){eP[e]||(eP[e]=!0,console.warn(e))}const tP=(t,e,n)=>x5(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function E5(t,e){t!=null&&t.v7_startTransition||tP("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&tP("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function nP(t){let{to:e,replace:n,state:r,relative:i}=t;ku()||xt(!1);let{future:a,static:o}=M.useContext(ao),{matches:s}=M.useContext(si),{pathname:l}=oo(),u=so(),c=T1(e,S1(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return M.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function S5(t){return u5(t.context)}function xr(t){xt(!1)}function T5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ia.Pop,navigator:a,static:o=!1,future:s}=t;ku()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:a,static:o,future:Fd({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Nu(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,y=M.useMemo(()=>{let v=E1(c,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:m,key:g},navigationType:i}},[l,c,d,f,m,g,i]);return y==null?null:M.createElement(ao.Provider,{value:u},M.createElement(ry.Provider,{children:n,value:y}))}function A5(t){let{children:e,location:n}=t;return c5(fw(e),n)}new Promise(()=>{});function fw(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let a=[...e,i];if(r.type===M.Fragment){n.push.apply(n,fw(r.props.children,a));return}r.type!==xr&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fw(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function P5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O5(t,e){return t.button===0&&(!e||e==="_self")&&!I5(t)}const C5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N5="6";try{window.__reactRouterVersion=N5}catch{}const k5="startTransition",rP=xB[k5];function j5(t){let{basename:e,children:n,future:r,window:i}=t,a=M.useRef();a.current==null&&(a.current=RU({window:i,v5Compat:!0}));let o=a.current,[s,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=M.useCallback(d=>{u&&rP?rP(()=>l(d)):l(d)},[l,u]);return M.useLayoutEffect(()=>o.listen(c),[o,c]),M.useEffect(()=>E5(r),[r]),M.createElement(T5,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const R5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ei=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=P5(e,C5),{basename:m}=M.useContext(ao),g,y=!1;if(typeof u=="string"&&D5.test(u)&&(g=u,R5))try{let x=new URL(window.location.href),P=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=E1(P.pathname,m);P.origin===x.origin&&S!=null?u=S+P.search+P.hash:y=!0}catch{}let v=o5(u,{relative:i}),E=M5(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(x){r&&r(x),x.defaultPrevented||E(x)}return M.createElement("a",hw({},f,{href:g||v,onClick:y||a?r:_,ref:n,target:l}))});var iP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iP||(iP={}));var aP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aP||(aP={}));function M5(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=so(),u=oo(),c=U2(t,{relative:o});return M.useCallback(d=>{if(O5(d,n)){d.preventDefault();let f=r!==void 0?r:pm(u)===pm(c);l(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}let $5={data:""},L5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||$5,V5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,F5=/\/\*[^]*?\*\/|  +/g,oP=/\n+/g,ba=(t,e)=>{let n="",r="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?ba(o,a):a+"{"+ba(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=ba(o,e?e.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ba.p?ba.p(a,o):a+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},gi={},W2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+W2(t[n]);return e}return t},B5=(t,e,n,r,i)=>{let a=W2(t),o=gi[a]||(gi[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!gi[o]){let l=a!==t?t:(u=>{let c,d,f=[{}];for(;c=V5.exec(u.replace(F5,""));)c[4]?f.shift():c[3]?(d=c[3].replace(oP," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][c[1]]=c[2].replace(oP," ").trim();return f[0]})(t);gi[o]=ba(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let s=n&&gi.g?gi.g:null;return n&&(gi.g=gi[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(gi[o],e,r,s),o},U5=(t,e,n)=>t.reduce((r,i,a)=>{let o=e[a];if(o&&o.call){let s=o(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":ba(s,""):s===!1?"":s}return r+i+(o??"")},"");function iy(t){let e=this||{},n=t.call?t(e.p):t;return B5(n.unshift?n.raw?U5(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,L5(e.target),e.g,e.o,e.k)}let H2,pw,mw;iy.bind({g:1});let Ui=iy.bind({k:1});function z5(t,e,n,r){ba.p=e,H2=t,pw=n,mw=r}function lo(t,e){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:pw&&pw()},s),n.o=/ *go\d+/.test(l),s.className=iy.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=s.as||t,delete s.as),mw&&u[0]&&mw(s),H2(u,s)}return i}}var q5=t=>typeof t=="function",gm=(t,e)=>q5(t)?t(e):t,W5=(()=>{let t=0;return()=>(++t).toString()})(),K2=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),H5=20,Ap=new Map,K5=1e3,sP=t=>{if(Ap.has(t))return;let e=setTimeout(()=>{Ap.delete(t),Os({type:4,toastId:t})},K5);Ap.set(t,e)},G5=t=>{let e=Ap.get(t);e&&clearTimeout(e)},gw=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,H5)};case 1:return e.toast.id&&G5(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return t.toasts.find(a=>a.id===n.id)?gw(t,{type:1,toast:n}):gw(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?sP(r):t.toasts.forEach(a=>{sP(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Pp=[],Ip={toasts:[],pausedAt:void 0},Os=t=>{Ip=gw(Ip,t),Pp.forEach(e=>{e(Ip)})},Y5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Q5=(t={})=>{let[e,n]=M.useState(Ip);M.useEffect(()=>(Pp.push(n),()=>{let i=Pp.indexOf(n);i>-1&&Pp.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||t?.duration||Y5[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},X5=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||W5()}),Uf=t=>(e,n)=>{let r=X5(e,t,n);return Os({type:2,toast:r}),r.id},he=(t,e)=>Uf("blank")(t,e);he.error=Uf("error");he.success=Uf("success");he.loading=Uf("loading");he.custom=Uf("custom");he.dismiss=t=>{Os({type:3,toastId:t})};he.remove=t=>Os({type:4,toastId:t});he.promise=(t,e,n)=>{let r=he.loading(e.loading,{...n,...n?.loading});return t.then(i=>(he.success(gm(e.success,i),{id:r,...n,...n?.success}),i)).catch(i=>{he.error(gm(e.error,i),{id:r,...n,...n?.error})}),t};var J5=(t,e)=>{Os({type:1,toast:{id:t,height:e}})},Z5=()=>{Os({type:5,time:Date.now()})},ez=t=>{let{toasts:e,pausedAt:n}=Q5(t);M.useEffect(()=>{if(n)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&he.dismiss(s.id);return}return setTimeout(()=>he.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,n]);let r=M.useCallback(()=>{n&&Os({type:6,time:Date.now()})},[n]),i=M.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(m=>(m.position||u)===(a.position||u)&&m.height),d=c.findIndex(m=>m.id===a.id),f=c.filter((m,g)=>g<d&&m.visible).length;return c.filter(m=>m.visible).slice(...s?[f+1]:[0,f]).reduce((m,g)=>m+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:J5,startPause:Z5,endPause:r,calculateOffset:i}}},tz=Ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nz=Ui`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rz=Ui`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iz=lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,az=Ui`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oz=lo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${az} 1s linear infinite;
`,sz=Ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lz=Ui`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uz=lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cz=lo("div")`
  position: absolute;
`,dz=lo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fz=Ui`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hz=lo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pz=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(hz,null,e):e:n==="blank"?null:M.createElement(dz,null,M.createElement(oz,{...r}),n!=="loading"&&M.createElement(cz,null,n==="error"?M.createElement(iz,{...r}):M.createElement(uz,{...r})))},mz=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gz=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,yz="0%{opacity:0;} 100%{opacity:1;}",vz="0%{opacity:1;} 100%{opacity:0;}",bz=lo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wz=lo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_z=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=K2()?[yz,vz]:[mz(n),gz(n)];return{animation:e?`${Ui(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ui(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xz=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?_z(t.position||e||"top-center",t.visible):{opacity:0},a=M.createElement(pz,{toast:t}),o=M.createElement(wz,{...t.ariaProps},gm(t.message,t));return M.createElement(bz,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:o}):M.createElement(M.Fragment,null,a,o))});z5(M.createElement);var Ez=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=M.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;r(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:a,className:e,style:n},i)},Sz=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:K2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Tz=iy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hh=16,Az=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=ez(n);return M.createElement("div",{style:{position:"fixed",zIndex:9999,top:Hh,left:Hh,right:Hh,bottom:Hh,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(u=>{let c=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),f=Sz(c,d);return M.createElement(Ez,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Tz:"",style:f},u.type==="custom"?gm(u.message,u):i?i(u):M.createElement(xz,{toast:u,position:c}))}))},lP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let f=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new Iz;const f=a<<2|s>>4;if(r.push(f),u!==64){const m=s<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Iz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oz=function(t){const e=G2(t);return Y2.encodeByteArray(e,!0)},ym=function(t){return Oz(t).replace(/\./g,"")},Q2=function(t){try{return Y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=()=>Cz().__FIREBASE_DEFAULTS__,kz=()=>{if(typeof process>"u"||typeof lP>"u")return;const t=lP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q2(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return Nz()||kz()||jz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X2=t=>{var e,n;return(n=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rz=t=>{const e=X2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},J2=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config},Z2=t=>{var e;return(e=ay())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ym(JSON.stringify(n)),ym(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Lz(){var t;const e=(t=ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bz(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tD(){return!Lz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I1(){try{return typeof indexedDB=="object"}catch{return!1}}function nD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function Uz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zz,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cs.prototype.create)}}class Cs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?qz(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Dr(i,s,r)}}function qz(t,e){return t.replace(Wz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Wz=/\{\$([^}]+)}/g;function Hz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(uP(a)&&uP(o)){if(!Bd(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Kz(t,e){const n=new Gz(t,e);return n.subscribe.bind(n)}class Gz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_0),i.error===void 0&&(i.error=_0),i.complete===void 0&&(i.complete=_0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=1e3,Xz=2,Jz=4*60*60*1e3,Zz=.5;function cP(t,e=Qz,n=Xz){const r=e*Math.pow(n,t),i=Math.round(Zz*r*(Math.random()-.5)*2);return Math.min(Jz,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n9(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t9(t){return t===Oo?void 0:t}function n9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const i9={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},a9=Ae.INFO,o9={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},s9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=o9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=a9,this._logHandler=s9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const l9=(t,e)=>e.some(n=>t instanceof n);let dP,fP;function u9(){return dP||(dP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c9(){return fP||(fP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rD=new WeakMap,yw=new WeakMap,iD=new WeakMap,x0=new WeakMap,O1=new WeakMap;function d9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ba(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rD.set(n,t)}).catch(()=>{}),O1.set(e,t),e}function f9(t){if(yw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});yw.set(t,e)}let vw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h9(t){vw=t(vw)}function p9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(E0(this),e,...n);return iD.set(r,e.sort?e.sort():[e]),Ba(r)}:c9().includes(t)?function(...e){return t.apply(E0(this),e),Ba(rD.get(this))}:function(...e){return Ba(t.apply(E0(this),e))}}function m9(t){return typeof t=="function"?p9(t):(t instanceof IDBTransaction&&f9(t),l9(t,u9())?new Proxy(t,vw):t)}function Ba(t){if(t instanceof IDBRequest)return d9(t);if(x0.has(t))return x0.get(t);const e=m9(t);return e!==t&&(x0.set(t,e),O1.set(e,t)),e}const E0=t=>O1.get(t);function g9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ba(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ba(o.result),l.oldVersion,l.newVersion,Ba(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const y9=["get","getKey","getAll","getAllKeys","count"],v9=["put","add","delete","clear"],S0=new Map;function hP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S0.get(e))return S0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=v9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y9.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return S0.set(e,a),a}h9(t=>({...t,get:(e,n,r)=>hP(e,n)||t.get(e,n,r),has:(e,n)=>!!hP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w9(t){const e=t.getComponent();return e?.type==="VERSION"}const bw="@firebase/app",pP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new oy("@firebase/app"),_9="@firebase/app-compat",x9="@firebase/analytics-compat",E9="@firebase/analytics",S9="@firebase/app-check-compat",T9="@firebase/app-check",A9="@firebase/auth",P9="@firebase/auth-compat",I9="@firebase/database",O9="@firebase/data-connect",C9="@firebase/database-compat",N9="@firebase/functions",k9="@firebase/functions-compat",j9="@firebase/installations",R9="@firebase/installations-compat",D9="@firebase/messaging",M9="@firebase/messaging-compat",$9="@firebase/performance",L9="@firebase/performance-compat",V9="@firebase/remote-config",F9="@firebase/remote-config-compat",B9="@firebase/storage",U9="@firebase/storage-compat",z9="@firebase/firestore",q9="@firebase/vertexai-preview",W9="@firebase/firestore-compat",H9="firebase",K9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="[DEFAULT]",G9={[bw]:"fire-core",[_9]:"fire-core-compat",[E9]:"fire-analytics",[x9]:"fire-analytics-compat",[T9]:"fire-app-check",[S9]:"fire-app-check-compat",[A9]:"fire-auth",[P9]:"fire-auth-compat",[I9]:"fire-rtdb",[O9]:"fire-data-connect",[C9]:"fire-rtdb-compat",[N9]:"fire-fn",[k9]:"fire-fn-compat",[j9]:"fire-iid",[R9]:"fire-iid-compat",[D9]:"fire-fcm",[M9]:"fire-fcm-compat",[$9]:"fire-perf",[L9]:"fire-perf-compat",[V9]:"fire-rc",[F9]:"fire-rc-compat",[B9]:"fire-gcs",[U9]:"fire-gcs-compat",[z9]:"fire-fst",[W9]:"fire-fst-compat",[q9]:"fire-vertex","fire-js":"fire-js",[H9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map,Y9=new Map,_w=new Map;function mP(t,e){try{t.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(_w.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;_w.set(e,t);for(const n of vm.values())mP(n,t);for(const n of Y9.values())mP(n,t);return!0}function Ns(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new Cs("app","Firebase",Q9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=K9;function aD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ww,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ua.create("bad-app-name",{appName:String(i)});if(n||(n=J2()),!n)throw Ua.create("no-options");const a=vm.get(i);if(a){if(Bd(n,a.options)&&Bd(r,a.config))return a;throw Ua.create("duplicate-app",{appName:i})}const o=new r9(i);for(const l of _w.values())o.addComponent(l);const s=new X9(n,r,o);return vm.set(i,s),s}function C1(t=ww){const e=vm.get(t);if(!e&&t===ww&&J2())return aD();if(!e)throw Ua.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let i=(r=G9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(s.join(" "));return}ti(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="firebase-heartbeat-database",Z9=1,Ud="firebase-heartbeat-store";let T0=null;function oD(){return T0||(T0=g9(J9,Z9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ud)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),T0}async function e8(t){try{const n=(await oD()).transaction(Ud),r=await n.objectStore(Ud).get(sD(t));return await n.done,r}catch(e){if(e instanceof Dr)zi.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e?.message});zi.warn(n.message)}}}async function gP(t,e){try{const r=(await oD()).transaction(Ud,"readwrite");await r.objectStore(Ud).put(e,sD(t)),await r.done}catch(n){if(n instanceof Dr)zi.warn(n.message);else{const r=Ua.create("idb-set",{originalErrorMessage:n?.message});zi.warn(r.message)}}}function sD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=1024,n8=30*24*60*60*1e3;class r8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=n8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yP(),{heartbeatsToSend:r,unsentEntries:i}=i8(this._heartbeatsCache.heartbeats),a=ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return zi.warn(n),""}}}function yP(){return new Date().toISOString().substring(0,10)}function i8(t,e=t8){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),vP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I1()?nD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vP(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){ti(new jr("platform-logger",e=>new b9(e),"PRIVATE")),ti(new jr("heartbeat",e=>new r8(e),"PRIVATE")),cr(bw,pP,t),cr(bw,pP,"esm2017"),cr("fire-js","")}o8("");function N1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s8=lD,uD=new Cs("auth","Firebase",lD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new oy("@firebase/auth");function l8(t,...e){bm.logLevel<=Ae.WARN&&bm.warn(`Auth (${ju}): ${t}`,...e)}function Op(t,...e){bm.logLevel<=Ae.ERROR&&bm.error(`Auth (${ju}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw k1(t,...e)}function Qr(t,...e){return k1(t,...e)}function cD(t,e,n){const r=Object.assign(Object.assign({},s8()),{[e]:n});return new Cs("auth","Firebase",r).create(e,{appName:t.name})}function za(t){return cD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uD.create(t,...e)}function pe(t,e,...n){if(!t)throw k1(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Op(e),new Error(e)}function qi(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u8(){return bP()==="http:"||bP()==="https:"}function bP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u8()||eD()||"connection"in navigator)?navigator.onLine:!0}function d8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=$z()||Fz()}get(){return c8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=new qf(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function li(t,e,n,r,i={}){return fD(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=zf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return Vz()||(u.referrerPolicy="no-referrer"),dD.fetch()(hD(t,t.config.apiHost,n,s),u)})}async function fD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},f8),e);try{const i=new m8(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Kh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cD(t,c,u);Rr(t,c)}}catch(i){if(i instanceof Dr)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function sy(t,e,n,r,i={}){const a=await li(t,e,n,r,i);return"mfaPendingCredential"in a&&Rr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function hD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j1(t.config,i):`${t.config.apiScheme}://${i}`}function p8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),h8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function wP(t){return t!==void 0&&t.enterprise!==void 0}class g8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function y8(t,e){return li(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(t,e){return li(t,"POST","/v1/accounts:delete",e)}async function pD(t,e){return li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b8(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=R1(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:od(A0(i.auth_time)),issuedAtTime:od(A0(i.iat)),expirationTime:od(A0(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function A0(t){return Number(t)*1e3}function R1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Op("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q2(n);return i?JSON.parse(i):(Op("Failed to decode base64 JWT payload"),null)}catch(i){return Op("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _P(t){const e=R1(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&w8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function w8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ss(t,pD(n,{idToken:r}));pe(i?.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?mD(a.providerUserInfo):[],s=E8(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!s?.length,c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Ew(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function x8(t){const e=Xe(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mD(t){return t.map(e=>{var{providerId:n}=e,r=N1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(t,e){const n=await fD(t,{},async()=>{const r=zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=hD(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",dD.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T8(t,e){return li(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_P(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=_P(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await S8(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ol;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=N1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ew(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ss(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b8(this,e)}reload(){return x8(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await ss(this,v8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:P,isAnonymous:S,providerData:A,stsTokenManager:T}=n;pe(x&&T,e,"internal-error");const b=Ol.fromJSON(this.name,T);pe(typeof x=="string",e,"internal-error"),sa(d,e.name),sa(f,e.name),pe(typeof P=="boolean",e,"internal-error"),pe(typeof S=="boolean",e,"internal-error"),sa(m,e.name),sa(g,e.name),sa(y,e.name),sa(v,e.name),sa(E,e.name),sa(_,e.name);const O=new Ai({uid:x,auth:e,email:f,emailVerified:P,displayName:d,isAnonymous:S,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:b,createdAt:E,lastLoginAt:_});return A&&Array.isArray(A)&&(O.providerData=A.map(C=>Object.assign({},C))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const a=new Ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?mD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,s=new Ol;s.updateFromIdToken(r);const l=new Ai({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ew(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new Map;function Pi(t){qi(t instanceof Function,"Expected a class definition");let e=xP.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gD.type="NONE";const EP=gD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Cp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Cp("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cl(Pi(EP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Pi(EP);const o=Cp(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ai._fromJSON(e,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Cl(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Cl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xD(e))return"Blackberry";if(ED(e))return"Webos";if(vD(e))return"Safari";if((e.includes("chrome/")||bD(e))&&!e.includes("edge/"))return"Chrome";if(_D(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yD(t=jt()){return/firefox\//i.test(t)}function vD(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bD(t=jt()){return/crios\//i.test(t)}function wD(t=jt()){return/iemobile/i.test(t)}function _D(t=jt()){return/android/i.test(t)}function xD(t=jt()){return/blackberry/i.test(t)}function ED(t=jt()){return/webos/i.test(t)}function D1(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A8(t=jt()){var e;return D1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P8(){return Bz()&&document.documentMode===10}function SD(t=jt()){return D1(t)||_D(t)||ED(t)||xD(t)||/windows phone/i.test(t)||wD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e=[]){let n;switch(t){case"Browser":n=SP(jt());break;case"Worker":n=`${SP(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ju}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e={}){return li(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=6;class N8{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:C8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TP(this),this.idTokenSubscription=new TP(this),this.beforeStateQueue=new I8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pD(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&l?.user&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(za(this));const n=e?Xe(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O8(this),n=new N8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&l8(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ru(t){return Xe(t)}class TP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kz(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j8(t){ly=t}function AD(t){return ly.loadJS(t)}function R8(){return ly.recaptchaEnterpriseScript}function D8(){return ly.gapiScript}function M8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $8="recaptcha-enterprise",L8="NO_RECAPTCHA";class V8{constructor(e){this.type=$8,this.auth=Ru(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{y8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new g8(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;wP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(L8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&wP(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R8();l.length!==0&&(l+=s),AD(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function AP(t,e,n,r=!1){const i=new V8(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function PP(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await AP(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await AP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t,e){const n=Ns(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Bd(a,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function B8(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function U8(t,e,n){const r=Ru(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=PD(e),{host:o,port:s}=z8(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),q8()}function PD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z8(t){const e=PD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:IP(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:IP(o)}}}function IP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function q8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function W8(t,e){return li(t,"POST","/v1/accounts:update",e)}async function H8(t,e){return li(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e){return sy(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){return sy(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function Y8(t,e){return sy(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends M1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PP(e,n,"signInWithPassword",K8);case"emailLink":return G8(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PP(e,r,"signUpPassword",H8);case"emailLink":return Y8(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e){return sy(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="http://localhost";class ls extends M1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=N1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ls(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nl(e,n)}buildRequest(){const e={requestUri:Q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J8(t){const e=Uc(zc(t)).link,n=e?Uc(zc(e)).deep_link_id:null,r=Uc(zc(t)).deep_link_id;return(r?Uc(zc(r)).link:null)||r||n||e||t}class $1{constructor(e){var n,r,i,a,o,s;const l=Uc(zc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=X8((i=l.mode)!==null&&i!==void 0?i:null);pe(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=J8(e);try{return new $1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return zd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$1.parseLink(n);return pe(r,"argument-error"),zd._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends ID{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Wf{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _a.credential(n,r)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Wf{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.GITHUB_SIGN_IN_METHOD="github.com";xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Wf{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ai._fromIdTokenResponse(e,r,i),o=OP(r);return new Wl({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=OP(r);return new Wl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function OP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends Dr{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _m(e,n,r,i)}}function OD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,a,e,r):a})}async function Z8(t,e,n=!1){const r=await ss(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e,n=!1){const{auth:r}=t;if(Si(r.app))return Promise.reject(za(r));const i="reauthenticate";try{const a=await ss(t,OD(r,i,e,t),n);pe(a.idToken,r,"internal-error");const o=R1(a.idToken);pe(o,r,"internal-error");const{sub:s}=o;return pe(t.uid===s,r,"user-mismatch"),Wl._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e,n=!1){if(Si(t.app))return Promise.reject(za(t));const r="signIn",i=await OD(t,r,e),a=await Wl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function eq(t,e){return ND(Ru(t),e)}async function kD(t,e){return CD(Xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq(t){const e=Ru(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function nq(t,e,n){return Si(t.app)?Promise.reject(za(t)):eq(Xe(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tq(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rq(t,e){return li(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xe(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ss(r,rq(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function RD(t,e){return iq(Xe(t),null,e)}async function iq(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const o=await ss(t,W8(r,a));await t._updateTokensIfNecessary(o,!0)}function aq(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function oq(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function sq(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function lq(t){return Xe(t).signOut()}const xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xm,"1"),this.storage.removeItem(xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=1e3,cq=10;class MD extends DD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);P8()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MD.type="LOCAL";const dq=MD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D extends DD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$D.type="SESSION";const LD=$D;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await fq(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=L1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(f.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function pq(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function mq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gq(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yq(){return VD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="firebaseLocalStorageDb",vq=1,Em="firebaseLocalStorage",BD="fbase_key";class Hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cy(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function bq(){const t=indexedDB.deleteDatabase(FD);return new Hf(t).toPromise()}function Sw(){const t=indexedDB.open(FD,vq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Em,{keyPath:BD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Em)?e(r):(r.close(),await bq(),e(await Sw()))})})}async function CP(t,e,n){const r=cy(t,!0).put({[BD]:e,value:n});return new Hf(r).toPromise()}async function wq(t,e){const n=cy(t,!1).get(e),r=await new Hf(n).toPromise();return r===void 0?null:r.value}function NP(t,e){const n=cy(t,!0).delete(e);return new Hf(n).toPromise()}const _q=800,xq=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uy._getInstance(yq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mq(),!this.activeServiceWorker)return;this.sender=new hq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sw();return await CP(e,xm,"1"),await NP(e,xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=cy(i,!1).getAll();return new Hf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_q)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const Eq=UD;new qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t,e){return e?Pi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends M1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Tq(t){return ND(t.auth,new V1(t),t.bypassAuthState)}function Aq(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),CD(n,new V1(t),t.bypassAuthState)}async function Pq(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),Z8(n,new V1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tq;case"linkViaPopup":case"linkViaRedirect":return Pq;case"reauthViaPopup":case"reauthViaRedirect":return Aq;default:Rr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=new qf(2e3,1e4);class yl extends zD{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=L1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Iq.get())};e()}}yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="pendingRedirect",Np=new Map;class Cq extends zD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Np.get(this.auth._key());if(!e){try{const r=await Nq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Np.set(this.auth._key(),e)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nq(t,e){const n=Rq(e),r=jq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kq(t,e){Np.set(t._key(),e)}function jq(t){return Pi(t._redirectPersistence)}function Rq(t){return Cp(Oq,t.config.apiKey,t.name)}async function Dq(t,e,n=!1){if(Si(t.app))return Promise.reject(za(t));const r=Ru(t),i=Sq(r,e),o=await new Cq(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=10*60*1e3;class $q{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mq&&this.cachedEventUids.clear(),this.cachedEventUids.has(kP(e))}saveEventToCache(e){this.cachedEventUids.add(kP(e)),this.lastProcessedEventTime=Date.now()}}function kP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Lq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(t,e={}){return li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bq=/^https?/;async function Uq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Vq(t);for(const n of e)try{if(zq(n))return}catch{}Rr(t,"unauthorized-domain")}function zq(t){const e=xw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Bq.test(n))return!1;if(Fq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=new qf(3e4,6e4);function jP(){const t=Xr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Wq(t){return new Promise((e,n)=>{var r,i,a;function o(){jP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jP(),n(Qr(t,"network-request-failed"))},timeout:qq.get()})}if(!((i=(r=Xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Xr().gapi)===null||a===void 0)&&a.load)o();else{const s=M8("iframefcb");return Xr()[s]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},AD(`${D8()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw kp=null,e})}let kp=null;function Hq(t){return kp=kp||Wq(t),kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new qf(5e3,15e3),Gq="__/auth/iframe",Yq="emulator/auth/iframe",Qq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jq(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j1(e,Yq):`https://${t.config.authDomain}/${Gq}`,r={apiKey:e.apiKey,appName:t.name,v:ju},i=Xq.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${zf(r).slice(1)}`}async function Zq(t){const e=await Hq(t),n=Xr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:Jq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qq,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),s=Xr().setTimeout(()=>{a(o)},Kq.get());function l(){Xr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t7=500,n7=600,r7="_blank",i7="http://localhost";class RP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a7(t,e,n,r=t7,i=n7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},e7),{width:r.toString(),height:i.toString(),top:a,left:o}),u=jt().toLowerCase();n&&(s=bD(u)?r7:n),yD(u)&&(e=e||i7,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(A8(u)&&s!=="_self")return o7(e||"",s),new RP(null);const d=window.open(e||"",s,c);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new RP(d)}function o7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="__/auth/handler",l7="emulator/auth/handler",u7=encodeURIComponent("fac");async function DP(t,e,n,r,i,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ju,eventId:i};if(e instanceof ID){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Wf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${u7}=${encodeURIComponent(l)}`:"";return`${c7(t)}?${zf(s).slice(1)}${u}`}function c7({config:t}){return t.emulator?j1(t,l7):`https://${t.authDomain}/${s7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="webStorageSupport";class d7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LD,this._completeRedirectFn=Dq,this._overrideRedirectResult=kq}async _openPopup(e,n,r,i){var a;qi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await DP(e,n,r,xw(),i);return a7(e,o,L1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await DP(e,n,r,xw(),i);return pq(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(qi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Zq(e),r=new $q(e);return n.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(P0,{type:P0},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[P0];o!==void 0&&n(!!o),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SD()||vD()||D1()}}const f7=d7;var MP="@firebase/auth",$P="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m7(t){ti(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TD(t)},u=new k8(r,i,a,l);return B8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new jr("auth-internal",e=>{const n=Ru(e.getProvider("auth").getImmediate());return(r=>new h7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(MP,$P,p7(t)),cr(MP,$P,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=5*60,y7=Z2("authIdTokenMaxAge")||g7;let LP=null;const v7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y7)return;const i=n?.token;LP!==i&&(LP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function b7(t=C1()){const e=Ns(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F8(t,{popupRedirectResolver:f7,persistence:[Eq,dq,LD]}),r=Z2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=v7(a.toString());oq(n,o,()=>o(n.currentUser)),aq(n,s=>o(s))}}const i=X2("auth");return i&&U8(n,`http://${i}`),n}function w7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}j8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Qr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",w7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m7("Browser");var VP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,WD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function O(){}O.prototype=b.prototype,T.D=b.prototype,T.prototype=new O,T.prototype.constructor=T,T.C=function(C,N,R){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return b.prototype[N].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,O){O||(O=0);var C=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)C[N]=b.charCodeAt(O++)|b.charCodeAt(O++)<<8|b.charCodeAt(O++)<<16|b.charCodeAt(O++)<<24;else for(N=0;16>N;++N)C[N]=b[O++]|b[O++]<<8|b[O++]<<16|b[O++]<<24;b=T.g[0],O=T.g[1],N=T.g[2];var R=T.g[3],k=b+(R^O&(N^R))+C[0]+3614090360&4294967295;b=O+(k<<7&4294967295|k>>>25),k=R+(N^b&(O^N))+C[1]+3905402710&4294967295,R=b+(k<<12&4294967295|k>>>20),k=N+(O^R&(b^O))+C[2]+606105819&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(b^N&(R^b))+C[3]+3250441966&4294967295,O=N+(k<<22&4294967295|k>>>10),k=b+(R^O&(N^R))+C[4]+4118548399&4294967295,b=O+(k<<7&4294967295|k>>>25),k=R+(N^b&(O^N))+C[5]+1200080426&4294967295,R=b+(k<<12&4294967295|k>>>20),k=N+(O^R&(b^O))+C[6]+2821735955&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(b^N&(R^b))+C[7]+4249261313&4294967295,O=N+(k<<22&4294967295|k>>>10),k=b+(R^O&(N^R))+C[8]+1770035416&4294967295,b=O+(k<<7&4294967295|k>>>25),k=R+(N^b&(O^N))+C[9]+2336552879&4294967295,R=b+(k<<12&4294967295|k>>>20),k=N+(O^R&(b^O))+C[10]+4294925233&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(b^N&(R^b))+C[11]+2304563134&4294967295,O=N+(k<<22&4294967295|k>>>10),k=b+(R^O&(N^R))+C[12]+1804603682&4294967295,b=O+(k<<7&4294967295|k>>>25),k=R+(N^b&(O^N))+C[13]+4254626195&4294967295,R=b+(k<<12&4294967295|k>>>20),k=N+(O^R&(b^O))+C[14]+2792965006&4294967295,N=R+(k<<17&4294967295|k>>>15),k=O+(b^N&(R^b))+C[15]+1236535329&4294967295,O=N+(k<<22&4294967295|k>>>10),k=b+(N^R&(O^N))+C[1]+4129170786&4294967295,b=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(b^O))+C[6]+3225465664&4294967295,R=b+(k<<9&4294967295|k>>>23),k=N+(b^O&(R^b))+C[11]+643717713&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^b&(N^R))+C[0]+3921069994&4294967295,O=N+(k<<20&4294967295|k>>>12),k=b+(N^R&(O^N))+C[5]+3593408605&4294967295,b=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(b^O))+C[10]+38016083&4294967295,R=b+(k<<9&4294967295|k>>>23),k=N+(b^O&(R^b))+C[15]+3634488961&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^b&(N^R))+C[4]+3889429448&4294967295,O=N+(k<<20&4294967295|k>>>12),k=b+(N^R&(O^N))+C[9]+568446438&4294967295,b=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(b^O))+C[14]+3275163606&4294967295,R=b+(k<<9&4294967295|k>>>23),k=N+(b^O&(R^b))+C[3]+4107603335&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^b&(N^R))+C[8]+1163531501&4294967295,O=N+(k<<20&4294967295|k>>>12),k=b+(N^R&(O^N))+C[13]+2850285829&4294967295,b=O+(k<<5&4294967295|k>>>27),k=R+(O^N&(b^O))+C[2]+4243563512&4294967295,R=b+(k<<9&4294967295|k>>>23),k=N+(b^O&(R^b))+C[7]+1735328473&4294967295,N=R+(k<<14&4294967295|k>>>18),k=O+(R^b&(N^R))+C[12]+2368359562&4294967295,O=N+(k<<20&4294967295|k>>>12),k=b+(O^N^R)+C[5]+4294588738&4294967295,b=O+(k<<4&4294967295|k>>>28),k=R+(b^O^N)+C[8]+2272392833&4294967295,R=b+(k<<11&4294967295|k>>>21),k=N+(R^b^O)+C[11]+1839030562&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^b)+C[14]+4259657740&4294967295,O=N+(k<<23&4294967295|k>>>9),k=b+(O^N^R)+C[1]+2763975236&4294967295,b=O+(k<<4&4294967295|k>>>28),k=R+(b^O^N)+C[4]+1272893353&4294967295,R=b+(k<<11&4294967295|k>>>21),k=N+(R^b^O)+C[7]+4139469664&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^b)+C[10]+3200236656&4294967295,O=N+(k<<23&4294967295|k>>>9),k=b+(O^N^R)+C[13]+681279174&4294967295,b=O+(k<<4&4294967295|k>>>28),k=R+(b^O^N)+C[0]+3936430074&4294967295,R=b+(k<<11&4294967295|k>>>21),k=N+(R^b^O)+C[3]+3572445317&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^b)+C[6]+76029189&4294967295,O=N+(k<<23&4294967295|k>>>9),k=b+(O^N^R)+C[9]+3654602809&4294967295,b=O+(k<<4&4294967295|k>>>28),k=R+(b^O^N)+C[12]+3873151461&4294967295,R=b+(k<<11&4294967295|k>>>21),k=N+(R^b^O)+C[15]+530742520&4294967295,N=R+(k<<16&4294967295|k>>>16),k=O+(N^R^b)+C[2]+3299628645&4294967295,O=N+(k<<23&4294967295|k>>>9),k=b+(N^(O|~R))+C[0]+4096336452&4294967295,b=O+(k<<6&4294967295|k>>>26),k=R+(O^(b|~N))+C[7]+1126891415&4294967295,R=b+(k<<10&4294967295|k>>>22),k=N+(b^(R|~O))+C[14]+2878612391&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~b))+C[5]+4237533241&4294967295,O=N+(k<<21&4294967295|k>>>11),k=b+(N^(O|~R))+C[12]+1700485571&4294967295,b=O+(k<<6&4294967295|k>>>26),k=R+(O^(b|~N))+C[3]+2399980690&4294967295,R=b+(k<<10&4294967295|k>>>22),k=N+(b^(R|~O))+C[10]+4293915773&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~b))+C[1]+2240044497&4294967295,O=N+(k<<21&4294967295|k>>>11),k=b+(N^(O|~R))+C[8]+1873313359&4294967295,b=O+(k<<6&4294967295|k>>>26),k=R+(O^(b|~N))+C[15]+4264355552&4294967295,R=b+(k<<10&4294967295|k>>>22),k=N+(b^(R|~O))+C[6]+2734768916&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~b))+C[13]+1309151649&4294967295,O=N+(k<<21&4294967295|k>>>11),k=b+(N^(O|~R))+C[4]+4149444226&4294967295,b=O+(k<<6&4294967295|k>>>26),k=R+(O^(b|~N))+C[11]+3174756917&4294967295,R=b+(k<<10&4294967295|k>>>22),k=N+(b^(R|~O))+C[2]+718787259&4294967295,N=R+(k<<15&4294967295|k>>>17),k=O+(R^(N|~b))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var O=b-this.blockSize,C=this.B,N=this.h,R=0;R<b;){if(N==0)for(;R<=O;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<b;)if(C[N++]=T.charCodeAt(R++),N==this.blockSize){i(this,C),N=0;break}}else for(;R<b;)if(C[N++]=T[R++],N==this.blockSize){i(this,C),N=0;break}}this.h=N,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var O=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=O&255,O/=256;for(this.u(T),T=Array(16),b=O=0;4>b;++b)for(var C=0;32>C;C+=8)T[O++]=this.g[b]>>>C&255;return T};function a(T,b){var O=s;return Object.prototype.hasOwnProperty.call(O,T)?O[T]:O[T]=b(T)}function o(T,b){this.h=b;for(var O=[],C=!0,N=T.length-1;0<=N;N--){var R=T[N]|0;C&&R==b||(O[N]=R,C=!1)}this.g=O}var s={};function l(T){return-128<=T&&128>T?a(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(u(-T));for(var b=[],O=1,C=0;T>=O;C++)b[C]=T/O|0,O*=4294967296;return new o(b,0)}function c(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return v(c(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(b,8)),C=d,N=0;N<T.length;N+=8){var R=Math.min(8,T.length-N),k=parseInt(T.substring(N,N+R),b);8>R?(R=u(Math.pow(b,R)),C=C.j(R).add(u(k))):(C=C.j(O),C=C.add(u(k)))}return C}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var T=0,b=1,O=0;O<this.g.length;O++){var C=this.i(O);T+=(0<=C?C:4294967296+C)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(y(this))return"-"+v(this).toString(T);for(var b=u(Math.pow(T,6)),O=this,C="";;){var N=P(O,b).g;O=E(O,N.j(b));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(T);if(O=N,g(O))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=E(this,T),y(T)?-1:g(T)?0:1};function v(T){for(var b=T.g.length,O=[],C=0;C<b;C++)O[C]=~T.g[C];return new o(O,~T.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),O=[],C=0,N=0;N<=b;N++){var R=C+(this.i(N)&65535)+(T.i(N)&65535),k=(R>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);C=k>>>16,R&=65535,k&=65535,O[N]=k<<16|R}return new o(O,O[O.length-1]&-2147483648?-1:0)};function E(T,b){return T.add(v(b))}t.j=function(T){if(g(this)||g(T))return d;if(y(this))return y(T)?v(this).j(v(T)):v(v(this).j(T));if(y(T))return v(this.j(v(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,O=[],C=0;C<2*b;C++)O[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<T.g.length;N++){var R=this.i(C)>>>16,k=this.i(C)&65535,B=T.i(N)>>>16,U=T.i(N)&65535;O[2*C+2*N]+=k*U,_(O,2*C+2*N),O[2*C+2*N+1]+=R*U,_(O,2*C+2*N+1),O[2*C+2*N+1]+=k*B,_(O,2*C+2*N+1),O[2*C+2*N+2]+=R*B,_(O,2*C+2*N+2)}for(C=0;C<b;C++)O[C]=O[2*C+1]<<16|O[2*C];for(C=b;C<2*b;C++)O[C]=0;return new o(O,0)};function _(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function x(T,b){this.g=T,this.h=b}function P(T,b){if(g(b))throw Error("division by zero");if(g(T))return new x(d,d);if(y(T))return b=P(v(T),b),new x(v(b.g),v(b.h));if(y(b))return b=P(T,v(b)),new x(v(b.g),b.h);if(30<T.g.length){if(y(T)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var O=f,C=b;0>=C.l(T);)O=S(O),C=S(C);var N=A(O,1),R=A(C,1);for(C=A(C,2),O=A(O,2);!g(C);){var k=R.add(C);0>=k.l(T)&&(N=N.add(O),R=k),C=A(C,1),O=A(O,1)}return b=E(T,N.j(b)),new x(N,b)}for(N=d;0<=T.l(b);){for(O=Math.max(1,Math.floor(T.m()/b.m())),C=Math.ceil(Math.log(O)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=u(O),k=R.j(b);y(k)||0<k.l(T);)O-=C,R=u(O),k=R.j(b);g(R)&&(R=f),N=N.add(R),T=E(T,k)}return new x(N,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),O=[],C=0;C<b;C++)O[C]=this.i(C)&T.i(C);return new o(O,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),O=[],C=0;C<b;C++)O[C]=this.i(C)|T.i(C);return new o(O,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),O=[],C=0;C<b;C++)O[C]=this.i(C)^T.i(C);return new o(O,this.h^T.h)};function S(T){for(var b=T.g.length+1,O=[],C=0;C<b;C++)O[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(O,T.h)}function A(T,b){var O=b>>5;b%=32;for(var C=T.g.length-O,N=[],R=0;R<C;R++)N[R]=0<b?T.i(R+O)>>>b|T.i(R+O+1)<<32-b:T.i(R+O);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Xo=o}).apply(typeof VP<"u"?VP:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HD,qc,KD,jp,Tw,GD,YD,QD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,I){return h==Array.prototype||h==Object.prototype||(h[w]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var w=0;w<h.length;++w){var I=h[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var I=r;h=h.split(".");for(var j=0;j<h.length-1;j++){var $=h[j];if(!($ in I))break e;I=I[$]}h=h[h.length-1],j=I[h],w=w(j),w!=j&&w!=null&&e(I,h,{configurable:!0,writable:!0,value:w})}}function a(h,w){h instanceof String&&(h+="");var I=0,j=!1,$={next:function(){if(!j&&I<h.length){var F=I++;return{value:w(F,h[F]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return a(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,I){return h.call.apply(h.bind,arguments)}function d(h,w,I){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),h.apply(w,$)}}return function(){return h.apply(w,arguments)}}function f(h,w,I){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function m(h,w){var I=Array.prototype.slice.call(arguments,1);return function(){var j=I.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function g(h,w){function I(){}I.prototype=w.prototype,h.aa=w.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(j,$,F){for(var ee=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ee[qe-2]=arguments[qe];return w.prototype[$].apply(j,ee)}}function y(h){const w=h.length;if(0<w){const I=Array(w);for(let j=0;j<w;j++)I[j]=h[j];return I}return[]}function v(h,w){for(let I=1;I<arguments.length;I++){const j=arguments[I];if(l(j)){const $=h.length||0,F=j.length||0;h.length=$+F;for(let ee=0;ee<F;ee++)h[$+ee]=j[ee]}else h.push(j)}}class E{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function P(h){return P[" "](h),h}P[" "]=function(){};var S=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function A(h,w,I){for(const j in h)w.call(I,h[j],j,h)}function T(h,w){for(const I in h)w.call(void 0,h[I],I,h)}function b(h){const w={};for(const I in h)w[I]=h[I];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,w){let I,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(I in j)h[I]=j[I];for(let F=0;F<O.length;F++)I=O[F],Object.prototype.hasOwnProperty.call(j,I)&&(h[I]=j[I])}}function N(h){var w=1;h=h.split(":");const I=[];for(;0<w&&h.length;)I.push(h.shift()),w--;return h.length&&I.push(h.join(":")),I}function R(h){s.setTimeout(()=>{throw h},0)}function k(){var h=q;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,I){const j=U.get();j.set(w,I),this.h?this.h.next=j:this.g=j,this.h=j}}var U=new E(()=>new H,h=>h.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let K,V=!1,q=new B,Y=()=>{const h=s.Promise.resolve(void 0);K=()=>{h.then(re)}};var re=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(I){R(I)}var w=U;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};s.addEventListener("test",I,w),s.removeEventListener("test",I,w)}catch{}return h}();function De(h,w){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(S){e:{try{P(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else I=="mouseover"?w=h.fromElement:I=="mouseout"&&(w=h.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:st[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}g(De,ae);var st={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function ie(h,w,I,j,$){this.listener=h,this.proxy=null,this.src=w,this.type=I,this.capture=!!j,this.ha=$,this.key=++Jt,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,w,I,j,$){var F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);var ee=He(h,w,j,$);return-1<ee?(w=h[ee],I||(w.fa=!1)):(w=new ie(w,this.src,F,!!j,$),w.fa=I,h.push(w)),w};function G(h,w){var I=w.type;if(I in h.g){var j=h.g[I],$=Array.prototype.indexOf.call(j,w,void 0),F;(F=0<=$)&&Array.prototype.splice.call(j,$,1),F&&(ge(w),h.g[I].length==0&&(delete h.g[I],h.h--))}}function He(h,w,I,j){for(var $=0;$<h.length;++$){var F=h[$];if(!F.da&&F.listener==w&&F.capture==!!I&&F.ha==j)return $}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),lt={};function mt(h,w,I,j,$){if(Array.isArray(w)){for(var F=0;F<w.length;F++)mt(h,w[F],I,j,$);return null}return I=ec(I),h&&h[Ut]?h.K(w,I,u(j)?!!j.capture:!!j,$):Zt(h,w,I,!1,j,$)}function Zt(h,w,I,j,$,F){if(!w)throw Error("Invalid event type");var ee=u($)?!!$.capture:!!$,qe=vo(h);if(qe||(h[Se]=qe=new ve(h)),I=qe.add(w,I,j,ee,F),I.proxy)return I;if(j=$r(),I.proxy=j,j.src=h,j.listener=I,h.addEventListener)Ie||($=ee),$===void 0&&($=!1),h.addEventListener(w.toString(),j,$);else if(h.attachEvent)h.attachEvent(Lr(w.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return I}function $r(){function h(I){return w.call(h.src,h.listener,I)}const w=hi;return h}function fi(h,w,I,j,$){if(Array.isArray(w))for(var F=0;F<w.length;F++)fi(h,w[F],I,j,$);else j=u(j)?!!j.capture:!!j,I=ec(I),h&&h[Ut]?(h=h.i,w=String(w).toString(),w in h.g&&(F=h.g[w],I=He(F,I,j,$),-1<I&&(ge(F[I]),Array.prototype.splice.call(F,I,1),F.length==0&&(delete h.g[w],h.h--)))):h&&(h=vo(h))&&(w=h.g[w.toString()],h=-1,w&&(h=He(w,I,j,$)),(I=-1<h?w[h]:null)&&na(I))}function na(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Ut])G(w.i,h);else{var I=h.type,j=h.proxy;w.removeEventListener?w.removeEventListener(I,j,h.capture):w.detachEvent?w.detachEvent(Lr(I),j):w.addListener&&w.removeListener&&w.removeListener(j),(I=vo(w))?(G(I,h),I.h==0&&(I.src=null,w[Se]=null)):ge(h)}}}function Lr(h){return h in lt?lt[h]:lt[h]="on"+h}function hi(h,w){if(h.da)h=!0;else{w=new De(w,this);var I=h.listener,j=h.ha||h.src;h.fa&&na(h),h=I.call(j,w)}return h}function vo(h){return h=h[Se],h instanceof ve?h:null}var Fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ec(h){return typeof h=="function"?h:(h[Fs]||(h[Fs]=function(w){return h.handleEvent(w)}),h[Fs])}function en(){Q.call(this),this.i=new ve(this),this.M=this,this.F=null}g(en,Q),en.prototype[Ut]=!0,en.prototype.removeEventListener=function(h,w,I,j){fi(this,h,w,I,j)};function hn(h,w){var I,j=h.F;if(j)for(I=[];j;j=j.F)I.push(j);if(h=h.M,j=w.type||w,typeof w=="string")w=new ae(w,h);else if(w instanceof ae)w.target=w.target||h;else{var $=w;w=new ae(j,h),C(w,$)}if($=!0,I)for(var F=I.length-1;0<=F;F--){var ee=w.g=I[F];$=fh(ee,j,!0,w)&&$}if(ee=w.g=h,$=fh(ee,j,!0,w)&&$,$=fh(ee,j,!1,w)&&$,I)for(F=0;F<I.length;F++)ee=w.g=I[F],$=fh(ee,j,!1,w)&&$}en.prototype.N=function(){if(en.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var I=h.g[w],j=0;j<I.length;j++)ge(I[j]);delete h.g[w],h.h--}}this.F=null},en.prototype.K=function(h,w,I,j){return this.i.add(String(h),w,!1,I,j)},en.prototype.L=function(h,w,I,j){return this.i.add(String(h),w,!0,I,j)};function fh(h,w,I,j){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,F=0;F<w.length;++F){var ee=w[F];if(ee&&!ee.da&&ee.capture==I){var qe=ee.listener,zt=ee.ha||ee.src;ee.fa&&G(h.i,ee),$=qe.call(zt,j)!==!1&&$}}return $&&!j.defaultPrevented}function WS(h,w,I){if(typeof h=="function")I&&(h=f(h,I));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(h,w||0)}function HS(h){h.g=WS(()=>{h.g=null,h.i&&(h.i=!1,HS(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class R3 extends Q{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:HS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tc(h){Q.call(this),this.h=h,this.g={}}g(tc,Q);var KS=[];function GS(h){A(h.g,function(w,I){this.g.hasOwnProperty(I)&&na(w)},h),h.g={}}tc.prototype.N=function(){tc.aa.N.call(this),GS(this)},tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kv=s.JSON.stringify,D3=s.JSON.parse,M3=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function jv(){}jv.prototype.h=null;function YS(h){return h.h||(h.h=h.i())}function QS(){}var nc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rv(){ae.call(this,"d")}g(Rv,ae);function Dv(){ae.call(this,"c")}g(Dv,ae);var bo={},XS=null;function hh(){return XS=XS||new en}bo.La="serverreachability";function JS(h){ae.call(this,bo.La,h)}g(JS,ae);function rc(h){const w=hh();hn(w,new JS(w))}bo.STAT_EVENT="statevent";function ZS(h,w){ae.call(this,bo.STAT_EVENT,h),this.stat=w}g(ZS,ae);function pn(h){const w=hh();hn(w,new ZS(w,h))}bo.Ma="timingevent";function eT(h,w){ae.call(this,bo.Ma,h),this.size=w}g(eT,ae);function ic(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},w)}function ac(){this.g=!0}ac.prototype.xa=function(){this.g=!1};function $3(h,w,I,j,$,F){h.info(function(){if(h.g)if(F)for(var ee="",qe=F.split("&"),zt=0;zt<qe.length;zt++){var ke=qe[zt].split("=");if(1<ke.length){var tn=ke[0];ke=ke[1];var nn=tn.split("_");ee=2<=nn.length&&nn[1]=="type"?ee+(tn+"="+ke+"&"):ee+(tn+"=redacted&")}}else ee=null;else ee=F;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+w+`
`+I+`
`+ee})}function L3(h,w,I,j,$,F,ee){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+w+`
`+I+`
`+F+" "+ee})}function Bs(h,w,I,j){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+F3(h,I)+(j?" "+j:"")})}function V3(h,w){h.info(function(){return"TIMEOUT: "+w})}ac.prototype.info=function(){};function F3(h,w){if(!h.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var j=I[h];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var F=$[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ee=1;ee<$.length;ee++)$[ee]=""}}}}return kv(I)}catch{return w}}var ph={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mv;function mh(){}g(mh,jv),mh.prototype.g=function(){return new XMLHttpRequest},mh.prototype.i=function(){return{}},Mv=new mh;function ra(h,w,I,j){this.j=h,this.i=w,this.l=I,this.R=j||1,this.U=new tc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nT}function nT(){this.i=null,this.g="",this.h=!1}var rT={},$v={};function Lv(h,w,I){h.L=1,h.v=bh(pi(w)),h.m=I,h.P=!0,iT(h,null)}function iT(h,w){h.F=Date.now(),gh(h),h.A=pi(h.v);var I=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),vT(I.i,"t",j),h.C=0,I=h.j.J,h.h=new nT,h.g=MT(h.j,I?w:null,!h.m),0<h.O&&(h.M=new R3(f(h.Y,h,h.g),h.O)),w=h.U,I=h.g,j=h.ca;var $="readystatechange";Array.isArray($)||($&&(KS[0]=$.toString()),$=KS);for(var F=0;F<$.length;F++){var ee=mt(I,$[F],j||w.handleEvent,!1,w.h||w);if(!ee)break;w.g[ee.key]=ee}w=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),rc(),$3(h.i,h.u,h.A,h.l,h.R,h.m)}ra.prototype.ca=function(h){h=h.target;const w=this.M;w&&mi(h)==3?w.j():this.Y(h)},ra.prototype.Y=function(h){try{if(h==this.g)e:{const nn=mi(this.g);var w=this.g.Ba();const qs=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||TT(this.g)))){this.J||nn!=4||w==7||(w==8||0>=qs?rc(3):rc(2)),Vv(this);var I=this.g.Z();this.X=I;t:if(aT(this)){var j=TT(this.g);h="";var $=j.length,F=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),oc(this);var ee="";break t}this.h.i=new s.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,h+=this.h.i.decode(j[w],{stream:!(F&&w==$-1)});j.length=0,this.h.g+=h,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=I==200,L3(this.i,this.u,this.A,this.l,this.R,nn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,zt=this.g;if((qe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(qe)){var ke=qe;break t}}ke=null}if(I=ke)Bs(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fv(this,I);else{this.o=!1,this.s=3,pn(12),wo(this),oc(this);break e}}if(this.P){I=!0;let br;for(;!this.J&&this.C<ee.length;)if(br=B3(this,ee),br==$v){nn==4&&(this.s=4,pn(14),I=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(br==rT){this.s=4,pn(15),Bs(this.i,this.l,ee,"[Invalid Chunk]"),I=!1;break}else Bs(this.i,this.l,br,null),Fv(this,br);if(aT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ee.length!=0||this.h.h||(this.s=1,pn(16),I=!1),this.o=this.o&&I,!I)Bs(this.i,this.l,ee,"[Invalid Chunked Response]"),wo(this),oc(this);else if(0<ee.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Hv(tn),tn.M=!0,pn(11))}}else Bs(this.i,this.l,ee,null),Fv(this,ee);nn==4&&wo(this),this.o&&!this.J&&(nn==4?kT(this.j,this):(this.o=!1,gh(this)))}else iB(this.g),I==400&&0<ee.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),wo(this),oc(this)}}}catch{}finally{}};function aT(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function B3(h,w){var I=h.C,j=w.indexOf(`
`,I);return j==-1?$v:(I=Number(w.substring(I,j)),isNaN(I)?rT:(j+=1,j+I>w.length?$v:(w=w.slice(j,j+I),h.C=j+I,w)))}ra.prototype.cancel=function(){this.J=!0,wo(this)};function gh(h){h.S=Date.now()+h.I,oT(h,h.I)}function oT(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ic(f(h.ba,h),w)}function Vv(h){h.B&&(s.clearTimeout(h.B),h.B=null)}ra.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(V3(this.i,this.A),this.L!=2&&(rc(),pn(17)),wo(this),this.s=2,oc(this)):oT(this,this.S-h)};function oc(h){h.j.G==0||h.J||kT(h.j,h)}function wo(h){Vv(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,GS(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Fv(h,w){try{var I=h.j;if(I.G!=0&&(I.g==h||Bv(I.h,h))){if(!h.K&&Bv(I.h,h)&&I.G==3){try{var j=I.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)Th(I),Eh(I);else break e;Wv(I),pn(18)}}else I.za=$[1],0<I.za-I.T&&37500>$[2]&&I.F&&I.v==0&&!I.C&&(I.C=ic(f(I.Za,I),6e3));if(1>=uT(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else xo(I,11)}else if((h.K||I.g==h)&&Th(I),!_(w))for($=I.Da.g.parse(w),w=0;w<$.length;w++){let ke=$[w];if(I.T=ke[0],ke=ke[1],I.G==2)if(ke[0]=="c"){I.K=ke[1],I.ia=ke[2];const tn=ke[3];tn!=null&&(I.la=tn,I.j.info("VER="+I.la));const nn=ke[4];nn!=null&&(I.Aa=nn,I.j.info("SVER="+I.Aa));const qs=ke[5];qs!=null&&typeof qs=="number"&&0<qs&&(j=1.5*qs,I.L=j,I.j.info("backChannelRequestTimeoutMs_="+j)),j=I;const br=h.g;if(br){const Ph=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ph){var F=j.h;F.g||Ph.indexOf("spdy")==-1&&Ph.indexOf("quic")==-1&&Ph.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Uv(F,F.h),F.h=null))}if(j.D){const Kv=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Kv&&(j.ya=Kv,Je(j.I,j.D,Kv))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),j=I;var ee=h;if(j.qa=DT(j,j.J?j.ia:null,j.W),ee.K){cT(j.h,ee);var qe=ee,zt=j.L;zt&&(qe.I=zt),qe.B&&(Vv(qe),gh(qe)),j.g=ee}else CT(j);0<I.i.length&&Sh(I)}else ke[0]!="stop"&&ke[0]!="close"||xo(I,7);else I.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?xo(I,7):qv(I):ke[0]!="noop"&&I.l&&I.l.ta(ke),I.v=0)}}rc(4)}catch{}}var U3=class{constructor(h,w){this.g=h,this.map=w}};function sT(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lT(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function uT(h){return h.h?1:h.g?h.g.size:0}function Bv(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Uv(h,w){h.g?h.g.add(w):h.h=w}function cT(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}sT.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dT(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const I of h.g.values())w=w.concat(I.D);return w}return y(h.i)}function z3(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],I=h.length,j=0;j<I;j++)w.push(h[j]);return w}w=[],I=0;for(j in h)w[I++]=h[j];return w}function q3(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var I=0;I<h;I++)w.push(I);return w}w=[],I=0;for(const j in h)w[I++]=j;return w}}}function fT(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var I=q3(h),j=z3(h),$=j.length,F=0;F<$;F++)w.call(void 0,j[F],I&&I[F],h)}var hT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W3(h,w){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var j=h[I].indexOf("="),$=null;if(0<=j){var F=h[I].substring(0,j);$=h[I].substring(j+1)}else F=h[I];w(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function _o(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof _o){this.h=h.h,yh(this,h.j),this.o=h.o,this.g=h.g,vh(this,h.s),this.l=h.l;var w=h.i,I=new uc;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),pT(this,I),this.m=h.m}else h&&(w=String(h).match(hT))?(this.h=!1,yh(this,w[1]||"",!0),this.o=sc(w[2]||""),this.g=sc(w[3]||"",!0),vh(this,w[4]),this.l=sc(w[5]||"",!0),pT(this,w[6]||"",!0),this.m=sc(w[7]||"")):(this.h=!1,this.i=new uc(null,this.h))}_o.prototype.toString=function(){var h=[],w=this.j;w&&h.push(lc(w,mT,!0),":");var I=this.g;return(I||w=="file")&&(h.push("//"),(w=this.o)&&h.push(lc(w,mT,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(lc(I,I.charAt(0)=="/"?G3:K3,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",lc(I,Q3)),h.join("")};function pi(h){return new _o(h)}function yh(h,w,I){h.j=I?sc(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function vh(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function pT(h,w,I){w instanceof uc?(h.i=w,X3(h.i,h.h)):(I||(w=lc(w,Y3)),h.i=new uc(w,h.h))}function Je(h,w,I){h.i.set(w,I)}function bh(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function sc(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function lc(h,w,I){return typeof h=="string"?(h=encodeURI(h).replace(w,H3),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function H3(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mT=/[#\/\?@]/g,K3=/[#\?:]/g,G3=/[#\?]/g,Y3=/[#\?@]/g,Q3=/#/g;function uc(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ia(h){h.g||(h.g=new Map,h.h=0,h.i&&W3(h.i,function(w,I){h.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=uc.prototype,t.add=function(h,w){ia(this),this.i=null,h=Us(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(w),this.h+=1,this};function gT(h,w){ia(h),w=Us(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function yT(h,w){return ia(h),w=Us(h,w),h.g.has(w)}t.forEach=function(h,w){ia(this),this.g.forEach(function(I,j){I.forEach(function($){h.call(w,$,j,this)},this)},this)},t.na=function(){ia(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let j=0;j<w.length;j++){const $=h[j];for(let F=0;F<$.length;F++)I.push(w[j])}return I},t.V=function(h){ia(this);let w=[];if(typeof h=="string")yT(this,h)&&(w=w.concat(this.g.get(Us(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)w=w.concat(h[I])}return w},t.set=function(h,w){return ia(this),this.i=null,h=Us(this,h),yT(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function vT(h,w,I){gT(h,w),0<I.length&&(h.i=null,h.g.set(Us(h,w),y(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var j=w[I];const F=encodeURIComponent(String(j)),ee=this.V(j);for(j=0;j<ee.length;j++){var $=F;ee[j]!==""&&($+="="+encodeURIComponent(String(ee[j]))),h.push($)}}return this.i=h.join("&")};function Us(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function X3(h,w){w&&!h.j&&(ia(h),h.i=null,h.g.forEach(function(I,j){var $=j.toLowerCase();j!=$&&(gT(this,j),vT(this,$,I))},h)),h.j=w}function J3(h,w){const I=new ac;if(s.Image){const j=new Image;j.onload=m(aa,I,"TestLoadImage: loaded",!0,w,j),j.onerror=m(aa,I,"TestLoadImage: error",!1,w,j),j.onabort=m(aa,I,"TestLoadImage: abort",!1,w,j),j.ontimeout=m(aa,I,"TestLoadImage: timeout",!1,w,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else w(!1)}function Z3(h,w){const I=new ac,j=new AbortController,$=setTimeout(()=>{j.abort(),aa(I,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:j.signal}).then(F=>{clearTimeout($),F.ok?aa(I,"TestPingServer: ok",!0,w):aa(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),aa(I,"TestPingServer: error",!1,w)})}function aa(h,w,I,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(I)}catch{}}function eB(){this.g=new M3}function tB(h,w,I){const j=I||"";try{fT(h,function($,F){let ee=$;u($)&&(ee=kv($)),w.push(j+F+"="+encodeURIComponent(ee))})}catch($){throw w.push(j+"type="+encodeURIComponent("_badmap")),$}}function wh(h){this.l=h.Ub||null,this.j=h.eb||!1}g(wh,jv),wh.prototype.g=function(){return new _h(this.l,this.j)},wh.prototype.i=function(h){return function(){return h}}({});function _h(h,w){en.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(_h,en),t=_h.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,dc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bT(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bT(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?cc(this):dc(this),this.readyState==3&&bT(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,cc(this))},t.Qa=function(h){this.g&&(this.response=h,cc(this))},t.ga=function(){this.g&&cc(this)};function cc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,dc(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=w.next();return h.join(`\r
`)};function dc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wT(h){let w="";return A(h,function(I,j){w+=j,w+=":",w+=I,w+=`\r
`}),w}function zv(h,w,I){e:{for(j in I){var j=!1;break e}j=!0}j||(I=wT(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):Je(h,w,I))}function gt(h){en.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(gt,en);var nB=/^https?$/i,rB=["POST","PUT"];t=gt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,I,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mv.g(),this.v=this.o?YS(this.o):YS(Mv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(F){_T(this,F);return}if(h=I||"",I=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)I.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const F of j.keys())I.set(F,j.get(F));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(I.keys()).find(F=>F.toLowerCase()=="content-type"),$=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(rB,w,void 0))||j||$||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ee]of I)this.g.setRequestHeader(F,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ST(this),this.u=!0,this.g.send(h),this.u=!1}catch(F){_T(this,F)}};function _T(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,xT(h),xh(h)}function xT(h){h.A||(h.A=!0,hn(h,"complete"),hn(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,hn(this,"complete"),hn(this,"abort"),xh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xh(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ET(this):this.bb())},t.bb=function(){ET(this)};function ET(h){if(h.h&&typeof o<"u"&&(!h.v[1]||mi(h)!=4||h.Z()!=2)){if(h.u&&mi(h)==4)WS(h.Ea,0,h);else if(hn(h,"readystatechange"),mi(h)==4){h.h=!1;try{const ee=h.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var j;if(j=ee===0){var $=String(h.D).match(hT)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),j=!nB.test($?$.toLowerCase():"")}I=j}if(I)hn(h,"complete"),hn(h,"success");else{h.m=6;try{var F=2<mi(h)?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.Z()+"]",xT(h)}}finally{xh(h)}}}}function xh(h,w){if(h.g){ST(h);const I=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||hn(h,"ready");try{I.onreadystatechange=j}catch{}}}function ST(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function mi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),D3(w)}};function TT(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function iB(h){const w={};h=(h.g&&2<=mi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(_(h[j]))continue;var I=N(h[j]);const $=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const F=w[$]||[];w[$]=F,F.push(I)}T(w,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fc(h,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||w}function AT(h){this.Aa=0,this.i=[],this.j=new ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fc("baseRetryDelayMs",5e3,h),this.cb=fc("retryDelaySeedMs",1e4,h),this.Wa=fc("forwardChannelMaxRetries",2,h),this.wa=fc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new sT(h&&h.concurrentRequestLimit),this.Da=new eB,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=AT.prototype,t.la=8,t.G=1,t.connect=function(h,w,I,j){pn(0),this.W=h,this.H=w||{},I&&j!==void 0&&(this.H.OSID=I,this.H.OAID=j),this.F=this.X,this.I=DT(this,null,this.W),Sh(this)};function qv(h){if(PT(h),h.G==3){var w=h.U++,I=pi(h.I);if(Je(I,"SID",h.K),Je(I,"RID",w),Je(I,"TYPE","terminate"),hc(h,I),w=new ra(h,h.j,w),w.L=2,w.v=bh(pi(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=w.v,I=!0),I||(w.g=MT(w.j,null),w.g.ea(w.v)),w.F=Date.now(),gh(w)}RT(h)}function Eh(h){h.g&&(Hv(h),h.g.cancel(),h.g=null)}function PT(h){Eh(h),h.u&&(s.clearTimeout(h.u),h.u=null),Th(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function Sh(h){if(!lT(h.h)&&!h.s){h.s=!0;var w=h.Ga;K||Y(),V||(K(),V=!0),q.add(w,h),h.B=0}}function aB(h,w){return uT(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ic(f(h.Ga,h,w),jT(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new ra(this,this.j,h);let F=this.o;if(this.S&&(F?(F=b(F),C(F,this.S)):F=this.S),this.m!==null||this.O||($.H=F,F=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var j=this.i[I];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=OT(this,$,w),I=pi(this.I),Je(I,"RID",h),Je(I,"CVER",22),this.D&&Je(I,"X-HTTP-Session-Id",this.D),hc(this,I),F&&(this.O?w="headers="+encodeURIComponent(String(wT(F)))+"&"+w:this.m&&zv(I,this.m,F)),Uv(this.h,$),this.Ua&&Je(I,"TYPE","init"),this.P?(Je(I,"$req",w),Je(I,"SID","null"),$.T=!0,Lv($,I,null)):Lv($,I,w),this.G=2}}else this.G==3&&(h?IT(this,h):this.i.length==0||lT(this.h)||IT(this))};function IT(h,w){var I;w?I=w.l:I=h.U++;const j=pi(h.I);Je(j,"SID",h.K),Je(j,"RID",I),Je(j,"AID",h.T),hc(h,j),h.m&&h.o&&zv(j,h.m,h.o),I=new ra(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),w&&(h.i=w.D.concat(h.i)),w=OT(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Uv(h.h,I),Lv(I,j,w)}function hc(h,w){h.H&&A(h.H,function(I,j){Je(w,j,I)}),h.l&&fT({},function(I,j){Je(w,j,I)})}function OT(h,w,I){I=Math.min(h.i.length,I);var j=h.l?f(h.l.Na,h.l,h):null;e:{var $=h.i;let F=-1;for(;;){const ee=["count="+I];F==-1?0<I?(F=$[0].g,ee.push("ofs="+F)):F=0:ee.push("ofs="+F);let qe=!0;for(let zt=0;zt<I;zt++){let ke=$[zt].g;const tn=$[zt].map;if(ke-=F,0>ke)F=Math.max(0,$[zt].g-100),qe=!1;else try{tB(tn,ee,"req"+ke+"_")}catch{j&&j(tn)}}if(qe){j=ee.join("&");break e}}}return h=h.i.splice(0,I),w.D=h,j}function CT(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;K||Y(),V||(K(),V=!0),q.add(w,h),h.v=0}}function Wv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ic(f(h.Fa,h),jT(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,NT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ic(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),Eh(this),NT(this))};function Hv(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function NT(h){h.g=new ra(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=pi(h.qa);Je(w,"RID","rpc"),Je(w,"SID",h.K),Je(w,"AID",h.T),Je(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(w,"TO",h.ja),Je(w,"TYPE","xmlhttp"),hc(h,w),h.m&&h.o&&zv(w,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=bh(pi(w)),I.m=null,I.P=!0,iT(I,h)}t.Za=function(){this.C!=null&&(this.C=null,Eh(this),Wv(this),pn(19))};function Th(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function kT(h,w){var I=null;if(h.g==w){Th(h),Hv(h),h.g=null;var j=2}else if(Bv(h.h,w))I=w.D,cT(h.h,w),j=1;else return;if(h.G!=0){if(w.o)if(j==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var $=h.B;j=hh(),hn(j,new eT(j,I)),Sh(h)}else CT(h);else if($=w.s,$==3||$==0&&0<w.X||!(j==1&&aB(h,w)||j==2&&Wv(h)))switch(I&&0<I.length&&(w=h.h,w.i=w.i.concat(I)),$){case 1:xo(h,5);break;case 4:xo(h,10);break;case 3:xo(h,6);break;default:xo(h,2)}}}function jT(h,w){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*w}function xo(h,w){if(h.j.info("Error code "+w),w==2){var I=f(h.fb,h),j=h.Xa;const $=!j;j=new _o(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||yh(j,"https"),bh(j),$?J3(j.toString(),I):Z3(j.toString(),I)}else pn(2);h.G=0,h.l&&h.l.sa(w),RT(h),PT(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function RT(h){if(h.G=0,h.ka=[],h.l){const w=dT(h.h);(w.length!=0||h.i.length!=0)&&(v(h.ka,w),v(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function DT(h,w,I){var j=I instanceof _o?pi(I):new _o(I);if(j.g!="")w&&(j.g=w+"."+j.g),vh(j,j.s);else{var $=s.location;j=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var F=new _o(null);j&&yh(F,j),w&&(F.g=w),$&&vh(F,$),I&&(F.l=I),j=F}return I=h.D,w=h.ya,I&&w&&Je(j,I,w),Je(j,"VER",h.la),hc(h,j),j}function MT(h,w,I){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new gt(new wh({eb:I})):new gt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $T(){}t=$T.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ah(){}Ah.prototype.g=function(h,w){return new Vn(h,w)};function Vn(h,w){en.call(this),this.g=new AT(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!_(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new zs(this)}g(Vn,en),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){qv(this.g)},Vn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=kv(h),h=I);w.i.push(new U3(w.Ya++,h)),w.G==3&&Sh(w)},Vn.prototype.N=function(){this.g.l=null,delete this.j,qv(this.g),delete this.g,Vn.aa.N.call(this)};function LT(h){Rv.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const I in w){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}g(LT,Rv);function VT(){Dv.call(this),this.status=1}g(VT,Dv);function zs(h){this.g=h}g(zs,$T),zs.prototype.ua=function(){hn(this.g,"a")},zs.prototype.ta=function(h){hn(this.g,new LT(h))},zs.prototype.sa=function(h){hn(this.g,new VT)},zs.prototype.ra=function(){hn(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,QD=function(){return new Ah},YD=function(){return hh()},GD=bo,Tw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ph.NO_ERROR=0,ph.TIMEOUT=8,ph.HTTP_ERROR=6,jp=ph,tT.COMPLETE="complete",KD=tT,QS.EventType=nc,nc.OPEN="a",nc.CLOSE="b",nc.ERROR="c",nc.MESSAGE="d",en.prototype.listen=en.prototype.K,qc=QS,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,HD=gt}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const FP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new oy("@firebase/firestore");function el(){return us.logLevel}function X(t,...e){if(us.logLevel<=Ae.DEBUG){const n=e.map(F1);us.debug(`Firestore (${Du}): ${t}`,...n)}}function yn(t,...e){if(us.logLevel<=Ae.ERROR){const n=e.map(F1);us.error(`Firestore (${Du}): ${t}`,...n)}}function cs(t,...e){if(us.logLevel<=Ae.WARN){const n=e.map(F1);us.warn(`Firestore (${Du}): ${t}`,...n)}}function F1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+t;throw yn(e),new Error(e)}function ue(t,e){t||le()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class x7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E7{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ji,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new XD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Ht(e)}}class S7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ue(this.o===void 0);const r=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new A7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=I7(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function ZD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new ht(0,0))}static max(){return new de(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends qd{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const O7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends qd{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return O7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Me.fromString(e))}static fromName(e){return new ne(Me.fromString(e).popFirst(5))}static empty(){return new ne(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Aw(t){return t.fields.find(e=>e.kind===2)}function Co(t){return t.fields.filter(e=>e.kind!==2)}Sm.UNKNOWN_ID=-1;class Rp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Wd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Wd(0,Qn.min())}}function C7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Qn(i,ne.empty(),e)}function eM(t){return new Qn(t.readTime,t.key,-1)}class Qn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qn(de.min(),ne.empty(),-1)}static max(){return new Qn(de.max(),ne.empty(),-1)}}function B1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==tM)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new L((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ji,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new sd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=U1(r.target.error);this.V.reject(new sd(e,i))}}static open(e,n,r,i){try{return new dy(n,e.transaction(i,r))}catch(a){throw new sd(n,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new k7(n)}}class qa{constructor(e,n,r){this.name=e,this.version=n,this.p=r,qa.S(jt())===12.2&&yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),Do(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!I1())return!1;if(qa.v())return!0;const e=jt(),n=qa.S(e),r=0<n&&n<10,i=rM(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const o=a.target.result;n(o)},i.onblocked=()=>{r(new sd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const o=a.target.error;o.name==="VersionError"?r(new te(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new sd(e,o))},i.onupgradeneeded=a=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;this.p.O(o,i.transaction,a.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const s=dy.open(this.db,e,a?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&o<3;if(X("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function rM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class N7{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Do(this.B.delete())}}class sd extends te{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function co(t){return t.name==="IndexedDbTransactionError"}class k7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Do(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),Do(this.store.add(e))}get(e){return Do(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),Do(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),Do(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new L((o,s)=>{a.onerror=l=>{s(l.target.error)},a.onsuccess=l=>{o(l.target.result)}})}{const a=this.cursor(r),o=[];return this.W(a,(s,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,a)=>{r.onerror=o=>{a(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(a,o,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=a=>{const o=U1(a.target.error);i(o)},n.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next(s=>{s?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const s=o.target.result;if(!s)return void i();const l=new N7(s),u=n(s.primaryKey,s.value,l);if(u instanceof L){const c=u.catch(d=>(l.done(),L.reject(d)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Do(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=U1(r.target.error);n(i)}})}let BP=!1;function U1(t){const e=qa.S(jt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BP||(BP=!0,setTimeout(()=>{throw r},0)),r}}return t}class j7{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){X("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{X("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){co(n)?X("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await js(n)}await this.X(6e4)})}}class R7{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,a=!0;return L.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return X("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(s=>{i-=s,r.add(o)});a=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,a)).next(s=>(X("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,a)=>{const o=eM(a);B1(o,r)>0&&(r=o)}),new Qn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sr.oe=-1;function fy(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function D7(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UP(e)),e=M7(t.get(n),e);return UP(e)}function M7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function UP(t){return t+""}function qr(t){const e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),Me.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const o=t.indexOf("",a);switch((o<0||o>n)&&le(),t.charAt(o+1)){case"":const s=t.substring(a,o);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,o),i+="\0";break;case"":i+=t.substring(a,o+1);break;default:le()}a=o+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e){return[t,En(e)]}function iM(t,e,n){return[t,En(e),n]}const $7={},L7=["prefixPath","collectionGroup","readTime","documentId"],V7=["prefixPath","collectionGroup","documentId"],F7=["collectionGroup","readTime","prefixPath","documentId"],B7=["canonicalId","targetId"],U7=["targetId","path"],z7=["path","targetId"],q7=["collectionId","parent"],W7=["indexId","uid"],H7=["uid","sequenceNumber"],K7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G7=["indexId","uid","orderedDocumentKey"],Y7=["userId","collectionPath","documentId"],Q7=["userId","collectionPath","largestBatchId"],X7=["userId","collectionGroup","largestBatchId"],aM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J7=[...aM,"documentOverlays"],oM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sM=oM,z1=[...sM,"indexConfiguration","indexState","indexEntries"],Z7=z1,eW=[...z1,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends nM{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Rt(t,e){const n=ye(t);return qa.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WP(this.data.getIterator())}getIteratorFrom(e){return new WP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class WP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new kn([])}unionWith(e){let n=new ze(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uM("Invalid base64 string: "+a):a}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const tW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(ue(!!t),typeof t=="string"){let e=0;const n=tW.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function W1(t){const e=t.mapValue.fields.__previous_value__;return q1(e)?W1(e):e}function Kd(t){const e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ds("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ds&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mp={nullValue:"NULL_VALUE"};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q1(t)?4:cM(t)?9007199254740991:hy(t)?10:11:le()}function ni(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Wi(i.timestampValue),s=Wi(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Qa(i.bytesValue).isEqual(Qa(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return rt(i.geoPointValue.latitude)===rt(a.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return rt(i.integerValue)===rt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=rt(i.doubleValue),s=rt(a.doubleValue);return o===s?Hd(o)===Hd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(qP(o)!==qP(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ni(o[l],s[l])))return!1;return!0}(t,e);default:return le()}}function Gd(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=rt(a.integerValue||a.doubleValue),l=rt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return HP(t.timestampValue,e.timestampValue);case 4:return HP(Kd(t),Kd(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Qa(a),l=Qa(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=be(s[u],l[u]);if(c!==0)return c}return be(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=be(rt(a.latitude),rt(o.latitude));return s!==0?s:be(rt(a.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KP(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},f=o.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=be(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((c=g?.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:KP(m,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Oa.mapValue&&o===Oa.mapValue)return 0;if(a===Oa.mapValue)return 1;if(o===Oa.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=be(l[d],c[d]);if(f!==0)return f;const m=Xa(s[l[d]],u[c[d]]);if(m!==0)return m}return be(l.length,c.length)}(t.mapValue,e.mapValue);default:throw le()}}function HP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Wi(t),r=Wi(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function KP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Xa(n[i],r[i]);if(a)return a}return be(n.length,r.length)}function Kl(t){return Iw(t)}function Iw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Iw(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Iw(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Yd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ow(t){return!!t&&"integerValue"in t}function Qd(t){return!!t&&"arrayValue"in t}function GP(t){return!!t&&"nullValue"in t}function YP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $p(t){return!!t&&"mapValue"in t}function hy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ld(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ld(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const dM={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function rW(t){return"nullValue"in t?Mp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Yd(ds.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?hy(t)?dM:{mapValue:{}}:le()}function iW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Yd(ds.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?dM:"mapValue"in t?hy(t)?{mapValue:{}}:Oa:le()}function QP(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function XP(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=ld(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());$p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new cn(ld(this.value))}}function fM(t){const e=[];return Rs(t.fields,(n,r)=>{const i=new ct([n]);if($p(r)){const a=fM(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new bt(e,0,de.min(),de.min(),de.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,de.min(),de.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,de.min(),de.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.position=e,this.inclusive=n}}function JP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n="asc"){this.field=e,this.dir=n}}function aW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{}class Pe extends hM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oW(e,n,r):n==="array-contains"?new uW(e,r):n==="in"?new bM(e,r):n==="not-in"?new cW(e,r):n==="array-contains-any"?new dW(e,r):new Pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sW(e,r):new lW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xa(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Le extends hM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Le(e,n)}matches(e){return Yl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yl(t){return t.op==="and"}function Cw(t){return t.op==="or"}function H1(t){return pM(t)&&Yl(t)}function pM(t){for(const e of t.filters)if(e instanceof Le)return!1;return!0}function Nw(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(H1(t))return t.filters.map(e=>Nw(e)).join(",");{const e=t.filters.map(n=>Nw(n)).join(",");return`${t.op}(${e})`}}function mM(t,e){return t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&mM(o,i.filters[s]),!0):!1}(t,e):void le()}function gM(t,e){const n=t.filters.concat(e);return Le.create(n,t.op)}function yM(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`}(t):t instanceof Le?function(n){return n.op.toString()+" {"+n.getFilters().map(yM).join(" ,")+"}"}(t):"Filter"}class oW extends Pe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class sW extends Pe{constructor(e,n){super(e,"in",n),this.keys=vM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lW extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=vM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class uW extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qd(n)&&Gd(n.arrayValue,this.value)}}class bM extends Pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class cW extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gd(this.value.arrayValue,n)}}class dW extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function kw(t,e=null,n=[],r=[],i=null,a=null,o=null){return new fW(t,e,n,r,i,a,o)}function hs(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),fy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kl(r)).join(",")),e.ue=n}return e.ue}function Kf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZP(t.startAt,e.startAt)&&ZP(t.endAt,e.endAt)}function Am(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Pm(t,e){return t.filters.filter(n=>n instanceof Pe&&n.field.isEqual(e))}function eI(t,e,n){let r=Mp,i=!0;for(const a of Pm(t,e)){let o=Mp,s=!0;switch(a.op){case"<":case"<=":o=rW(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,s=!1;break;case"!=":case"not-in":o=Mp}QP({value:r,inclusive:i},{value:o,inclusive:s})<0&&(r=o,i=s)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];QP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function tI(t,e,n){let r=Oa,i=!0;for(const a of Pm(t,e)){let o=Oa,s=!0;switch(a.op){case">=":case">":o=iW(a.value),s=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,s=!1;break;case"!=":case"not-in":o=Oa}XP({value:r,inclusive:i},{value:o,inclusive:s})>0&&(r=o,i=s)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];XP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hW(t,e,n,r,i,a,o,s){return new Gf(t,e,n,r,i,a,o,s)}function Yf(t){return new Gf(t)}function nI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wM(t){return t.collectionGroup!==null}function ud(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new ze(ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Tm(a,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new Tm(ct.keyField(),r))}return e.ce}function dr(t){const e=ye(t);return e.le||(e.le=pW(e,ud(t))),e.le}function pW(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Tm(i.field,a)});const n=t.endAt?new Gl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gl(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jw(t,e){const n=t.filters.concat([e]);return new Gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rw(t,e,n){return new Gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return Kf(dr(t),dr(e))&&t.limitType===e.limitType}function _M(t){return`${hs(dr(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yM(i)).join(", ")}]`),fy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Kl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of ud(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=JP(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,ud(r),i)||r.endAt&&!function(o,s,l){const u=JP(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,ud(r),i))}(t,e)}function mW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xM(t){return(e,n)=>{let r=!1;for(const i of ud(t)){const a=gW(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gW(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Xa(l,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return lM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=new ot(ne.comparator);function Wn(){return yW}const EM=new ot(ne.comparator);function Wc(...t){let e=EM;for(const n of t)e=e.insert(n.key,n);return e}function SM(t){let e=EM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return cd()}function TM(){return cd()}function cd(){return new fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const vW=new ot(ne.comparator),bW=new ze(ne.comparator);function Ee(...t){let e=bW;for(const n of t)e=e.add(n);return e}const wW=new ze(be);function _W(){return wW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function AM(t){return{integerValue:""+t}}function xW(t,e){return D7(e)?AM(e):K1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this._=void 0}}function EW(t,e,n){return t instanceof Ql?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&q1(a)&&(a=W1(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Xl?IM(t,e):t instanceof Jl?OM(t,e):function(i,a){const o=PM(i,a),s=rI(o)+rI(i.Pe);return Ow(o)&&Ow(i.Pe)?AM(s):K1(i.serializer,s)}(t,e)}function SW(t,e,n){return t instanceof Xl?IM(t,e):t instanceof Jl?OM(t,e):n}function PM(t,e){return t instanceof Xd?function(r){return Ow(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ql extends my{}class Xl extends my{constructor(e){super(),this.elements=e}}function IM(t,e){const n=CM(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jl extends my{constructor(e){super(),this.elements=e}}function OM(t,e){let n=CM(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Xd extends my{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function rI(t){return rt(t.integerValue||t.doubleValue)}function CM(t){return Qd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.field=e,this.transform=n}}function TW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xl&&i instanceof Xl||r instanceof Jl&&i instanceof Jl?Hl(r.elements,i.elements,ni):r instanceof Xd&&i instanceof Xd?ni(r.Pe,i.Pe):r instanceof Ql&&i instanceof Ql}(t.transform,e.transform)}class AW{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gy{}function kM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yy(t.key,Yt.none()):new Mu(t.key,t.data,Yt.none());{const n=t.data,r=cn.empty();let i=new ze(ct.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Xi(t.key,r,new kn(i.toArray()),Yt.none())}}function PW(t,e,n){t instanceof Mu?function(i,a,o){const s=i.value.clone(),l=aI(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,a,o){if(!Lp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=aI(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(jM(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dd(t,e,n,r){return t instanceof Mu?function(a,o,s,l){if(!Lp(a.precondition,o))return s;const u=a.value.clone(),c=oI(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(a,o,s,l){if(!Lp(a.precondition,o))return s;const u=oI(a.fieldTransforms,l,o),c=o.data;return c.setAll(jM(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return Lp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function IW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=PM(r.transform,i||null);a!=null&&(n===null&&(n=cn.empty()),n.set(r.field,a))}return n||null}function iI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(a,o)=>TW(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends gy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends gy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function jM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aI(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,SW(o,s,n[i]))}return r}function oI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,EW(a,o,e))}return r}class yy extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RM extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&PW(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TM();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=kM(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>iI(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>iI(n,r))}}class Y1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return vW}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Y1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Oe;function CW(t){switch(t){default:return le();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function DM(t){if(t===void 0)return yn("GRPC error has no .code"),W.UNKNOWN;switch(t){case Et.OK:return W.OK;case Et.CANCELLED:return W.CANCELLED;case Et.UNKNOWN:return W.UNKNOWN;case Et.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Et.INTERNAL:return W.INTERNAL;case Et.UNAVAILABLE:return W.UNAVAILABLE;case Et.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Et.NOT_FOUND:return W.NOT_FOUND;case Et.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Et.ABORTED:return W.ABORTED;case Et.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Et.DATA_LOSS:return W.DATA_LOSS;default:return le()}}(Oe=Et||(Et={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=new Xo([4294967295,4294967295],0);function sI(t){const e=NW().encode(t),n=new WD;return n.update(e),new Uint8Array(n.digest())}function lI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,a],0)]}class X1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hc(`Invalid padding: ${n}`);if(r<0)throw new Hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return i.compare(kW)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=sI(e),[r,i]=lI(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new X1(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=sI(e),[r,i]=lI(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vy(de.min(),i,new ot(be),Wn(),Ee())}}class Xf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xf(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class MM{constructor(e,n){this.targetId=e,this.me=n}}class $M{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uI{constructor(){this.fe=0,this.ge=dI(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Xf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jW{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=cI(),this.Qe=new ot(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Am(a))if(r===0){const o=new ne(a.path);this.Ue(n,o,bt.newNoDocument(o,de.min()))}else ue(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Qa(r).toUint8Array()}catch(l){if(l instanceof uM)return cs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new X1(o,i,a)}catch(l){return cs(l instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Am(s.target)){const l=new ne(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,bt.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Ee();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new vy(e,n,this.Qe,this.ke,r);return this.ke=Wn(),this.qe=cI(),this.Qe=new ot(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new uI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ze(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cI(){return new ot(ne.comparator)}function dI(){return new ot(ne.comparator)}const RW={asc:"ASCENDING",desc:"DESCENDING"},DW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MW={and:"AND",or:"OR"};class $W{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dw(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function Zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LW(t,e){return Zl(t,e.toTimestamp())}function Sn(t){return ue(!!t),de.fromTimestamp(function(n){const r=Wi(n);return new ht(r.seconds,r.nanos)}(t))}function J1(t,e){return Mw(t,e).canonicalString()}function Mw(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VM(t){const e=Me.fromString(t);return ue(GM(e)),e}function Im(t,e){return J1(t.databaseId,e.path)}function Jo(t,e){const n=VM(e);if(n.get(1)!==t.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(UM(n))}function FM(t,e){return J1(t.databaseId,e)}function BM(t){const e=VM(t);return e.length===4?Me.emptyPath():UM(e)}function $w(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UM(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fI(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function VW(t,e,n){const r=Jo(t,e.name),i=Sn(e.updateTime),a=e.createTime?Sn(e.createTime):de.min(),o=new cn({mapValue:{fields:e.fields}}),s=bt.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function FW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(ue(c===void 0||typeof c=="string"),Pt.fromBase64String(c||"")):(ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?W.UNKNOWN:DM(u.code);return new te(c,u.message||"")}(o);n=new $M(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jo(t,r.document.name),a=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):de.min(),s=new cn({mapValue:{fields:r.document.fields}}),l=bt.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Vp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jo(t,r.document),a=r.readTime?Sn(r.readTime):de.min(),o=bt.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Vp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jo(t,r.document),a=r.removedTargetIds||[];n=new Vp([],a,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new OW(i,a),s=r.targetId;n=new MM(s,o)}}return n}function Om(t,e){let n;if(e instanceof Mu)n={update:fI(t,e.key,e.value)};else if(e instanceof yy)n={delete:Im(t,e.key)};else if(e instanceof Xi)n={update:fI(t,e.key,e.data),updateMask:HW(e.fieldMask)};else{if(!(e instanceof RM))return le();n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Ql)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Xd)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:LW(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:le()}(t,e.precondition)),n}function Lw(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Yt.updateTime(Sn(a.updateTime)):a.exists!==void 0?Yt.exists(a.exists):Yt.none()}(e.currentDocument):Yt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let l=null;if("setToServerValue"in s)ue(s.setToServerValue==="REQUEST_TIME"),l=new Ql;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new Xl(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new Jl(c)}else"increment"in s?l=new Xd(o,s.increment):le();const u=ct.fromServerFormat(s.fieldPath);return new NM(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Jo(t,e.update.name),a=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new kn(u.map(c=>ct.fromServerFormat(c)))}(e.updateMask);return new Xi(i,a,o,n,r)}return new Mu(i,a,n,r)}if(e.delete){const i=Jo(t,e.delete);return new yy(i,n)}if(e.verify){const i=Jo(t,e.verify);return new RM(i,n)}return le()}function BW(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Sn(i.updateTime):Sn(a);return o.isEqual(de.min())&&(o=Sn(a)),new AW(o,i.transformResults||[])}(n,e))):[]}function zM(t,e){return{documents:[FM(t,e.path)]}}function qM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FM(t,i);const a=function(u){if(u.length!==0)return KM(Le.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:nl(f.field),direction:zW(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Dw(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function WM(t){let e=BM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(d){const f=HM(d);return f instanceof Le&&H1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Tm(rl(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let s=null;n.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,fy(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new Gl(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new Gl(m,f)}(n.endAt)),hW(e,i,o,a,s,"F",l,u)}function UW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rl(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rl(n.unaryFilter.field);return Pe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rl(n.unaryFilter.field);return Pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Le.create(n.compositeFilter.filters.map(r=>HM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function zW(t){return RW[t]}function qW(t){return DW[t]}function WW(t){return MW[t]}function nl(t){return{fieldPath:t.canonicalString()}}function rl(t){return ct.fromServerFormat(t.fieldPath)}function KM(t){return t instanceof Pe?function(n){if(n.op==="=="){if(YP(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(GP(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YP(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(GP(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:qW(n.op),value:n.value}}}(t):t instanceof Le?function(n){const r=n.getFilters().map(i=>KM(i));return r.length===1?r[0]:{compositeFilter:{op:WW(n.op),filters:r}}}(t):le()}function HW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r,i,a=de.min(),o=de.min(),s=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.ct=e}}function KW(t,e){let n;if(e.document)n=VW(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=ms(e.noDocument.readTime);n=bt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le();{const r=ne.fromSegments(e.unknownDocument.path),i=ms(e.unknownDocument.version);n=bt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new ht(i[0],i[1]);return de.fromTimestamp(a)}(e.readTime)),n}function hI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,o){return{name:Im(a,o.key),fields:o.data.value.mapValue.fields,updateTime:Zl(a,o.version.toTimestamp()),createTime:Zl(a,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ps(e.version)};else{if(!e.isUnknownDocument())return le();r.unknownDocument={path:n.path.toArray(),version:ps(e.version)}}return r}function Cm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ps(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ms(t){const e=new ht(t.seconds,t.nanoseconds);return de.fromTimestamp(e)}function Mo(t,e){const n=(e.baseMutations||[]).map(a=>Lw(t.ct,a));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const s=e.mutations[a+1];o.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>Lw(t.ct,a)),i=ht.fromMillis(e.localWriteTimeMs);return new G1(e.batchId,i,n,r)}function Kc(t){const e=ms(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ms(t.lastLimboFreeSnapshotVersion):de.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){return ue(a.documents.length===1),dr(Yf(BM(a.documents[0])))}(t.query):function(a){return dr(WM(a))}(t.query),new Ii(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Pt.fromBase64String(t.resumeToken))}function QM(t,e){const n=ps(e.snapshotVersion),r=ps(e.lastLimboFreeSnapshotVersion);let i;i=Am(e.target)?zM(t.ct,e.target):qM(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hs(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function XM(t){const e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rw(e,e.limit,"L"):e}function I0(t,e){return new Q1(e.largestBatchId,Lw(t.ct,e.overlayMutation))}function pI(t,e){const n=e.path.lastSegment();return[t,En(e.path.popLast()),n]}function mI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ps(r.readTime),documentKey:En(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{getBundleMetadata(e,n){return gI(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:ms(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return gI(e).put(function(i){return{bundleId:i.id,createTime:ps(Sn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return yI(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:XM(a.bundledQuery),readTime:ms(a.readTime)}}(r)})}saveNamedQuery(e,n){return yI(e).put(function(i){return{name:i.name,readTime:ps(Sn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function gI(t){return Rt(t,"bundles")}function yI(t){return Rt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new by(e,r)}getOverlay(e,n){return xc(e).get(pI(this.userId,n)).next(r=>r?I0(this.serializer,r):null)}getOverlays(e,n){const r=Wr();return L.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,o)=>{const s=new Q1(n,o);i.push(this.ht(e,s))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(En(o.getCollectionPath())));const a=[];return i.forEach(o=>{const s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);a.push(xc(e).j("collectionPathOverlayIndex",s))}),L.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Wr(),a=En(n),o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return xc(e).U("collectionPathOverlayIndex",o).next(s=>{for(const l of s){const u=I0(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Wr();let o;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xc(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const d=I0(this.serializer,u);a.size()<i||d.largestBatchId===o?(a.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>a)}ht(e,n){return xc(e).put(function(i,a,o){const[s,l,u]=pI(a,o.mutation.key);return{userId:a,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Om(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function xc(t){return Rt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{Pt(e){return Rt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n?.value;return r?Pt.fromUint8Array(r):Pt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Hd(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Qa(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?cM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hy(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const a=e.fields||{};this.dt(n,53);const o="value",s=((i=(r=a[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(rt(s)),this.Vt(o,n),this.Tt(a[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}$o.vt=new $o;function QW(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function vI(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const o=QW(255&r[a]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class XW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=vI(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=vI(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class JW{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class ZW{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ec{constructor(){this.jt=new XW,this.Ht=new JW(this.jt),this.Jt=new ZW(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Lo(this.indexId,this.documentKey,this.arrayValue,r)}}function la(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=bI(t.arrayValue,e.arrayValue),n!==0?n:(n=bI(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function bI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.Xt=new ze((n,r)=>ct.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ue(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Aw(e);if(n!==void 0&&!this.sn(n))return!1;const r=Co(e);let i=new Set,a=0,o=0;for(;a<r.length&&this.sn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[a];if(!this.on(s,l)||!this._n(this.en[o++],l))return!1}++a}for(;a<r.length;++a){const s=r[a];if(o>=this.en.length||!this._n(this.en[o++],s))return!1}return!0}an(){if(this.nn)return null;let e=new ze(ct.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Rp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Rp(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Rp(r.field,r.dir==="asc"?0:1)));return new Sm(Sm.UNKNOWN_ID,this.collectionId,n,Wd.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){var e,n;if(ue(t instanceof Pe||t instanceof Le),t instanceof Pe){if(t instanceof bM){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(a=>Pe.create(t.field,"==",a)))||[];return Le.create(i,"or")}return t}const r=t.filters.map(i=>JM(i));return Le.create(r,t.op)}function eH(t){if(t.getFilters().length===0)return[];const e=Bw(JM(t));return ue(ZM(e)),Vw(e)||Fw(e)?[e]:e.getFilters()}function Vw(t){return t instanceof Pe}function Fw(t){return t instanceof Le&&H1(t)}function ZM(t){return Vw(t)||Fw(t)||function(n){if(n instanceof Le&&Cw(n)){for(const r of n.getFilters())if(!Vw(r)&&!Fw(r))return!1;return!0}return!1}(t)}function Bw(t){if(ue(t instanceof Pe||t instanceof Le),t instanceof Pe)return t;if(t.filters.length===1)return Bw(t.filters[0]);const e=t.filters.map(r=>Bw(r));let n=Le.create(e,t.op);return n=Nm(n),ZM(n)?n:(ue(n instanceof Le),ue(Yl(n)),ue(n.filters.length>1),n.filters.reduce((r,i)=>Z1(r,i)))}function Z1(t,e){let n;return ue(t instanceof Pe||t instanceof Le),ue(e instanceof Pe||e instanceof Le),n=t instanceof Pe?e instanceof Pe?function(i,a){return Le.create([i,a],"and")}(t,e):_I(t,e):e instanceof Pe?_I(e,t):function(i,a){if(ue(i.filters.length>0&&a.filters.length>0),Yl(i)&&Yl(a))return gM(i,a.getFilters());const o=Cw(i)?i:a,s=Cw(i)?a:i,l=o.filters.map(u=>Z1(u,s));return Le.create(l,"or")}(t,e),Nm(n)}function _I(t,e){if(Yl(e))return gM(e,t.getFilters());{const n=e.filters.map(r=>Z1(t,r));return Le.create(n,"or")}}function Nm(t){if(ue(t instanceof Pe||t instanceof Le),t instanceof Pe)return t;const e=t.getFilters();if(e.length===1)return Nm(e[0]);if(pM(t))return t;const n=e.map(i=>Nm(i)),r=[];return n.forEach(i=>{i instanceof Pe?r.push(i):i instanceof Le&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Le.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.un=new eE}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Qn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Qn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class eE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(Me.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Uint8Array(0);class nH{constructor(e,n){this.databaseId=n,this.cn=new eE,this.ln=new fo(r=>hs(r),(r,i)=>Kf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const a={collectionId:r,parent:En(i)};return xI(e).put(a)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[ZD(n),""],!1,!0);return xI(e).U(i).next(a=>{for(const o of a){if(o.collectionId!==n)break;r.push(qr(o.parent))}return r})}addFieldIndex(e,n){const r=Sc(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const o=Gs(e);return a.next(s=>{o.put(mI(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=Sc(e),i=Gs(e),a=Ks(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Sc(e),r=Ks(e),i=Gs(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new wI(r).an();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Ks(e);let i=!0;const a=new Map;return L.forEach(this.hn(n),o=>this.Pn(e,o).next(s=>{i&&(i=!!s),a.set(o,s)})).next(()=>{if(i){let o=Ee();const s=[];return L.forEach(a,(l,u)=>{X("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${hs(n)}`);const c=function(x,P){const S=Aw(P);if(S===void 0)return null;for(const A of Pm(x,S.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(u,l),d=function(x,P){const S=new Map;for(const A of Co(P))for(const T of Pm(x,A.fieldPath))switch(T.op){case"==":case"in":S.set(A.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return S.set(A.fieldPath.canonicalString(),T.value),Array.from(S.values())}return null}(u,l),f=function(x,P){const S=[];let A=!0;for(const T of Co(P)){const b=T.kind===0?eI(x,T.fieldPath,x.startAt):tI(x,T.fieldPath,x.startAt);S.push(b.value),A&&(A=b.inclusive)}return new Gl(S,A)}(u,l),m=function(x,P){const S=[];let A=!0;for(const T of Co(P)){const b=T.kind===0?tI(x,T.fieldPath,x.endAt):eI(x,T.fieldPath,x.endAt);S.push(b.value),A&&(A=b.inclusive)}return new Gl(S,A)}(u,l),g=this.In(l,u,f),y=this.In(l,u,m),v=this.Tn(l,u,d),E=this.En(l.indexId,c,g,f.inclusive,y,m.inclusive,v);return L.forEach(E,_=>r.G(_,n.limit).next(x=>{x.forEach(P=>{const S=ne.fromSegments(P.documentKey);o.has(S)||(o=o.add(S),s.push(S))})}))}).next(()=>s)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=eH(Le.create(e.filters,"and")).map(r=>kw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,a,o,s){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/u]):Qh,m=this.An(e,f,r[d%u],i),g=this.Rn(e,f,a[d%u],o),y=s.map(v=>this.An(e,f,v,!0));c.push(...this.createRange(m,g,y))}return c}An(e,n,r,i){const a=new Lo(e,ne.empty(),n,r);return i?a:a.Zt()}Rn(e,n,r,i){const a=new Lo(e,ne.empty(),n,r);return i?a.Zt():a}Pn(e,n){const r=new wI(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let o=null;for(const s of a)r.rn(s)&&(!o||s.fields.length>o.fields.length)&&(o=s);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,a=>this.Pn(e,a).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new ze(ct.comparator),c=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:u=u.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(a)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Ec;for(const i of Co(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const o=r.Yt(i.kind);$o.vt.It(a,o)}return r.zt()}dn(e){const n=new Ec;return $o.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Ec;return $o.vt.It(Yd(this.databaseId,n),r.Yt(function(a){const o=Co(a);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Ec);let a=0;for(const o of Co(e)){const s=r[a++];for(const l of i)if(this.fn(n,o.fieldPath)&&Qd(s))i=this.gn(i,o,s);else{const u=l.Yt(o.kind);$o.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],a=[];for(const o of r.arrayValue.values||[])for(const s of i){const l=new Ec;l.seed(s.zt()),$o.vt.It(o,l.Yt(n.kind)),a.push(l)}return a}fn(e,n){return!!e.filters.find(r=>r instanceof Pe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Sc(e),i=Gs(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(a=>{const o=[];return L.forEach(a,s=>i.get([s.indexId,this.uid]).next(l=>{o.push(function(c,d){const f=d?new Wd(d.sequenceNumber,new Qn(ms(d.readTime),new ne(qr(d.documentKey)),d.largestBatchId)):Wd.empty(),m=c.fields.map(([g,y])=>new Rp(ct.fromServerFormat(g),y));return new Sm(c.indexId,c.collectionGroup,m,f)}(s,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:be(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Sc(e),a=Gs(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>L.forEach(s,l=>a.put(mI(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,a)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),L.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(a,l);return u.isEqual(c)?L.resolve():this.bn(e,a,l,u,c)}))))})}Dn(e,n,r,i){return Ks(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Ks(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Ks(e);let a=new ze(la);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,s)=>{a=a.add(new Lo(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>a)}Sn(e,n){let r=new ze(la);const i=this.Vn(n,e);if(i==null)return r;const a=Aw(n);if(a!=null){const o=e.data.field(a.fieldPath);if(Qd(o))for(const s of o.arrayValue.values||[])r=r.add(new Lo(n.indexId,e.key,this.dn(s),i))}else r=r.add(new Lo(n.indexId,e.key,Qh,i));return r}bn(e,n,r,i,a){X("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,f){const m=l.getIterator(),g=u.getIterator();let y=Hs(m),v=Hs(g);for(;y||v;){let E=!1,_=!1;if(y&&v){const x=c(y,v);x<0?_=!0:x>0&&(E=!0)}else y!=null?_=!0:E=!0;E?(d(v),v=Hs(g)):_?(f(y),y=Hs(m)):(y=Hs(m),v=Hs(g))}}(i,a,la,s=>{o.push(this.Dn(e,n,r,s))},s=>{o.push(this.vn(e,n,r,s))}),L.waitFor(o)}yn(e){let n=1;return Gs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,s)=>la(o,s)).filter((o,s,l)=>!s||la(o,l[s-1])!==0);const i=[];i.push(e);for(const o of r){const s=la(o,e),l=la(o,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const a=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const s=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Qh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Qh,[]];a.push(IDBKeyRange.bound(s,l))}return a}Cn(e,n){return la(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(EI)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||le())).next(EI)}}function xI(t){return Rt(t,"collectionParents")}function Ks(t){return Rt(t,"indexEntries")}function Sc(t){return Rt(t,"indexConfiguration")}function Gs(t){return Rt(t,"indexState")}function EI(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;B1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:o},(c,d,f)=>(s++,f.delete()));a.push(l.next(()=>{ue(s===1)}));const u=[];for(const c of n.mutations){const d=iM(e,c.key.path,n.batchId);a.push(i.delete(d)),u.push(c.key)}return L.waitFor(a).next(()=>u)}function km(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class wy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){ue(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new wy(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ua(e).J({index:"userMutationsIndex",range:r},(i,a,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=il(e),o=ua(e);return o.add({}).next(s=>{ue(typeof s=="number");const l=new G1(s,n,r,i),u=function(m,g,y){const v=y.baseMutations.map(_=>Om(m.ct,_)),E=y.mutations.map(_=>Om(m.ct,_));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:v,mutations:E}}(this.serializer,this.userId,l),c=[];let d=new ze((f,m)=>be(f.canonicalString(),m.canonicalString()));for(const f of i){const m=iM(this.userId,f.key.path,s);d=d.add(f.key.path.popLast()),c.push(o.put(u)),c.push(a.put(m,$7))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),L.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return ua(e).get(n).next(r=>r?(ue(r.userId===this.userId),Mo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ua(e).J({index:"userMutationsIndex",range:i},(o,s,l)=>{s.userId===this.userId&&(ue(s.batchId>=r),a=Mo(this.serializer,s)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ua(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,a,o)=>{r=a.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ua(e).U("userMutationsIndex",n).next(r=>r.map(i=>Mo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Dp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return il(e).J({range:i},(o,s,l)=>{const[u,c,d]=o,f=qr(c);if(u===this.userId&&n.path.isEqual(f))return ua(e).get(d).next(m=>{if(!m)throw le();ue(m.userId===this.userId),a.push(Mo(this.serializer,m))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(be);const i=[];return n.forEach(a=>{const o=Dp(this.userId,a.path),s=IDBKeyRange.lowerBound(o),l=il(e).J({range:s},(u,c,d)=>{const[f,m,g]=u,y=qr(m);f===this.userId&&a.path.isEqual(y)?r=r.add(g):d.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Dp(this.userId,r),o=IDBKeyRange.lowerBound(a);let s=new ze(be);return il(e).J({range:o},(l,u,c)=>{const[d,f,m]=l,g=qr(f);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(s=s.add(m)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(ua(e).get(a).next(o=>{if(o===null)throw le();ue(o.userId===this.userId),r.push(Mo(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return e$(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return il(e).J({range:r},(a,o,s)=>{if(a[0]===this.userId){const l=qr(a[1]);i.push(l)}else s.done()}).next(()=>{ue(i.length===0)})})}containsKey(e,n){return t$(e,this.userId,n)}Nn(e){return n$(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function t$(t,e,n){const r=Dp(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return il(t).J({range:a,H:!0},(s,l,u)=>{const[c,d,f]=s;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function ua(t){return Rt(t,"mutations")}function il(t){return Rt(t,"documentMutations")}function n$(t){return Rt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gs(0)}static kn(){return new gs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new gs(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>de.fromTimestamp(new ht(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ys(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(ue(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Ys(e).J((o,s)=>{const l=Kc(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Ys(e).J((r,i)=>{const a=Kc(i);n(a)})}qn(e){return TI(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}Qn(e,n){return TI(e).put("targetGlobalKey",n)}Kn(e,n){return Ys(e).put(QM(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=hs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Ys(e).J({range:i,index:"queryTargetsIndex"},(o,s,l)=>{const u=Kc(s);Kf(n,u.target)&&(a=u,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Sa(e);return n.forEach(o=>{const s=En(o.path);i.push(a.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Sa(e);return L.forEach(n,a=>{const o=En(a.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Sa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Sa(e);let a=Ee();return i.J({range:r,H:!0},(o,s,l)=>{const u=qr(o[1]),c=new ne(u);a=a.add(c)}).next(()=>a)}containsKey(e,n){const r=En(n.path),i=IDBKeyRange.bound([r],[ZD(r)],!1,!0);let a=0;return Sa(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,s],l,u)=>{o!==0&&(a++,u.done())}).next(()=>a>0)}ot(e,n){return Ys(e).get(n).next(r=>r?Kc(r):null)}}function Ys(t){return Rt(t,"targets")}function TI(t){return Rt(t,"targetGlobal")}function Sa(t){return Rt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class iH{constructor(e){this.Un=e,this.buffer=new ze(AI),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.Hn(3e5)})}}class oH{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(sr.oe);const r=new iH(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(SI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SI):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),el()<=Ae.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function sH(t,e){return new oH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n){this.db=e,this.garbageCollector=sH(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Xh(e,r)}removeReference(e,n,r){return Xh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Xh(e,n)}nr(e,n){return function(i,a){let o=!1;return n$(i).Y(s=>t$(i,s,a).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,(o,s)=>{if(s<=n){const l=this.nr(e,o).next(u=>{if(!u)return a++,r.getEntry(e,o).next(()=>(r.removeEntry(o,de.min()),Sa(e).delete(function(d){return[0,En(d.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Xh(e,n)}tr(e,n){const r=Sa(e);let i,a=sr.oe;return r.J({index:"documentTargetsIndex"},([o,s],{path:l,sequenceNumber:u})=>{o===0?(a!==sr.oe&&n(new ne(qr(i)),a),a=u,i=l):a=sr.oe}).next(()=>{a!==sr.oe&&n(new ne(qr(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xh(t,e){return Sa(t).put(function(r,i){return{targetId:0,path:En(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.changes=new fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Eo(e).put(r)}removeEntry(e,n,r){return Eo(e).delete(function(a,o){const s=a.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Cm(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=bt.newInvalidDocument(n);return Eo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Tc(n))},(i,a)=>{r=this.ir(n,a)}).next(()=>r)}sr(e,n){let r={size:0,document:bt.newInvalidDocument(n)};return Eo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Tc(n))},(i,a)=>{r={document:this.ir(n,a),size:km(a)}}).next(()=>r)}getEntries(e,n){let r=Wn();return this._r(e,n,(i,a)=>{const o=this.ir(i,a);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Wn(),i=new ot(ne.comparator);return this._r(e,n,(a,o)=>{const s=this.ir(a,o);r=r.insert(a,s),i=i.insert(a,km(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new ze(OI);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(Tc(i.first()),Tc(i.last())),o=i.getIterator();let s=o.getNext();return Eo(e).J({index:"documentKeyIndex",range:a},(l,u,c)=>{const d=ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&OI(s,d)<0;)r(s,null),s=o.getNext();s&&s.isEqual(d)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?c.$(Tc(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),Cm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eo(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{a?.incrementDocumentReadCount(u.length);let c=Wn();for(const d of u){const f=this.ir(ne.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Qf(n,f)||i.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,n,r,i){let a=Wn();const o=II(n,r),s=II(n,Qn.max());return Eo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(l,u,c)=>{const d=this.ir(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(d.key,d),a.size===i&&c.done()}).next(()=>a)}newChangeBuffer(e){return new cH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return PI(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}rr(e,n){return PI(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=KW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(de.min())))return r}return bt.newInvalidDocument(e)}}function i$(t){return new uH(t)}class cH extends r${constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new fo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new ze((a,o)=>be(a.canonicalString(),o.canonicalString()));return this.changes.forEach((a,o)=>{const s=this.lr.get(a);if(n.push(this.cr.removeEntry(e,a,s.readTime)),o.isValidDocument()){const l=hI(this.cr.serializer,o);i=i.add(a.path.popLast());const u=km(l);r+=u-s.size,n.push(this.cr.addEntry(e,a,l))}else if(r-=s.size,this.trackRemovals){const l=hI(this.cr.serializer,o.convertToNoDocument(de.min()));n.push(this.cr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((a,o)=>{this.lr.set(a,{size:o,readTime:r.get(a).readTime})}),r))}}function PI(t){return Rt(t,"remoteDocumentGlobal")}function Eo(t){return Rt(t,"remoteDocumentsV14")}function Tc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function II(t,e){const n=e.documentKey.path.toArray();return[t,Cm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function OI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=be(n[a],r[a]),i)return i;return i=be(n.length,r.length),i||(i=be(n[n.length-2],r[r.length-2]),i||be(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dd(r.mutation,i,kn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Wc();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Wn();const o=cd(),s=function(){return cd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xi)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),dd(c.mutation,u,c.mutation.getFieldMask(),ht.now())):o.set(u.key,kn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new dH(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=cd();let i=new ot((o,s)=>o-s),a=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||kn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||Ee()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=TM();c.forEach(f=>{if(!a.has(f)){const m=kM(n.get(f),r.get(f));m!==null&&d.set(f,m),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):L.resolve(Wr());let s=-1,l=a;return o.next(u=>L.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?L.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:s,changes:SM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Wc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Wc();return this.indexManager.getCollectionParents(e,a).next(s=>L.forEach(s,l=>{const u=function(d,f){return new Gf(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,bt.newInvalidDocument(c)))});let s=Wc();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&dd(c.mutation,u,kn.empty(),ht.now()),Qf(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:XM(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.overlays=new ot(ne.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return L.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Wr(),a=n.length+1,o=new ne(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ot((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Wr(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Wr(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return L.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q1(n,r));let a=this.Ir.get(n);a===void 0&&(a=Ee(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.Tr=new ze(Mt.Er),this.dr=new ze(Mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Me([])),r=new Mt(n,e),i=new Mt(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Me([])),r=new Mt(n,e),i=new Mt(n,e+1);let a=Ee();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ze(Mt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new G1(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Mt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return L.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),L.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(be);return n.forEach(i=>{const a=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ne.isDocumentKey(a)||(a=a.child(""));const o=new Mt(new ne(a),0);let s=new ze(be);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),L.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const a=new Mt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Mt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.Mr=e,this.docs=function(){return new ot(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():bt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Wn();const o=n.path,s=new ne(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||B1(eM(c),r)<=0||(i.has(c.key)||Qf(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return L.resolve(a)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yH(this)}getSize(e){return L.resolve(this.size)}}class yH extends r${constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.persistence=e,this.Nr=new fo(n=>hs(n),Kf),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tE,this.targetCount=0,this.kr=gs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new gs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),L.waitFor(a).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n){this.qr={},this.overlays={},this.Qr=new sr(0),this.Kr=!1,this.Kr=!0,this.$r=new pH,this.referenceDelegate=e(this),this.Ur=new vH(this),this.indexManager=new tH,this.remoteDocumentCache=function(i){return new gH(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YM(n),this.Gr=new fH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new mH(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new bH(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class bH extends nM{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Jr=new tE,this.Yr=null}static Zr(e){return new _y(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e){this.serializer=e}O(e,n,r,i){const a=new dy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zP,{unique:!0}),l.createObjectStore("documentMutations")}(e),CI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),CI(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:de.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(a))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zP,{unique:!0});const d=u.store("mutations"),f=c.map(m=>d.put(m));return L.waitFor(f)})}(e,a))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(a))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(a)))),r<7&&i>=7&&(o=o.next(()=>this.ii(a))),r<8&&i>=8&&(o=o.next(()=>this.si(e,a))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(a))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Y7});u.createIndex("collectionPathOverlayIndex",Q7,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",X7,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:L7});u.createIndex("documentKeyIndex",V7),u.createIndex("collectionGroupIndex",F7)}(e)).next(()=>this._i(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,a))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:W7}).createIndex("sequenceNumberIndex",H7,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:K7}).createIndex("documentKeyIndex",G7,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=km(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,a=>{const o=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(s=>L.forEach(s,l=>{ue(l.userId===a.userId);const u=Mo(this.serializer,l);return e$(e,a.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((o,s)=>{const l=new Me(o),u=function(d){return[0,En(d)]}(l);a.push(n.get(u).next(c=>c?L.resolve():(d=>n.put({targetId:0,path:En(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(a))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:q7});const r=n.store("collectionParents"),i=new eE,a=o=>{if(i.add(o)){const s=o.lastSegment(),l=o.popLast();return r.put({collectionId:s,parent:En(l)})}};return n.store("remoteDocuments").J({H:!0},(o,s)=>{const l=new Me(o);return a(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,s,l],u)=>{const c=qr(s);return a(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const a=Kc(i),o=QM(this.serializer,a);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((a,o)=>{const s=n.store("remoteDocumentsV14"),l=function(d){return d.document?new ne(Me.fromString(d.document.name).popFirst(5)):d.noDocument?ne.fromSegments(d.noDocument.path):d.unknownDocument?ne.fromSegments(d.unknownDocument.path):le()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(s.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=i$(this.serializer),a=new o$(_y.Zr,this.serializer.ct);return r.U().next(o=>{const s=new Map;return o.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:Ee();Mo(this.serializer,l).keys().forEach(d=>c=c.add(d)),s.set(l.userId,c)}),L.forEach(s,(l,u)=>{const c=new Ht(u),d=by.lt(this.serializer,c),f=a.getIndexManager(c),m=wy.lt(c,this.serializer,f,a.referenceDelegate);return new a$(i,m,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Pw(n,sr.oe),l).next()})})}}function CI(t){t.createObjectStore("targetDocuments",{keyPath:U7}).createIndex("documentTargetsIndex",z7,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",B7,{unique:!0}),t.createObjectStore("targetGlobal")}const O0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nE{constructor(e,n,r,i,a,o,s,l,u,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=a,this.window=o,this.document=s,this.ci=u,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!nE.D())throw new te(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lH(this,i),this.Ai=n+"main",this.serializer=new YM(l),this.Ri=new qa(this.Ai,this.hi,new wH(this.serializer)),this.$r=new YW,this.Ur=new rH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=i$(this.serializer),this.Gr=new GW,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,O0);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new sr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(co(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ac(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return Jh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Rt(n,"clientMetadata");return r.U().next(i=>{const a=this.xi(i,18e5),o=i.filter(s=>a.indexOf(s)===-1);return L.forEach(o,s=>r.delete(s.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):Ac(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,O0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jh(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(a||o&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Pw(e,sr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Jh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return wy.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nH(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return by.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===17?eW:l===16?Z7:l===15?z1:l===14?sM:l===13?oM:l===12?J7:l===11?aM:void le()}(this.hi);let o;return this.Ri.runTransaction(e,i,a,s=>(o=new Pw(s,this.Qr?this.Qr.next():sr.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new te(W.FAILED_PRECONDITION,tM);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(s=>(o.raiseOnCommittedEvent(),s))}Ki(e){return Ac(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(W.FAILED_PRECONDITION,O0)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ac(e).put("owner",n)}static D(){return qa.D()}bi(e){const n=Ac(e);return n.get("owner").next(r=>this.vi(r)?(X("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(yn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;tD()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){yn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ac(t){return Rt(t,"owner")}function Jh(t){return Rt(t,"clientMetadata")}function _H(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new rE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tD()?8:rM(jt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new xH;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(el()<=Ae.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(el()<=Ae.DEBUG&&X("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(el()<=Ae.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):L.resolve())}Yi(e,n){if(nI(n))return L.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rw(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ee(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,o,l.readTime)?this.Yi(e,Rw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return nI(n)||i.isEqual(de.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?L.resolve(null):(el()<=Ae.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tl(n)),this.rs(e,o,n,C7(i,-1)).next(s=>s))})}ts(e,n){let r=new ze(xM(e));return n.forEach((i,a)=>{Qf(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return el()<=Ae.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",tl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ot(be),this._s=new fo(a=>hs(a),Kf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a$(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function l$(t,e,n,r){return new EH(t,e,n,r)}async function u$(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function SH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,f=d.keys();let m=L.resolve();return f.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const v=u.docVersions.get(g);ue(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function c$(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TH(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;s.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,d)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Pt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(y,v,E){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,m,c)&&s.push(n.Ur.updateTargetData(a,m))});let l=Wn(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(AH(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(de.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(d=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return L.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function AH(t,e,n){let r=Ee(),i=Ee();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Wn();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):X("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function PH(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IH(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Uw(t,e,n){const r=ye(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!co(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function NI(t,e,n){const r=ye(t);let i=de.min(),a=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ye(l),f=d._s.get(c);return f!==void 0?L.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,o,dr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?a:Ee())).next(s=>(OH(r,mW(e),s),{documents:s,Ts:a})))}function OH(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class kI{constructor(){this.activeTargetIds=_W()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d${constructor(){this.so=new kI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new kI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function C0(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class jH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=C0(),l=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,l,u,i).then(c=>(X("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw cs("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=NH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=C0();return new Promise((o,s)=>{const l=new HD;l.setWithCredentials(!0),l.listenOnce(KD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jp.NO_ERROR:const c=l.getResponseJson();X(on,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case jp.TIMEOUT:X(on,`RPC '${e}' ${a} timed out`),s(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case jp.HTTP_ERROR:const d=l.getStatus();if(X(on,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f?.error;if(m&&m.status&&m.message){const g=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(E)>=0?E:W.UNKNOWN}(m.status);s(new te(g,m.message))}else s(new te(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new te(W.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(on,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);X(on,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=C0(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QD(),s=YD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");X(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,m=!1;const g=new kH({Io:v=>{m?X(on,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(X(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),X(on,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),y=(v,E,_)=>{v.listen(E,x=>{try{_(x)}catch(P){setTimeout(()=>{throw P},0)}})};return y(d,qc.EventType.OPEN,()=>{m||(X(on,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(d,qc.EventType.CLOSE,()=>{m||(m=!0,X(on,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(d,qc.EventType.ERROR,v=>{m||(m=!0,cs(on,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new te(W.UNAVAILABLE,"The operation could not be completed")))}),y(d,qc.EventType.MESSAGE,v=>{var E;if(!m){const _=v.data[0];ue(!!_);const x=_,P=x.error||((E=x[0])===null||E===void 0?void 0:E.error);if(P){X(on,`RPC '${e}' stream ${i} received error:`,P);const S=P.status;let A=function(O){const C=Et[O];if(C!==void 0)return DM(C)}(S),T=P.message;A===void 0&&(A=W.INTERNAL,T="Unknown error status: "+S+" with message "+P.message),m=!0,g.So(new te(A,T)),d.close()}else X(on,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),y(s,GD.STAT_EVENT,v=>{v.stat===Tw.PROXY?X(on,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Tw.NOPROXY&&X(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(){return typeof window<"u"?window:null}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){return new $W(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new f$(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DH extends h${constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=FW(this.serializer,e),r=function(a){if(!("targetChange"in a))return de.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Sn(o.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$w(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=Am(l)?{documents:zM(a,l)}:{query:qM(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=LM(a,o.resumeToken);const u=Dw(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){s.readTime=Zl(a,o.snapshotVersion.toTimestamp());const u=Dw(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=UW(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$w(this.serializer),n.removeTarget=e,this.a_(n)}}class MH extends h${constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ue(!!e.streamToken),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=BW(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$w(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Om(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Mw(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(W.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Mw(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class LH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yn(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ds(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.L_.add(4),await Jf(u),u.q_.set("Unknown"),u.L_.delete(4),await Ey(u)}(this))})}),this.q_=new LH(r,i)}}async function Ey(t){if(Ds(t))for(const e of t.B_)await e(!0)}async function Jf(t){for(const e of t.B_)await e(!1)}function p$(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sE(n)?oE(n):$u(n).r_()&&aE(n,e))}function iE(t,e){const n=ye(t),r=$u(n);n.N_.delete(e),r.r_()&&m$(n,e),n.N_.size===0&&(r.r_()?r.o_():Ds(n)&&n.q_.set("Unknown"))}function aE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$u(t).A_(e)}function m$(t,e){t.Q_.xe(e),$u(t).R_(e)}function oE(t){t.Q_=new jW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.q_.v_()}function sE(t){return Ds(t)&&!$u(t).n_()&&t.N_.size>0}function Ds(t){return ye(t).L_.size===0}function g$(t){t.Q_=void 0}async function FH(t){t.q_.set("Online")}async function BH(t){t.N_.forEach((e,n)=>{aE(t,e)})}async function UH(t,e){g$(t),sE(t)?(t.q_.M_(e),oE(t)):t.q_.set("Unknown")}async function zH(t,e,n){if(t.q_.set("Online"),e instanceof $M&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jm(t,r)}else if(e instanceof Vp?t.Q_.Ke(e):e instanceof MM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await c$(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Pt.EMPTY_BYTE_STRING,c.snapshotVersion)),m$(a,l);const d=new Ii(c.target,l,u,c.sequenceNumber);aE(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await jm(t,r)}}async function jm(t,e,n){if(!co(e))throw e;t.L_.add(1),await Jf(t),t.q_.set("Offline"),n||(n=()=>c$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ey(t)})}function y$(t,e){return e().catch(n=>jm(t,n,e))}async function Zf(t){const e=ye(t),n=Ja(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qH(e);)try{const i=await PH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,WH(e,i)}catch(i){await jm(e,i)}v$(e)&&b$(e)}function qH(t){return Ds(t)&&t.O_.length<10}function WH(t,e){t.O_.push(e);const n=Ja(t);n.r_()&&n.V_&&n.m_(e.mutations)}function v$(t){return Ds(t)&&!Ja(t).n_()&&t.O_.length>0}function b$(t){Ja(t).start()}async function HH(t){Ja(t).p_()}async function KH(t){const e=Ja(t);for(const n of t.O_)e.m_(n.mutations)}async function GH(t,e,n){const r=t.O_.shift(),i=Y1.from(r,e,n);await y$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zf(t)}async function YH(t,e){e&&Ja(t).V_&&await async function(r,i){if(function(o){return CW(o)&&o!==W.ABORTED}(i.code)){const a=r.O_.shift();Ja(r).s_(),await y$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Zf(r)}}(t,e),v$(t)&&b$(t)}async function RI(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ds(n);n.L_.add(3),await Jf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ey(n)}async function QH(t,e){const n=ye(t);e?(n.L_.delete(2),await Ey(n)):e||(n.L_.add(2),await Jf(n),n.q_.set("Unknown"))}function $u(t){return t.K_||(t.K_=function(n,r,i){const a=ye(n);return a.w_(),new DH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:FH.bind(null,t),Ro:BH.bind(null,t),mo:UH.bind(null,t),d_:zH.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sE(t)?oE(t):t.q_.set("Unknown")):(await t.K_.stop(),g$(t))})),t.K_}function Ja(t){return t.U_||(t.U_=function(n,r,i){const a=ye(n);return a.w_(),new MH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HH.bind(null,t),mo:YH.bind(null,t),f_:KH.bind(null,t),g_:GH.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Zf(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new lE(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uE(t,e){if(yn("AsyncQueue",`${e}: ${t}`),co(t))return new te(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new kl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.W_=new ot(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eu{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new eu(e,n,kl.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class JH{constructor(){this.queries=MI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),a=i.queries;i.queries=MI(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new te(W.ABORTED,"Firestore shutting down"))}}function MI(){return new fo(t=>_M(t),py)}async function w$(t,e){const n=ye(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new XH,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=uE(o,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&cE(n)}async function _$(t,e){const n=ye(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZH(t,e){const n=ye(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&cE(n)}function eK(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function cE(t){t.Y_.forEach(e=>{e.next()})}var zw,$I;($I=zw||(zw={})).ea="default",$I.Cache="cache";class x${constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.key=e}}class S${constructor(e){this.key=e}}class tK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=xM(e),this.Ra=new kl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new DI,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=Qf(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;f&&m?f.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),v=!0):this.ga(f,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!f&&m?(r.track({type:0,doc:m}),v=!0):f&&!m&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(s=!0)),v&&(m?(o=o.add(m),a=y?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(m,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return y(m)-y(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new eu(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new S$(r))}),this.da.forEach(r=>{e.has(r)||n.push(new E$(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return eu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rK{constructor(e){this.key=e,this.va=!1}}class iK{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fo(s=>_M(s),py),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(ne.comparator),this.Na=new Map,this.La=new tE,this.Ba={},this.ka=new Map,this.qa=gs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aK(t,e,n=!0){const r=C$(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await T$(r,e,n,!0),i}async function oK(t,e){const n=C$(t);await T$(n,e,!0,!1)}async function T$(t,e,n,r){const i=await IH(t.localStore,dr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await sK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&p$(t.remoteStore,i),s}async function sK(t,e,n,r,i){t.Ka=(d,f,m)=>async function(y,v,E,_){let x=v.view.ma(E);x.ns&&(x=await NI(y.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,x)));const P=_&&_.targetChanges.get(v.targetId),S=_&&_.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(x,y.isPrimaryClient,P,S);return VI(y,v.targetId,A.wa),A.snapshot}(t,d,f,m);const a=await NI(t.localStore,e,!0),o=new tK(e,a.Ts),s=o.ma(a.documents),l=Xf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);VI(t,n,u.wa);const c=new nK(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function lK(t,e,n){const r=ye(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!py(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iE(r.remoteStore,i.targetId),qw(r,i.targetId)}).catch(js)):(qw(r,i.targetId),await Uw(r.localStore,i.targetId,!0))}async function uK(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iE(n.remoteStore,r.targetId))}async function cK(t,e,n){const r=N$(t);try{const i=await function(o,s){const l=ye(o),u=ht.now(),c=s.reduce((m,g)=>m.add(g.key),Ee());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Wn(),y=Ee();return l.cs.getEntries(m,c).next(v=>{g=v,g.forEach((E,_)=>{_.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{d=v;const E=[];for(const _ of s){const x=IW(_,d.get(_.key).overlayedDocument);x!=null&&E.push(new Xi(_.key,x,fM(x.value.mapValue),Yt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,s)}).next(v=>{f=v;const E=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,v.batchId,E)})}).then(()=>({batchId:f.batchId,changes:SM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ot(be)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await eh(r,i.changes),await Zf(r.remoteStore)}catch(i){const a=uE(i,"Failed to persist write");n.reject(a)}}async function A$(t,e){const n=ye(t);try{const r=await TH(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ue(o.va):i.removedDocuments.size>0&&(ue(o.va),o.va=!1))}),await eh(n,r,e)}catch(r){await js(r)}}function LI(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ye(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(s)&&(u=!0)}),u&&cE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dK(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new ot(ne.comparator);o=o.insert(a,bt.newNoDocument(a,de.min()));const s=Ee().add(a),l=new vy(de.min(),new Map,new ot(be),o,s);await A$(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),dE(r)}else await Uw(r.localStore,e,!1).then(()=>qw(r,e,n)).catch(js)}async function fK(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await SH(n.localStore,e);I$(n,r,null),P$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eh(n,i)}catch(i){await js(i)}}async function hK(t,e,n){const r=ye(t);try{const i=await function(o,s){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(ue(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);I$(r,e,n),P$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eh(r,i)}catch(i){await js(i)}}function P$(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function I$(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function qw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||O$(t,r)})}function O$(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(iE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dE(t))}function VI(t,e,n){for(const r of n)r instanceof E$?(t.La.addReference(r.key,e),pK(t,r)):r instanceof S$?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||O$(t,r.key)):le()}function pK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),dE(t))}function dE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new rK(n)),t.Oa=t.Oa.insert(n,r),p$(t.remoteStore,new Ii(dr(Yf(n.path)),r,"TargetPurposeLimboResolution",sr.oe))}}async function eh(t,e,n){const r=ye(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n?.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=rE.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ye(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(u,f=>L.forEach(f.$i,m=>c.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>L.forEach(f.Ui,m=>c.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!co(d))throw d;X("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=c.os.get(f),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,y)}}}(r.localStore,a))}async function mK(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await u$(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new te(W.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eh(n,r.hs)}}function gK(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function C$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dK.bind(null,e),e.Ca.d_=ZH.bind(null,e.eventManager),e.Ca.$a=eK.bind(null,e.eventManager),e}function N$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hK.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return l$(this.persistence,new s$,e.initialUser,this.serializer)}Ga(e){return new o$(_y.Zr,this.serializer)}Wa(e){return new d$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class yK extends Jd{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await N$(this.Ja.syncEngine),await Zf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return l$(this.persistence,new s$,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new aH(r,e.asyncQueue,n)}Ha(e,n){const r=new R7(n,this.persistence);return new j7(e.asyncQueue,r)}Ga(e){const n=_H(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new nE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,RH(),Fp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new d$}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mK.bind(null,this.syncEngine),await QH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JH}()}createDatastore(e){const n=xy(e.databaseInfo.databaseId),r=function(a){return new jH(a)}(e.databaseInfo);return function(a,o,s,l){return new $H(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new VH(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>LI(this.syncEngine,n,0),function(){return jI.D()?new jI:new CH}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const d=new iK(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ye(i);X("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Jf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=JD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function N0(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await u$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bK(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RI(e.remoteStore,i)),t._onlineComponents=e}async function bK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await N0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await N0(t,new Jd)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await N0(t,new Jd);return t._offlineComponents}async function j$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await FI(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await FI(t,new Rm))),t._onlineComponents}function wK(t){return j$(t).then(e=>e.syncEngine)}async function Ww(t){const e=await j$(t),n=e.eventManager;return n.onListen=aK.bind(null,e.syncEngine),n.onUnlisten=lK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uK.bind(null,e.syncEngine),n}function _K(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new k$({next:f=>{c.Za(),o.enqueueAndForget(()=>_$(a,d));const m=f.docs.has(s);!m&&f.fromCache?u.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new x$(Yf(s.path),c,{includeMetadataChanges:!0,_a:!0});return w$(a,d)}(await Ww(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e,n){if(!n)throw new te(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xK(t,e,n,r){if(e===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UI(t){if(!ne.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zI(t){if(ne.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sy(t);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _7;switch(r.type){case"firstParty":return new T7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BI.get(n);r&&(X("ComponentProvider","Removing Datastore"),BI.delete(n),r.terminate())}(this),Promise.resolve()}}function EK(t,e,n,r={}){var i;const a=(t=fr(t,Ty))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Ht.MOCK_USER;else{s=Mz(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}t._authCredentials=new x7(new XD(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Wa extends Lu{constructor(e,n,r){super(e,n,Yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ne(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function Ay(t,e,...n){if(t=Xe(t),D$("collection","path",e),t instanceof Ty){const r=Me.fromString(e,...n);return zI(r),new Wa(t,null,r)}{if(!(t instanceof dn||t instanceof Wa))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return zI(r),new Wa(t.firestore,null,r)}}function ir(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=JD.newId()),D$("doc","path",e),t instanceof Ty){const r=Me.fromString(e,...n);return UI(r),new dn(t,null,new ne(r))}{if(!(t instanceof dn||t instanceof Wa))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return UI(r),new dn(t.firestore,t instanceof Wa?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new f$(this,"async_queue_retry"),this.Vu=()=>{const r=Fp();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ji;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!co(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=lE.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function HI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Za extends Ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WI(e),this._firestoreClient=void 0,await e}}}function SK(t,e){const n=typeof t=="object"?t:C1(),r=typeof t=="string"?t:"(default)",i=Ns(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Rz("firestore");a&&EK(i,...a)}return i}function Py(t){if(t._terminated)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M$(t),t._firestoreClient}function M$(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,c){return new nW(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,R$(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vK(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}}(t._componentsProvider))}function TK(t,e){cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return AK(t,Rm.provider,{build:r=>new yK(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function AK(t,e,n){if((t=fr(t,Za))._firestoreClient||t._terminated)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new te(W.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},M$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(Pt.fromBase64String(e))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tu(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=/^__.*__$/;class IK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class $${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class pE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(L$(this.Cu)&&PK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class OK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xy(e)}Qu(e,n,r,i=!1){return new pE({Cu:e,methodName:n,qu:r,path:ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oy(t){const e=t._freezeSettings(),n=xy(t._databaseId);return new OK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V$(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);gE("Data must be an object, but it was:",o,r);const s=U$(r,o);let l,u;if(a.merge)l=new kn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const f=Hw(e,d,n);if(!o.contains(f))throw new te(W.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);q$(c,f)||c.push(f)}l=new kn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new IK(new cn(s),l,u)}class Cy extends Iy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cy}}class mE extends Iy{_toFieldTransform(e){return new NM(e.path,new Ql)}isEqual(e){return e instanceof mE}}function F$(t,e,n,r){const i=t.Qu(1,e,n);gE("Data must be an object, but it was:",i,r);const a=[],o=cn.empty();Rs(r,(l,u)=>{const c=yE(e,l,n);u=Xe(u);const d=i.Nu(c);if(u instanceof Cy)a.push(c);else{const f=nh(u,d);f!=null&&(a.push(c),o.set(c,f))}});const s=new kn(a);return new $$(o,s,i.fieldTransforms)}function B$(t,e,n,r,i,a){const o=t.Qu(1,e,n),s=[Hw(e,r,n)],l=[i];if(a.length%2!=0)throw new te(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)s.push(Hw(e,a[f])),l.push(a[f+1]);const u=[],c=cn.empty();for(let f=s.length-1;f>=0;--f)if(!q$(u,s[f])){const m=s[f];let g=l[f];g=Xe(g);const y=o.Nu(m);if(g instanceof Cy)u.push(m);else{const v=nh(g,y);v!=null&&(u.push(m),c.set(m,v))}}const d=new kn(u);return new $$(c,d,o.fieldTransforms)}function CK(t,e,n,r=!1){return nh(n,t.Qu(r?4:3,e))}function nh(t,e){if(z$(t=Xe(t)))return gE("Unsupported field value:",e,t),U$(t,e);if(t instanceof Iy)return function(r,i){if(!L$(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=nh(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ht.fromDate(r);return{timestampValue:Zl(i.serializer,a)}}if(r instanceof ht){const a=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zl(i.serializer,a)}}if(r instanceof fE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tu)return{bytesValue:LM(i.serializer,r._byteString)};if(r instanceof dn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:J1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hE)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return K1(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sy(r)}`)}(t,e)}function U$(t,e){const n={};return lM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{const a=nh(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function z$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof fE||t instanceof tu||t instanceof dn||t instanceof Iy||t instanceof hE)}function gE(t,e,n){if(!z$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Hw(t,e,n){if((e=Xe(e))instanceof th)return e._internalPath;if(typeof e=="string")return yE(t,e);throw Dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const NK=new RegExp("[~\\*/\\[\\]]");function yE(t,e,n){if(e.search(NK)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new th(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dm(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(W.INVALID_ARGUMENT,s+t+l)}function q$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kK extends W${data(){return super.data()}}function vE(t,e){return typeof e=="string"?yE(t,e):e instanceof th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bE{}class RK extends bE{}function wE(t,e,...n){let r=[];e instanceof bE&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof xE).length,s=a.filter(l=>l instanceof Ny).length;if(o>1||o>0&&s>0)throw new te(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ny extends RK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ny(e,n,r)}_apply(e){const n=this._parse(e);return H$(e._query,n),new Lu(e.firestore,e.converter,jw(e._query,n))}_parse(e){const n=Oy(e.firestore);return function(a,o,s,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new te(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){GI(d,c);const m=[];for(const g of d)m.push(KI(l,a,g));f={arrayValue:{values:m}}}else f=KI(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||GI(d,c),f=CK(s,o,d,c==="in"||c==="not-in");return Pe.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _E(t,e,n){const r=e,i=vE("where",t);return Ny._create(i,r,n)}class xE extends bE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Le.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)H$(o,l),o=jw(o,l)}(e._query,n),new Lu(e.firestore,e.converter,jw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KI(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(e)&&n.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ne.isDocumentKey(r))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yd(t,new ne(r))}if(n instanceof dn)return Yd(t,n._key);throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sy(n)}.`)}function GI(t,e){if(!Array.isArray(t)||t.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H$(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DK{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rs(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>rt(o.doubleValue));return new hE(a)}convertGeoPoint(e){return new fE(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=W1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);ue(GM(r));const i=new ds(r.get(1),r.get(3)),a=new ne(r.popFirst(5));return i.isEqual(n)||yn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G$ extends W${constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bp extends G${data(e={}){return super.data(e)}}class MK{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bp(this._firestore,this._userDataWriter,r.key,r,new Gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Bp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Bp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:$K(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $K(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){t=fr(t,dn);const e=fr(t.firestore,Za);return _K(Py(e),t._key).then(n=>X$(e,t,n))}class Y$ extends DK{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function Pc(t,e,n){t=fr(t,dn);const r=fr(t.firestore,Za),i=K$(t.converter,e,n);return SE(r,[V$(Oy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yt.none())])}function Q$(t,e,n,...r){t=fr(t,dn);const i=fr(t.firestore,Za),a=Oy(i);let o;return o=typeof(e=Xe(e))=="string"||e instanceof th?B$(a,"updateDoc",t._key,e,n,r):F$(a,"updateDoc",t._key,e),SE(i,[o.toMutation(t._key,Yt.exists(!0))])}function ky(t,...e){var n,r,i;t=Xe(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||HI(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(HI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof dn)u=fr(t.firestore,Za),c=Yf(t._key.path),l={next:d=>{e[o]&&e[o](X$(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fr(t,Lu);u=fr(d.firestore,Za),c=d._query;const f=new Y$(u);l={next:m=>{e[o]&&e[o](new MK(u,f,d,m))},error:e[o+1],complete:e[o+2]},jK(t._query)}return function(f,m,g,y){const v=new k$(y),E=new x$(m,v,g);return f.asyncQueue.enqueueAndForget(async()=>w$(await Ww(f),E)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>_$(await Ww(f),E))}}(Py(u),c,s,l)}function SE(t,e){return function(r,i){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>cK(await wK(r),i,a)),a.promise}(Py(t),e)}function X$(t,e,n){const r=n.docs.get(e._key),i=new Y$(t);return new G$(t,i,e._key,r,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oy(e)}set(e,n,r){this._verifyNotCommitted();const i=k0(e,this._firestore),a=K$(i.converter,n,r),o=V$(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Yt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=k0(e,this._firestore);let o;return o=typeof(n=Xe(n))=="string"||n instanceof th?B$(this._dataReader,"WriteBatch.update",a._key,n,r,i):F$(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,Yt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=k0(e,this._firestore);return this._mutations=this._mutations.concat(new yy(n._key,Yt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function k0(t,e){if((t=Xe(t)).firestore!==e)throw new te(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Kw(){return new mE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t){return Py(t=fr(t,Za)),new LK(t,e=>SE(t,e))}(function(e,n=!0){(function(i){Du=i})(ju),ti(new jr("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Za(new E7(r.getProvider("auth-internal")),new P7(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),cr(FP,"4.7.3",e),cr(FP,"4.7.3","esm2017")})();var FK="firebase",BK="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(FK,BK,"app");const UK=(t,e)=>e.some(n=>t instanceof n);let YI,QI;function zK(){return YI||(YI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qK(){return QI||(QI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J$=new WeakMap,Gw=new WeakMap,Z$=new WeakMap,j0=new WeakMap,TE=new WeakMap;function WK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ha(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&J$.set(n,t)}).catch(()=>{}),TE.set(e,t),e}function HK(t){if(Gw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Gw.set(t,e)}let Yw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KK(t){Yw=t(Yw)}function GK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R0(this),e,...n);return Z$.set(r,e.sort?e.sort():[e]),Ha(r)}:qK().includes(t)?function(...e){return t.apply(R0(this),e),Ha(J$.get(this))}:function(...e){return Ha(t.apply(R0(this),e))}}function YK(t){return typeof t=="function"?GK(t):(t instanceof IDBTransaction&&HK(t),UK(t,zK())?new Proxy(t,Yw):t)}function Ha(t){if(t instanceof IDBRequest)return WK(t);if(j0.has(t))return j0.get(t);const e=YK(t);return e!==t&&(j0.set(t,e),TE.set(e,t)),e}const R0=t=>TE.get(t);function QK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ha(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ha(o.result),l.oldVersion,l.newVersion,Ha(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const XK=["get","getKey","getAll","getAllKeys","count"],JK=["put","add","delete","clear"],D0=new Map;function XI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XK.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return D0.set(e,a),a}KK(t=>({...t,get:(e,n,r)=>XI(e,n)||t.get(e,n,r),has:(e,n)=>!!XI(e,n)||t.has(e,n)}));const eL="@firebase/installations",AE="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1e4,nL=`w:${AE}`,rL="FIS_v2",ZK="https://firebaseinstallations.googleapis.com/v1",eG=60*60*1e3,tG="installations",nG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ys=new Cs(tG,nG,rG);function iL(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL({projectId:t}){return`${ZK}/projects/${t}/installations`}function oL(t){return{token:t.token,requestStatus:2,expiresIn:aG(t.expiresIn),creationTime:Date.now()}}async function sL(t,e){const r=(await e.json()).error;return ys.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iG(t,{refreshToken:e}){const n=lL(t);return n.append("Authorization",oG(e)),n}async function uL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function aG(t){return Number(t.replace("s","000"))}function oG(t){return`${rL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aL(t),i=lL(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:rL,appId:t.appId,sdkVersion:nL},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await uL(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:oL(u.authToken)}}else throw await sL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=/^[cdef][\w-]{21}$/,Qw="";function cG(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=dG(t);return uG.test(n)?n:Qw}catch{return Qw}}function dG(t){return lG(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Map;function fL(t,e){const n=jy(t);hL(n,e),fG(n,e)}function hL(t,e){const n=dL.get(t);if(n)for(const r of n)r(e)}function fG(t,e){const n=hG();n&&n.postMessage({key:t,fid:e}),pG()}let zo=null;function hG(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=t=>{hL(t.data.key,t.data.fid)}),zo}function pG(){dL.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG="firebase-installations-database",gG=1,vs="firebase-installations-store";let M0=null;function PE(){return M0||(M0=QK(mG,gG,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vs)}}})),M0}async function Mm(t,e){const n=jy(t),i=(await PE()).transaction(vs,"readwrite"),a=i.objectStore(vs),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&fL(t,e.fid),e}async function pL(t){const e=jy(t),r=(await PE()).transaction(vs,"readwrite");await r.objectStore(vs).delete(e),await r.done}async function Ry(t,e){const n=jy(t),i=(await PE()).transaction(vs,"readwrite"),a=i.objectStore(vs),o=await a.get(n),s=e(o);return s===void 0?await a.delete(n):await a.put(s,n),await i.done,s&&(!o||o.fid!==s.fid)&&fL(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t){let e;const n=await Ry(t.appConfig,r=>{const i=yG(r),a=vG(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Qw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yG(t){const e=t||{fid:cG(),registrationStatus:0};return mL(e)}function vG(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ys.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=bG(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wG(t)}:{installationEntry:e}}async function bG(t,e){try{const n=await sG(t,e);return Mm(t.appConfig,n)}catch(n){throw iL(n)&&n.customData.serverCode===409?await pL(t.appConfig):await Mm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function wG(t){let e=await JI(t.appConfig);for(;e.registrationStatus===1;)await cL(100),e=await JI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await IE(t);return r||n}return e}function JI(t){return Ry(t,e=>{if(!e)throw ys.create("installation-not-found");return mL(e)})}function mL(t){return _G(t)?{fid:t.fid,registrationStatus:0}:t}function _G(t){return t.registrationStatus===1&&t.registrationTime+tL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xG({appConfig:t,heartbeatServiceProvider:e},n){const r=EG(t,n),i=iG(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:nL,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await uL(()=>fetch(r,s));if(l.ok){const u=await l.json();return oL(u)}else throw await sL("Generate Auth Token",l)}function EG(t,{fid:e}){return`${aL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(t,e=!1){let n;const r=await Ry(t.appConfig,a=>{if(!gL(a))throw ys.create("not-registered");const o=a.authToken;if(!e&&AG(o))return a;if(o.requestStatus===1)return n=SG(t,e),a;{if(!navigator.onLine)throw ys.create("app-offline");const s=IG(a);return n=TG(t,s),s}});return n?await n:r.authToken}async function SG(t,e){let n=await ZI(t.appConfig);for(;n.authToken.requestStatus===1;)await cL(100),n=await ZI(t.appConfig);const r=n.authToken;return r.requestStatus===0?OE(t,e):r}function ZI(t){return Ry(t,e=>{if(!gL(e))throw ys.create("not-registered");const n=e.authToken;return OG(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function TG(t,e){try{const n=await xG(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Mm(t.appConfig,r),n}catch(n){if(iL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mm(t.appConfig,r)}throw n}}function gL(t){return t!==void 0&&t.registrationStatus===2}function AG(t){return t.requestStatus===2&&!PG(t)}function PG(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eG}function IG(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function OG(t){return t.requestStatus===1&&t.requestTime+tL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CG(t){const e=t,{installationEntry:n,registrationPromise:r}=await IE(e);return r?r.catch(console.error):OE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NG(t,e=!1){const n=t;return await kG(n),(await OE(n,e)).token}async function kG(t){const{registrationPromise:e}=await IE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t){if(!t||!t.options)throw $0("App Configuration");if(!t.name)throw $0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $0(t){return ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="installations",RG="installations-internal",DG=t=>{const e=t.getProvider("app").getImmediate(),n=jG(e),r=Ns(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},MG=t=>{const e=t.getProvider("app").getImmediate(),n=Ns(e,yL).getImmediate();return{getId:()=>CG(n),getToken:i=>NG(n,i)}};function $G(){ti(new jr(yL,DG,"PUBLIC")),ti(new jr(RG,MG,"PRIVATE"))}$G();cr(eL,AE);cr(eL,AE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="analytics",LG="firebase_id",VG="origin",FG=60*1e3,BG="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new oy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new Cs("analytics","Analytics",UG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(t){if(!t.startsWith(CE)){const e=Kn.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function vL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qG(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function WG(t,e){const n=qG("firebase-js-sdk-policy",{createScriptURL:zG}),r=document.createElement("script"),i=`${CE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function HG(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function KG(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const l=(await vL(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){$n.error(s)}t("config",i,a)}async function GG(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await vL(n);for(const l of o){const u=s.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)a.push(c);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){$n.error(a)}}function YG(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await GG(t,e,n,s,l)}else if(a==="config"){const[s,l]=o;await KG(t,e,n,r,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){$n.error(s)}}return i}function QG(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=YG(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function XG(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(CE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=30,ZG=1e3;class eY{constructor(e={},n=ZG){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bL=new eY;function tY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nY(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tY(r)},a=BG.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function rY(t,e=bL,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Kn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new oY;return setTimeout(async()=>{s.abort()},FG),wL({appId:r,apiKey:i,measurementId:a},o,s,e)}async function wL(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=bL){var a;const{appId:o,measurementId:s}=t;try{await iY(r,e)}catch(l){if(s)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:s};throw l}try{const l=await nY(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!aY(u)){if(i.deleteThrottleMetadata(o),s)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:s};throw l}const c=Number((a=u?.customData)===null||a===void 0?void 0:a.httpStatus)===503?cP(n,i.intervalMillis,JG):cP(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),$n.debug(`Calling attemptFetch again in ${c} millis`),wL(t,d,r,i)}}function iY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aY(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class oY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sY(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lY(){if(I1())try{await nD()}catch(t){return $n.warn(Kn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return $n.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uY(t,e,n,r,i,a,o){var s;const l=rY(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>$n.error(m)),e.push(l);const u=lY().then(m=>{if(m)return r.getId()}),[c,d]=await Promise.all([l,u]);XG(a)||WG(a,c.measurementId),i("js",new Date);const f=(s=o?.config)!==null&&s!==void 0?s:{};return f[VG]="firebase",f.update=!0,d!=null&&(f[LG]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e){this.app=e}_delete(){return delete fd[this.app.options.appId],Promise.resolve()}}let fd={},eO=[];const tO={};let L0="dataLayer",dY="gtag",nO,_L,rO=!1;function fY(){const t=[];if(eD()&&t.push("This is a browser extension environment."),Uz()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}function hY(t,e,n){fY();const r=t.options.appId;if(!r)throw Kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(fd[r]!=null)throw Kn.create("already-exists",{id:r});if(!rO){HG(L0);const{wrappedGtag:a,gtagCore:o}=QG(fd,eO,tO,L0,dY);_L=a,nO=o,rO=!0}return fd[r]=uY(t,eO,tO,e,nO,L0,n),new cY(t)}function pY(t=C1()){t=Xe(t);const e=Ns(t,$m);return e.isInitialized()?e.getImmediate():mY(t)}function mY(t,e={}){const n=Ns(t,$m);if(n.isInitialized()){const i=n.getImmediate();if(Bd(e,n.getOptions()))return i;throw Kn.create("already-initialized")}return n.initialize({options:e})}function gY(t,e,n,r){t=Xe(t),sY(_L,fd[t.app.options.appId],e,n,r).catch(i=>$n.error(i))}const iO="@firebase/analytics",aO="0.10.8";function yY(){ti(new jr($m,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return hY(r,i,n)},"PUBLIC")),ti(new jr("analytics-internal",t,"PRIVATE")),cr(iO,aO),cr(iO,aO,"esm2017");function t(e){try{const n=e.getProvider($m).getImmediate();return{logEvent:(r,i,a)=>gY(n,r,i,a)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}}}yY();const vY={apiKey:"AIzaSyB-HVMtQLj9XIYhAnfh08ZYMOgm_szeF6M",authDomain:"gestiondespresentoirs-4ab01.firebaseapp.com",projectId:"gestiondespresentoirs-4ab01",storageBucket:"gestiondespresentoirs-4ab01.firebasestorage.app",messagingSenderId:"747803683779",appId:"1:747803683779:web:a468fa7312ff3fc9bbab76",measurementId:"G-VMK849TR6L"},NE=aD(vY),hd=b7(NE),Gt=SK(NE);pY(NE);TK(Gt).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser doesn't support all of the features required to enable persistence")});const xL=async t=>{const e=await EE(ir(Gt,"users",t));if(!e.exists())return null;const n=e.data();return{role:n.role,permissions:n.permissions||[]}},bY=t=>sq(hd,t),wY=()=>{const[t,e]=M.useState(null),[n,r]=M.useState(null),[i,a]=M.useState(!0);return M.useEffect(()=>{const o=bY(async s=>{if(e(s),s){const l=await xL(s.uid);r(l)}else r(null);a(!1)});return()=>o()},[]),{user:t,userRole:n,loading:i,isAdmin:n?.role==="admin",isAuthenticated:!!t}},oO=({children:t,requireAdmin:e=!1})=>{const{user:n,userRole:r,loading:i}=wY(),a=oo();return i?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):n?e&&r?.role!=="admin"?p.jsx(nP,{to:"/unauthorized",replace:!0}):p.jsx(p.Fragment,{children:t}):p.jsx(nP,{to:"/login",state:{from:a},replace:!0})},_Y=async(t,e)=>{try{if((await EE(ir(Gt,"users",t))).exists())return console.log("Utilisateur existe dj"),!0;await Pc(ir(Gt,"users",t),{email:e,role:"admin",createdAt:new Date().toISOString(),permissions:["all"],organizationId:t});const r=[{id:"001",name:"Prsentoir Entre",location:"Hall Principal",currentPoster:"Bienvenue",isReserved:!1,lastUpdated:new Date().toISOString(),organizationId:t,createdAt:new Date().toISOString(),maintenanceHistory:[],posterRequests:[],publications:[]},{id:"002",name:"Prsentoir Caftria",location:"Zone de Restauration",currentPoster:"Menu",isReserved:!1,lastUpdated:new Date().toISOString(),organizationId:t,createdAt:new Date().toISOString(),maintenanceHistory:[],posterRequests:[],publications:[]}];for(const o of r)await Pc(ir(Gt,"stands",o.id),o);const i=[{id:"pub001",title:"Guide Visiteur",description:"Guide complet pour les visiteurs",imageUrl:"https://images.unsplash.com/photo-1532153975070-2e9ab71f1b14",category:"Guides",isActive:!0,minStock:10,organizationId:t,createdAt:new Date().toISOString()},{id:"pub002",title:"Programme Mensuel",description:"Programme des activits du mois",imageUrl:"https://images.unsplash.com/photo-1506784365847-bbad939e9335",category:"Programmes",isActive:!0,minStock:15,organizationId:t,createdAt:new Date().toISOString()}];for(const o of i)await Pc(ir(Gt,"publications",o.id),o);const a=[{id:"pos001",name:"Bienvenue",description:"Affiche de bienvenue",imageUrl:"https://images.unsplash.com/photo-1490750967868-88aa4486c946",category:"Accueil",isActive:!0,organizationId:t,createdAt:new Date().toISOString()},{id:"pos002",name:"Menu",description:"Affiche du menu",imageUrl:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab",category:"Restauration",isActive:!0,organizationId:t,createdAt:new Date().toISOString()}];for(const o of a)await Pc(ir(Gt,"posters",o.id),o);return await Pc(ir(Gt,"settings",t),{baseUrl:"https://gestionpresentoirs.online/stand/",maxReservationDays:30,minAdvanceHours:24,emailNotifications:{newReservation:!0,posterRequest:!0,maintenance:!0},maintenance:{preventiveIntervalMonths:3,emailNotifications:!0},assembly:{name:"Mon Assemble",address:"",city:"",postalCode:"",country:"France"},organizationId:t,createdAt:new Date().toISOString()}),console.log("Base de donnes initialise avec succs"),!0}catch(n){throw console.error("Erreur lors de l'initialisation de la base de donnes:",n),n}},EL=M.createContext(void 0),xY=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0),[a,o]=M.useState(!1);M.useEffect(()=>{const d=hd.onAuthStateChanged(async f=>{if(n(f),f)try{const m=await xL(f.uid);m?o(m.role==="admin"):(await _Y(f.uid,f.email||""),o(!0))}catch(m){console.error("Erreur lors de la vrification du rle:",m)}else o(!1);i(!1)});return()=>d()},[]);const s=async(d,f)=>{try{await nq(hd,d,f)}catch(m){throw console.error("Erreur de connexion:",m),m}},l=async()=>{try{await lq(hd)}catch(d){throw console.error("Erreur de dconnexion:",d),d}},u=async d=>{if(!e)throw new Error("No user logged in");try{await jD(e,d),he.success("Profil mis  jour avec succs")}catch(f){throw console.error("Erreur de mise  jour du profil:",f),f}},c=async(d,f)=>{if(!e)throw new Error("No user logged in");try{const m=uo.credential(e.email,d);await kD(e,m),await RD(e,f),he.success("Mot de passe mis  jour avec succs")}catch(m){throw console.error("Erreur de mise  jour du mot de passe:",m),m}};return p.jsx(EL.Provider,{value:{currentUser:e,loading:r,isAdmin:a,signIn:s,signOut:l,updateProfile:u,updatePassword:c},children:!r&&t})},Ms=()=>{const t=M.useContext(EL);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>M.createElement("svg",{ref:c,...EY,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${SY(t)}`,s].join(" "),...u},[...e.map(([d,f])=>M.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Re("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Re("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=Re("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=Re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BY=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,a]=M.useState(!1),[o,s]=M.useState(""),{signIn:l}=Ms(),u=so(),d=oo().state?.from?.pathname||"/",f=async m=>{m.preventDefault(),s(""),a(!0);try{await l(t,n),he.success("Connexion russie"),u(d,{replace:!0})}catch(g){let y="Erreur de connexion";switch(g.code){case"auth/invalid-email":y="Adresse email invalide";break;case"auth/user-disabled":y="Ce compte a t dsactiv";break;case"auth/user-not-found":y="Aucun compte associ  cet email";break;case"auth/wrong-password":y="Mot de passe incorrect";break}s(y),he.error(y)}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:p.jsx("div",{className:"max-w-md w-full",children:p.jsxs("div",{className:"card p-8 shadow-xl border-2 border-blue-100",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg",children:p.jsx(pd,{className:"h-8 w-8"})})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Connexion"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Accdez  votre espace de gestion des prsentoirs"})]}),o&&p.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[p.jsx(kE,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),p.jsx("p",{className:"text-sm text-red-700",children:o})]}),p.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(PL,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"email",required:!0,className:"input pl-10",value:t,onChange:m=>e(m.target.value),placeholder:"votre@email.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(pd,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"password",required:!0,className:"input pl-10",value:n,onChange:m=>r(m.target.value),placeholder:""})]})]}),p.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary w-full",children:i?p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Connexion en cours..."]}):"Se connecter"})]})]})})})},UY=()=>{const t=oo(),e=so(),{signOut:n}=Ms(),r=[{name:"Tableau de bord",href:"/",icon:AL},{name:"Statistiques",href:"/statistics",icon:TY},{name:"Maintenance",href:"/maintenance",icon:eo},{name:"Paramtres",href:"/settings",icon:MY}],i=async()=>{try{await n(),e("/login")}catch{he.error("Erreur lors de la dconnexion")}};return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("nav",{className:"bg-white shadow-sm",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between h-16",children:[p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0 flex items-center",children:p.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Gestion des Prsentoirs"})}),p.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:r.map(a=>{const o=a.icon,s=t.pathname===a.href;return p.jsxs(Ei,{to:a.href,className:`inline-flex items-center px-1 pt-1 text-sm font-medium ${s?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[p.jsx(o,{className:"h-4 w-4 mr-2"}),a.name]},a.name)})})]}),p.jsx("div",{className:"flex items-center",children:p.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:[p.jsx(RY,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]})})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:p.jsx(S5,{})})]})},rh=()=>{const t=hd.currentUser;if(!t)throw new Error("User must be authenticated");return t},zY=t=>{const e=rh(),n=Ay(Gt,"stands"),r=wE(n,_E("organizationId","==",e.uid));return ky(r,i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));t(a)})},qY=async(t,e)=>{const n=rh(),r=ir(Gt,"stands",t);await Q$(r,{...e,lastUpdated:Kw(),organizationId:n.uid})},WY=async(t,e)=>{const n=rh(),r=VK(Gt),i=ir(Ay(Gt,"maintenance")),a=ir(Gt,"stands",t),o=await EE(a);if(!o.exists())throw new Error("Stand not found");const s=o.data();if(s.organizationId!==n.uid)throw new Error("Unauthorized");r.set(i,{...e,id:i.id,standId:t,createdBy:n.uid,createdAt:Kw()});const l=s.maintenanceHistory||[];r.update(a,{maintenanceHistory:[...l,{...e,id:i.id}],lastMaintenance:e.date,lastUpdated:Kw()}),await r.commit()},HY=t=>{const e=rh(),n=Ay(Gt,"publications"),r=wE(n,_E("organizationId","==",e.uid));return ky(r,i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));t(a)})},KY=t=>{const e=rh(),n=Ay(Gt,"posters"),r=wE(n,_E("organizationId","==",e.uid));return ky(r,i=>{const a=i.docs.map(o=>({id:o.id,...o.data()}));t(a)})},IL=M.createContext(void 0),GY=({children:t})=>{const[e,n]=M.useState([]),[r,i]=M.useState([]),[a,o]=M.useState([]),{currentUser:s}=Ms();M.useEffect(()=>{if(!s){n([]),i([]),o([]);return}const u=zY(f=>{n(f)}),c=KY(f=>{i(f)}),d=HY(f=>{o(f)});return()=>{u(),c(),d()}},[s]);const l={stands:e,setStands:n,availablePosters:r,setAvailablePosters:i,publications:a,setPublications:o,addMaintenance:async(u,c)=>{if(!s)throw new Error("User must be authenticated");await WY(u,c)},addStand:async u=>{if(!s)throw new Error("User must be authenticated");await qY(u.id,u)},removeStand:async u=>{if(!s)throw new Error("User must be authenticated")}};return p.jsx(IL.Provider,{value:l,children:t})},ho=()=>{const t=M.useContext(IL);if(!t)throw new Error("useStands must be used within a StandsProvider");return t};var YY=Object.defineProperty,Lm=Object.getOwnPropertySymbols,OL=Object.prototype.hasOwnProperty,CL=Object.prototype.propertyIsEnumerable,sO=(t,e,n)=>e in t?YY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QY=(t,e)=>{for(var n in e||(e={}))OL.call(e,n)&&sO(t,n,e[n]);if(Lm)for(var n of Lm(e))CL.call(e,n)&&sO(t,n,e[n]);return t},XY=(t,e)=>{var n={};for(var r in t)OL.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Lm)for(var r of Lm(t))e.indexOf(r)<0&&CL.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bs;(t=>{const e=class{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let g=0;g<this.size;g++)f.push(!1);for(let g=0;g<this.size;g++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(c);if(this.drawCodewords(m),d==-1){let g=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const v=this.getPenaltyScore();v<g&&(d=y,g=v),this.applyMask(y)}}a(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const c=t.QrSegment.makeSegments(l);return e.encodeSegments(c,u)}static encodeBinary(l,u){const c=t.QrSegment.makeBytes(l);return e.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,f=-1,m=!0){if(!(e.MIN_VERSION<=c&&c<=d&&d<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let g,y;for(g=c;;g++){const x=e.getNumDataCodewords(g,u)*8,P=s.getTotalBits(l,g);if(P<=x){y=P;break}if(g>=d)throw new RangeError("Data too long")}for(const x of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])m&&y<=e.getNumDataCodewords(g,x)*8&&(u=x);let v=[];for(const x of l){r(x.mode.modeBits,4,v),r(x.numChars,x.mode.numCharCountBits(g),v);for(const P of x.getData())v.push(P)}a(v.length==y);const E=e.getNumDataCodewords(g,u)*8;a(v.length<=E),r(0,Math.min(4,E-v.length),v),r(0,(8-v.length%8)%8,v),a(v.length%8==0);for(let x=236;v.length<E;x^=253)r(x,8,v);let _=[];for(;_.length*8<v.length;)_.push(0);return v.forEach((x,P)=>_[P>>>3]|=x<<7-(P&7)),new e(g,u,_,f)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let f=0;f<10;f++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;a(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,i(d,f));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,i(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,i(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,i(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;a(u>>>18==0);for(let c=0;c<18;c++){const d=i(u,c),f=this.size-11+c%3,m=Math.floor(c/3);this.setFunctionModule(f,m,d),this.setFunctionModule(m,f,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(c)),m=l+d,g=u+c;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,f!=2&&f!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=e.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],f=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],m=Math.floor(e.getNumRawDataModules(u)/8),g=d-m%d,y=Math.floor(m/d);let v=[];const E=e.reedSolomonComputeDivisor(f);for(let x=0,P=0;x<d;x++){let S=l.slice(P,P+y-f+(x<g?0:1));P+=S.length;const A=e.reedSolomonComputeRemainder(S,E);x<g&&S.push(0),v.push(S.concat(A))}let _=[];for(let x=0;x<v[0].length;x++)v.forEach((P,S)=>{(x!=y-f||S>=g)&&_.push(P[x])});return a(_.length==m),_}drawCodewords(l){if(l.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const m=c-f,y=(c+1&2)==0?this.size-1-d:d;!this.isFunction[y][m]&&u<l.length*8&&(this.modules[y][m]=i(l[u>>>3],7-(u&7)),u++)}}a(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let m=!1,g=0,y=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[f][v]==m?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,y),m||(l+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),m=this.modules[f][v],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let m=!1,g=0,y=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][f]==m?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,y),m||(l+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),m=this.modules[v][f],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let m=0;m<this.size-1;m++){const g=this.modules[f][m];g==this.modules[f][m+1]&&g==this.modules[f+1][m]&&g==this.modules[f+1][m+1]&&(l+=e.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((m,g)=>m+(g?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return a(0<=d&&d<=9),l+=d*e.PENALTY_N4,a(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(e.getNumRawDataModules(l)/8)-e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let f=0;f<u.length;f++)u[f]=e.reedSolomonMultiply(u[f],c),f+1<u.length&&(u[f]^=u[f+1]);c=e.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(const d of l){const f=d^c.shift();c.push(0),u.forEach((m,g)=>c[g]^=e.reedSolomonMultiply(m,f))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return a(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];a(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(l,u,c){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let d=u-1;d>=0;d--)c.push(l>>>d&1)}function i(l,u){return(l>>>u&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)r(c,8,u);return new o(o.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const d=Math.min(l.length-c,3);r(parseInt(l.substr(c,d),10),d*3+1,u),c+=d}return new o(o.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),r(d,11,u)}return c<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new o(o.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,u);else if(l<16384)r(2,2,u),r(l,14,u);else if(l<1e6)r(6,3,u),r(l,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const d of l){const f=d.mode.numCharCountBits(u);if(d.numChars>=1<<f)return 1/0;c+=4+f+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substr(c+1,2),16)),c+=2);return u}};let s=o;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=s})(bs||(bs={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(bs||(bs={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(bs||(bs={}));var Yc=bs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var JY={L:Yc.QrCode.Ecc.LOW,M:Yc.QrCode.Ecc.MEDIUM,Q:Yc.QrCode.Ecc.QUARTILE,H:Yc.QrCode.Ecc.HIGH},ZY=128,eQ="L",tQ="#FFFFFF",nQ="#000000",rQ=!1,NL=4,iQ=.1;function aQ(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(o,s){if(!o&&a!==null){n.push(`M${a+e} ${i+e}h${s-a}v1H${a+e}z`),a=null;return}if(s===r.length-1){if(!o)return;a===null?n.push(`M${s+e},${i+e} h1v1H${s+e}z`):n.push(`M${a+e},${i+e} h${s+1-a}v1H${a+e}z`);return}o&&a===null&&(a=s)})}),n.join("")}function oQ(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function sQ(t,e,n,r){if(r==null)return null;const i=n?NL:0,a=t.length+i*2,o=Math.floor(e*iQ),s=a/e,l=(r.width||o)*s,u=(r.height||o)*s,c=r.x==null?t.length/2-l/2:r.x*s,d=r.y==null?t.length/2-u/2:r.y*s;let f=null;if(r.excavate){let m=Math.floor(c),g=Math.floor(d),y=Math.ceil(l+c-m),v=Math.ceil(u+d-g);f={x:m,y:g,w:y,h:v}}return{x:c,y:d,h:u,w:l,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function ME(t){const e=t,{value:n,size:r=ZY,level:i=eQ,bgColor:a=tQ,fgColor:o=nQ,includeMargin:s=rQ,imageSettings:l}=e,u=XY(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let c=Yc.QrCode.encodeText(n,JY[i]).getModules();const d=s?NL:0,f=c.length+d*2,m=sQ(c,r,s,l);let g=null;l!=null&&m!=null&&(m.excavation!=null&&(c=oQ(c,m.excavation)),g=D.createElement("image",{xlinkHref:l.src,height:m.h,width:m.w,x:m.x+d,y:m.y+d,preserveAspectRatio:"none"}));const y=aQ(c,d);return D.createElement("svg",QY({height:r,width:r,viewBox:`0 0 ${f} ${f}`},u),D.createElement("path",{fill:a,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),D.createElement("path",{fill:o,d:y,shapeRendering:"crispEdges"}),g)}function wt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ii(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function F0(t,e){const n=wt(t);return isNaN(e)?ii(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function lQ(t,e){const n=wt(t);if(isNaN(e))return ii(t,NaN);if(!e)return n;const r=n.getDate(),i=ii(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const kL=6048e5,uQ=864e5;let cQ={};function $y(){return cQ}function ef(t,e){const n=$y(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=wt(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vm(t){return ef(t,{weekStartsOn:1})}function jL(t){const e=wt(t),n=e.getFullYear(),r=ii(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Vm(r),a=ii(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Vm(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function lO(t){const e=wt(t);return e.setHours(0,0,0,0),e}function uO(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function RL(t,e){const n=lO(t),r=lO(e),i=+n-uO(n),a=+r-uO(r);return Math.round((i-a)/uQ)}function dQ(t){const e=jL(t),n=ii(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Vm(n)}function fQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hQ(t){if(!fQ(t)&&typeof t!="number")return!1;const e=wt(t);return!isNaN(Number(e))}function Cr(t,e){const n=wt(t),r=wt(e),i=cO(n,r),a=Math.abs(RL(n,r));n.setDate(n.getDate()-i*a);const o=+(cO(n,r)===-i),s=i*(a-o);return s===0?0:s}function cO(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function pQ(t){const e=wt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mQ(t,e){const n=wt(t.start),r=wt(t.end);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(wt(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function gQ(t){const e=wt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yQ(t){const e=wt(t),n=ii(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const vQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bQ=(t,e,n)=>{let r;const i=vQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_Q={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EQ={date:jl({formats:wQ,defaultWidth:"full"}),time:jl({formats:_Q,defaultWidth:"full"}),dateTime:jl({formats:xQ,defaultWidth:"full"})},SQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TQ=(t,e,n,r)=>SQ[t];function Ur(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n?.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n?.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const AQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kQ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jQ={ordinalNumber:kQ,era:Ur({values:AQ,defaultWidth:"wide"}),quarter:Ur({values:PQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ur({values:IQ,defaultWidth:"wide"}),day:Ur({values:OQ,defaultWidth:"wide"}),dayPeriod:Ur({values:CQ,defaultWidth:"wide",formattingValues:NQ,defaultFormattingWidth:"wide"})};function zr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?DQ(s,d=>d.test(o)):RQ(s,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function RQ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function DQ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function DL(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const MQ=/^(\d+)(th|st|nd|rd)?/i,$Q=/\d+/i,LQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VQ={any:[/^b/i,/^(a|c)/i]},FQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BQ={any:[/1/i,/2/i,/3/i,/4/i]},UQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},KQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GQ={ordinalNumber:DL({matchPattern:MQ,parsePattern:$Q,valueCallback:t=>parseInt(t,10)}),era:zr({matchPatterns:LQ,defaultMatchWidth:"wide",parsePatterns:VQ,defaultParseWidth:"any"}),quarter:zr({matchPatterns:FQ,defaultMatchWidth:"wide",parsePatterns:BQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zr({matchPatterns:UQ,defaultMatchWidth:"wide",parsePatterns:zQ,defaultParseWidth:"any"}),day:zr({matchPatterns:qQ,defaultMatchWidth:"wide",parsePatterns:WQ,defaultParseWidth:"any"}),dayPeriod:zr({matchPatterns:HQ,defaultMatchWidth:"any",parsePatterns:KQ,defaultParseWidth:"any"})},YQ={code:"en-US",formatDistance:bQ,formatLong:EQ,formatRelative:TQ,localize:jQ,match:GQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QQ(t){const e=wt(t);return RL(e,yQ(e))+1}function XQ(t){const e=wt(t),n=+Vm(e)-+dQ(e);return Math.round(n/kL)+1}function ML(t,e){const n=wt(t),r=n.getFullYear(),i=$y(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=ii(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=ef(o,e),l=ii(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=ef(l,e);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function JQ(t,e){const n=$y(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ML(t,e),a=ii(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ef(a,e)}function ZQ(t,e){const n=wt(t),r=+ef(n,e)-+JQ(n,e);return Math.round(r/kL)+1}function $e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ca={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$e(n+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $e(i,e.length)}},Qs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ca.y(t,e)},Y:function(t,e,n,r){const i=ML(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return $e(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):$e(a,e.length)},R:function(t,e){const n=jL(t);return $e(n,e.length)},u:function(t,e){const n=t.getFullYear();return $e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ca.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ZQ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$e(i,e.length)},I:function(t,e,n){const r=XQ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ca.d(t,e)},D:function(t,e,n){const r=QQ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return $e(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return $e(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $e(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Qs.noon:r===0?i=Qs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Qs.evening:r>=12?i=Qs.afternoon:r>=4?i=Qs.morning:i=Qs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ca.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ca.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ca.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ca.s(t,e)},S:function(t,e){return ca.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hO(r);case"XXXX":case"XX":return No(r);case"XXXXX":case"XXX":default:return No(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return hO(r);case"xxxx":case"xx":return No(r);case"xxxxx":case"xxx":default:return No(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fO(r,":");case"OOOO":default:return"GMT"+No(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fO(r,":");case"zzzz":default:return"GMT"+No(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $e(r,e.length)},T:function(t,e,n){const r=t.getTime();return $e(r,e.length)}};function fO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+$e(a,2)}function hO(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):No(t,e)}function No(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$e(Math.trunc(r/60),2),a=$e(r%60,2);return n+i+e+a}const pO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$L=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return pO(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",pO(r,e)).replace("{{time}}",$L(i,e))},tX={p:$L,P:eX},nX=/^D+$/,rX=/^Y+$/,iX=["D","DD","YY","YYYY"];function aX(t){return nX.test(t)}function oX(t){return rX.test(t)}function sX(t,e,n){const r=lX(t,e,n);if(console.warn(r),iX.includes(t))throw new RangeError(r)}function lX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dX=/^'([^]*?)'?$/,fX=/''/g,hX=/[a-zA-Z]/;function dt(t,e,n){const r=$y(),i=n?.locale??r.locale??YQ,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=wt(t);if(!hQ(s))throw new RangeError("Invalid time value");let l=e.match(cX).map(c=>{const d=c[0];if(d==="p"||d==="P"){const f=tX[d];return f(c,i.formatLong)}return c}).join("").match(uX).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const d=c[0];if(d==="'")return{isToken:!1,value:pX(c)};if(dO[d])return{isToken:!0,value:c};if(d.match(hX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const d=c.value;(!n?.useAdditionalWeekYearTokens&&oX(d)||!n?.useAdditionalDayOfYearTokens&&aX(d))&&sX(d,e,String(t));const f=dO[d[0]];return f(s,d,i.localize,u)}).join("")}function pX(t){const e=t.match(dX);return e?e[1].replace(fX,"'"):t}function mX(t,e){const n=wt(t),r=wt(e);return+n<+r}const gX={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},yX=(t,e,n)=>{let r;const i=gX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},vX={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},bX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wX={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_X={date:jl({formats:vX,defaultWidth:"full"}),time:jl({formats:bX,defaultWidth:"full"}),dateTime:jl({formats:wX,defaultWidth:"full"})},xX={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},EX=(t,e,n,r)=>xX[t],SX={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},TX={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},AX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},PX={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},IX={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},OX=(t,e)=>{const n=Number(t),r=e?.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=r&&i.includes(r)?"re":"er":a="me",n+a},CX=["MMM","MMMM"],NX={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&CX.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:OX,era:Ur({values:SX,defaultWidth:"wide"}),quarter:Ur({values:TX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ur({values:AX,defaultWidth:"wide"}),day:Ur({values:PX,defaultWidth:"wide"}),dayPeriod:Ur({values:IX,defaultWidth:"wide"})},kX=/^(\d+)(ime|re|me|er|e)?/i,jX=/\d+/i,RX={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},DX={any:[/^av/i,/^ap/i]},MX={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},$X={any:[/1/i,/2/i,/3/i,/4/i]},LX={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},VX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},FX={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},BX={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},UX={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},zX={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},qX={ordinalNumber:DL({matchPattern:kX,parsePattern:jX,valueCallback:t=>parseInt(t)}),era:zr({matchPatterns:RX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any"}),quarter:zr({matchPatterns:MX,defaultMatchWidth:"wide",parsePatterns:$X,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zr({matchPatterns:LX,defaultMatchWidth:"wide",parsePatterns:VX,defaultParseWidth:"any"}),day:zr({matchPatterns:FX,defaultMatchWidth:"wide",parsePatterns:BX,defaultParseWidth:"any"}),dayPeriod:zr({matchPatterns:UX,defaultMatchWidth:"any",parsePatterns:zX,defaultParseWidth:"any"})},vn={code:"fr",formatDistance:yX,formatLong:_X,formatRelative:EX,localize:NX,match:qX,options:{weekStartsOn:1,firstWeekContainsDate:4}},Hi=({isOpen:t,onClose:e,children:n,title:r})=>t?p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity",onClick:e}),p.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r}),p.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 transition-colors rounded-lg p-1 hover:bg-gray-100",children:p.jsx(FY,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"p-6",children:n})]})]})}):null,WX=(t,e,n=30)=>{const r=new Date,i=new Date(r.getTime()+n*24*60*60*1e3);return t<r?"La date de dbut doit tre dans le futur":e<t?"La date de fin doit tre aprs la date de dbut":e>i?`La dure maximale de rservation est de ${n} jours`:null},HX=({stand:t,isOpen:e,onClose:n,onReserve:r})=>{const i=F0(new Date,1),[a,o]=M.useState({name:"",startDate:i,endDate:F0(i,7)}),s=l=>{if(l.preventDefault(),a.name.trim().length<2){he.error("Le nom doit contenir au moins 2 caractres");return}const u=WX(a.startDate,a.endDate);if(u){he.error(u);return}r(t.id,a),n(),he.success(`Prsentoir rserv avec succs pour ${a.name}`)};return p.jsx(Hi,{isOpen:e,onClose:n,title:`Rserver ${t.name}`,children:p.jsxs("form",{onSubmit:s,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Votre nom"}),p.jsx("input",{type:"text",id:"name",required:!0,minLength:2,className:"input",value:a.name,onChange:l=>o({...a,name:l.target.value}),placeholder:"Entrez votre nom"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),p.jsx("input",{type:"date",id:"startDate",required:!0,min:dt(i,"yyyy-MM-dd"),className:"input",value:dt(a.startDate,"yyyy-MM-dd"),onChange:l=>o({...a,startDate:new Date(l.target.value),endDate:F0(new Date(l.target.value),7)})})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),p.jsx("input",{type:"date",id:"endDate",required:!0,min:dt(a.startDate,"yyyy-MM-dd"),className:"input",value:dt(a.endDate,"yyyy-MM-dd"),onChange:l=>o({...a,endDate:new Date(l.target.value)})})]})]}),p.jsx("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-blue-700",children:p.jsxs("ul",{className:"space-y-1",children:[p.jsx("li",{children:" Dure maximale de rservation : 30 jours"}),p.jsx("li",{children:" La rservation commence le lendemain"})]})}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Rserver"})]})]})})},KX=({stand:t,isOpen:e,onClose:n,onSubmit:r,availablePosters:i})=>{const[a,o]=M.useState(""),[s,l]=M.useState(""),u=c=>{if(c.preventDefault(),!a){he.error("Veuillez slectionner une affiche");return}r(t.id,a,s),n(),he.success("Demande de changement d'affiche envoye")};return p.jsx(Hi,{isOpen:e,onClose:n,title:"Demande de changement d'affiche",children:p.jsxs("form",{onSubmit:u,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Affiche actuelle"}),p.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(My,{className:"h-5 w-5 mr-2 text-gray-400"}),p.jsx("span",{children:t.currentPoster})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouvelle affiche"}),p.jsxs("select",{className:"input",value:a,onChange:c=>o(c.target.value),required:!0,children:[p.jsx("option",{value:"",children:"Slectionnez une affiche"}),i.map(c=>p.jsx("option",{value:c.id,children:c.name},c.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optionnel)"}),p.jsx("textarea",{className:"input min-h-[100px]",value:s,onChange:c=>l(c.target.value),placeholder:"Ajoutez des prcisions sur votre demande..."})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Envoyer la demande"})]})]})})},GX=({stand:t,isOpen:e,onClose:n,onUpdateStock:r,publications:i})=>{const[a,o]=M.useState(()=>(t.publications||[]).reduce((u,c)=>({...u,[c.publicationId]:c.quantity}),{})),s=u=>{u.preventDefault(),Object.entries(a).forEach(([c,d])=>{r(t.id,c,d)}),n(),he.success("Stock mis  jour avec succs")},l=(u,c)=>{const d=i.find(f=>f.id===u);return d&&c<d.minStock};return p.jsx(Hi,{isOpen:e,onClose:n,title:"Gestion du stock des publications",children:p.jsxs("form",{onSubmit:s,className:"space-y-6",children:[p.jsx("div",{className:"space-y-4",children:i.map(u=>{const c=a[u.id]||0,d=l(u.id,c);return p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:p.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),d&&p.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[p.jsx(ri,{className:"h-3 w-3"}),"Stock bas"]})]}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.description}),p.jsxs("div",{className:"mt-3",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantit en stock"}),p.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[p.jsx("input",{type:"number",min:"0",className:"input w-24",value:a[u.id]||0,onChange:f=>o({...a,[u.id]:parseInt(f.target.value)||0})}),p.jsxs("span",{className:"text-sm text-gray-500",children:["Minimum requis: ",u.minStock]})]})]})]})]})},u.id)})}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Mettre  jour le stock"})]})]})})},LL=({stand:t,isOpen:e,onClose:n,onSubmit:r,type:i})=>{const[a,o]=M.useState({date:dt(new Date,"yyyy-MM-dd"),performedBy:"",description:"",issues:"",resolution:""}),s=l=>{if(l.preventDefault(),a.performedBy.trim().length<2){he.error("Le nom doit contenir au moins 2 caractres");return}r(t.id,{date:new Date(a.date),type:i,performedBy:a.performedBy,description:a.description,issues:a.issues,resolution:a.resolution}),n(),he.success("Maintenance enregistre avec succs")};return p.jsx(Hi,{isOpen:e,onClose:n,title:`${i==="preventive"?"Maintenance prventive":"Maintenance curative"} - ${t.name}`,children:p.jsxs("form",{onSubmit:s,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de maintenance"}),p.jsx("input",{type:"date",className:"input",value:a.date,onChange:l=>o({...a,date:l.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effectue par"}),p.jsx("input",{type:"text",className:"input",value:a.performedBy,onChange:l=>o({...a,performedBy:l.target.value}),required:!0,minLength:2,placeholder:"Nom du technicien"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description des oprations"}),p.jsx("textarea",{className:"input",value:a.description,onChange:l=>o({...a,description:l.target.value}),required:!0,rows:3,placeholder:"Dtaillez les oprations effectues"})]}),i==="curative"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Problmes constats"}),p.jsx("textarea",{className:"input",value:a.issues,onChange:l=>o({...a,issues:l.target.value}),required:!0,rows:3,placeholder:"Dcrivez les problmes rencontrs"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Solutions apportes"}),p.jsx("textarea",{className:"input",value:a.resolution,onChange:l=>o({...a,resolution:l.target.value}),required:!0,rows:3,placeholder:"Dcrivez les solutions mises en place"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enregistrer la maintenance"})]})]})})},Xw=(t,e)=>e.some(n=>t instanceof n);let mO,gO;function YX(){return mO||(mO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QX(){return gO||(gO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jw=new WeakMap,B0=new WeakMap,Ly=new WeakMap;function XX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Zo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return Ly.set(e,t),e}function JX(t){if(Jw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Jw.set(t,e)}let Zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VL(t){Zw=t(Zw)}function ZX(t){return QX().includes(t)?function(...e){return t.apply(e_(this),e),Zo(this.request)}:function(...e){return Zo(t.apply(e_(this),e))}}function eJ(t){return typeof t=="function"?ZX(t):(t instanceof IDBTransaction&&JX(t),Xw(t,YX())?new Proxy(t,Zw):t)}function Zo(t){if(t instanceof IDBRequest)return XX(t);if(B0.has(t))return B0.get(t);const e=eJ(t);return e!==t&&(B0.set(t,e),Ly.set(e,t)),e}const e_=t=>Ly.get(t);function tJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Zo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zo(o.result),l.oldVersion,l.newVersion,Zo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const nJ=["get","getKey","getAll","getAllKeys","count"],rJ=["put","add","delete","clear"],U0=new Map;function yO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(U0.get(e))return U0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nJ.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return U0.set(e,a),a}VL(t=>({...t,get:(e,n,r)=>yO(e,n)||t.get(e,n,r),has:(e,n)=>!!yO(e,n)||t.has(e,n)}));const iJ=["continue","continuePrimaryKey","advance"],vO={},t_=new WeakMap,FL=new WeakMap,aJ={get(t,e){if(!iJ.includes(e))return t[e];let n=vO[e];return n||(n=vO[e]=function(...r){t_.set(this,FL.get(this)[e](...r))}),n}};async function*oJ(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,aJ);for(FL.set(n,e),Ly.set(n,e_(e));e;)yield n,e=await(t_.get(n)||e.continue()),t_.delete(n)}function bO(t,e){return e===Symbol.asyncIterator&&Xw(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Xw(t,[IDBIndex,IDBObjectStore])}VL(t=>({...t,get(e,n,r){return bO(e,n)?oJ:t.get(e,n,r)},has(e,n){return bO(e,n)||t.has(e,n)}}));const sJ="presentoirs-app",lJ=1,z0=async()=>tJ(sJ,lJ,{upgrade(t){t.objectStoreNames.contains("cache")||t.createObjectStore("cache"),t.objectStoreNames.contains("preferences")||t.createObjectStore("preferences")}}),q0={async setPreference(t,e){await(await z0()).put("preferences",e,t)},async getPreference(t){return(await z0()).get("preferences",t)},async deletePreference(t){await(await z0()).delete("preferences",t)}},wO={baseUrl:window.location.origin+"/stand/",maxReservationDays:30,minAdvanceHours:24,emailNotifications:{newReservation:!0,posterRequest:!0,maintenance:!0},maintenance:{preventiveIntervalMonths:3,emailNotifications:!0},assembly:{name:"",address:"",city:"",postalCode:"",country:"",phone:"",email:""}},BL=M.createContext(void 0),uJ=({children:t})=>{const[e,n]=M.useState(wO),{currentUser:r}=Ms();M.useEffect(()=>{if(!r){n(wO);return}const a=ky(ir(Gt,"settings",r.uid),o=>{o.exists()&&(n(o.data()),q0.setPreference("settings",o.data()))},async o=>{console.error("Error fetching settings:",o);const s=await q0.getPreference("settings");s&&n(s)});return()=>a()},[r]);const i=async a=>{if(!r)throw new Error("User must be authenticated");const o={...e,...a};n(o);try{await Q$(ir(Gt,"settings",r.uid),o),await q0.setPreference("settings",o)}catch(s){throw console.error("Error updating settings:",s),s}};return p.jsx(BL.Provider,{value:{settings:e,updateSettings:i},children:t})},Vy=()=>{const t=M.useContext(BL);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},cJ=({stands:t,onReserve:e,onCancelReservation:n,onPosterRequest:r,onUpdateStock:i,onAddMaintenance:a,availablePosters:o,publications:s=[],hoveredStandId:l,setHoveredStandId:u,getLowStockPublications:c})=>{const[d,f]=M.useState(null),[m,g]=M.useState(null),[y,v]=M.useState(null),[E,_]=M.useState(null),{settings:x}=Vy(),P=A=>(A.publications||[]).some(T=>{const b=s.find(O=>O.id===T.publicationId);return b&&T.quantity<b.minStock}),S=A=>{const T=Cr(new Date,new Date(A.createdAt||Date.now())),b=(A.reservationHistory||[]).reduce((B,U)=>B+Cr(new Date(U.endDate),new Date(U.startDate)),0);A.maintenanceHistory?.length;const O=A.maintenanceHistory?.filter(B=>B.type==="curative").length||0,C=Math.min(T/365,1)*.3,N=Math.min(b/180,1)*.4,R=Math.min(O/5,1)*.3,k=(C+N+R)*100;return Math.min(Math.round(k),100)};return p.jsxs("div",{className:"card overflow-hidden bg-gradient-to-br from-white to-gray-50",children:[p.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50",children:p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Liste des Prsentoirs"})}),p.jsx("div",{className:"divide-y divide-gray-100",children:t.map(A=>{const T=P(A),b=`${x.baseUrl}${A.id}`,O=S(A);return p.jsx("div",{className:"p-6 hover:bg-gray-50/50 transition-colors",children:p.jsxs("div",{className:"flex items-start justify-between gap-6",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ei,{to:`/stand/${A.id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:A.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center shadow-lg ${O>50?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-green-500 to-green-600 text-white"}`,children:p.jsxs("span",{className:"text-sm font-bold",children:[O,"%"]})}),p.jsx("div",{className:"absolute -top-2 -right-2",children:p.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold text-purple-700 bg-purple-100 rounded-full shadow-sm",children:"BETA"})})]}),p.jsx("span",{className:"text-sm text-gray-600",children:"Risque de panne"})]}),p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${A.isReserved?"bg-red-100/80 text-red-700 ring-1 ring-red-600/10":"bg-green-100/80 text-green-700 ring-1 ring-green-600/10"}`,children:A.isReserved?"Rserv":"Disponible"}),T&&p.jsxs("div",{className:"relative",children:[p.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100/80 text-yellow-700 ring-1 ring-yellow-600/10 flex items-center gap-1 cursor-help",onMouseEnter:()=>u(A.id),onMouseLeave:()=>u(null),children:[p.jsx(ri,{className:"h-4 w-4"}),"Stock publications bas"]}),l===A.id&&p.jsxs("div",{className:"absolute left-0 top-full mt-2 z-10 w-64 p-4 bg-white rounded-lg shadow-xl border border-gray-100",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Publications  rapprovisionner :"}),p.jsx("ul",{className:"space-y-2",children:c(A.id).map((C,N)=>p.jsxs("li",{className:"text-sm text-gray-600",children:[C.title," (",C.current,"/",C.required,")"]},N))})]})]})]}),p.jsxs("div",{className:"mt-4 space-y-3",children:[p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(RE,{className:"h-4 w-4 mr-2 text-gray-400"}),p.jsx("span",{children:A.location})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(My,{className:"h-4 w-4 mr-2 text-gray-400"}),p.jsxs("span",{children:["Affiche actuelle: ",A.currentPoster]})]}),A.isReserved&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(DE,{className:"h-4 w-4 mr-2 text-gray-400"}),p.jsxs("span",{children:["Rserv par: ",A.reservedBy]})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(Dy,{className:"h-4 w-4 mr-2 text-gray-400"}),p.jsxs("span",{children:["Jusqu'au: ",dt(new Date(A.reservedUntil),"PPP",{locale:vn})]})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-4",children:[p.jsx("h4",{className:"text-sm font-medium text-indigo-900 text-center mb-3",children:"Rservation"}),p.jsx("div",{className:"flex flex-col gap-2",children:A.isReserved?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>n(A.id),className:"btn bg-gradient-to-r from-indigo-500 to-indigo-600 text-white hover:from-indigo-600 hover:to-indigo-700 shadow-md hover:shadow-lg w-full",children:"Annuler la rservation"}),p.jsx("button",{onClick:()=>g(A),className:"btn bg-gradient-to-r from-indigo-400 to-indigo-500 text-white hover:from-indigo-500 hover:to-indigo-600 shadow-md hover:shadow-lg w-full",children:"Changer l'affiche"})]}):p.jsx("button",{onClick:()=>f(A),className:"btn bg-gradient-to-r from-indigo-500 to-indigo-600 text-white hover:from-indigo-600 hover:to-indigo-700 shadow-md hover:shadow-lg w-full",children:"Rserver"})})]}),p.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4",children:[p.jsx("h4",{className:"text-sm font-medium text-emerald-900 text-center mb-3",children:"Stock"}),p.jsxs("button",{onClick:()=>v(A),className:"btn bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700 shadow-md hover:shadow-lg w-full",children:[p.jsx(jE,{className:"h-4 w-4"}),"Grer le stock"]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4",children:[p.jsx("h4",{className:"text-sm font-medium text-amber-900 text-center mb-3",children:"Maintenance"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("button",{onClick:()=>_({stand:A,type:"preventive"}),className:"btn bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-md hover:shadow-lg w-full",children:[p.jsx(eo,{className:"h-4 w-4"}),"Prventive"]}),p.jsxs("button",{onClick:()=>_({stand:A,type:"curative"}),className:"btn bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700 shadow-md hover:shadow-lg w-full",children:[p.jsx(ri,{className:"h-4 w-4"}),"Curative"]})]})]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100",children:p.jsx(ME,{value:b,size:96,level:"H",includeMargin:!0})}),p.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary inline-flex items-center text-sm px-3 py-1.5",children:[p.jsx(CY,{className:"h-4 w-4 mr-1.5"}),"Accder  la page publique"]})]})]})},A.id)})}),d&&p.jsx(HX,{stand:d,isOpen:!0,onClose:()=>f(null),onReserve:e}),m&&p.jsx(KX,{stand:m,isOpen:!0,onClose:()=>g(null),onSubmit:r,availablePosters:o}),y&&p.jsx(GX,{stand:y,isOpen:!0,onClose:()=>v(null),onUpdateStock:i,publications:s}),E&&p.jsx(LL,{stand:E.stand,type:E.type,isOpen:!0,onClose:()=>_(null),onSubmit:a})]})},dJ=({requests:t,onApprove:e,onReject:n})=>{const r=i=>{switch(i){case"pending":return p.jsxs("span",{className:"flex items-center gap-1 text-yellow-700 bg-yellow-100 px-3 py-1 rounded-full text-sm",children:[p.jsx(kE,{className:"h-4 w-4"}),"En attente"]});case"approved":return p.jsxs("span",{className:"flex items-center gap-1 text-green-700 bg-green-100 px-3 py-1 rounded-full text-sm",children:[p.jsx(TL,{className:"h-4 w-4"}),"Approuve"]});case"rejected":return p.jsxs("span",{className:"flex items-center gap-1 text-red-700 bg-red-100 px-3 py-1 rounded-full text-sm",children:[p.jsx(VY,{className:"h-4 w-4"}),"Refuse"]})}};return t.length===0?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune demande de changement d'affiche"}):p.jsx("div",{className:"space-y-4",children:t.map(i=>p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("h3",{className:"font-medium text-gray-900",children:["Demande pour: ",i.requestedPoster]}),r(i.status)]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Dy,{className:"h-4 w-4"}),p.jsxs("span",{children:["Demand le ",dt(new Date(i.requestDate),"PPP",{locale:vn})]})]}),p.jsxs("div",{className:"mt-1",children:["Par: ",i.requestedBy]})]}),i.notes&&p.jsx("div",{className:"mt-2 text-sm text-gray-700 bg-gray-50 rounded-lg p-3",children:i.notes})]}),i.status==="pending"&&p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>e(i.id),className:"btn btn-primary",children:"Approuver"}),p.jsx("button",{onClick:()=>n(i.id),className:"btn btn-secondary",children:"Refuser"})]})]})},i.id))})},fJ=()=>{const{currentUser:t}=Ms(),{stands:e,setStands:n,availablePosters:r,publications:i=[],addMaintenance:a}=ho(),[o,s]=D.useState(!1),[l,u]=D.useState(null),c=e.flatMap(P=>(P.posterRequests||[]).map(S=>({...S,standName:P.name}))).sort((P,S)=>new Date(S.requestDate).getTime()-new Date(P.requestDate).getTime()),d=c.filter(P=>P.status==="pending"),f={total:e.length,reserved:e.filter(P=>P.isReserved).length,needsMaintenance:e.filter(P=>{const S=P.maintenanceHistory?.slice(-1)[0];if(!S)return!0;const A=new Date(S.date);return A.setMonth(A.getMonth()+3),new Date>A}).length,lowStock:e.filter(P=>(P.publications||[]).some(S=>{const A=i.find(T=>T.id===S.publicationId);return A&&S.quantity<A.minStock})).length},m=P=>{const S=e.find(A=>A.id===P);return S?(S.publications||[]).map(A=>{const T=i.find(b=>b.id===A.publicationId);return T&&A.quantity<T.minStock?{title:T.title,current:A.quantity,required:T.minStock}:null}).filter(Boolean):[]},g=(P,S)=>{n(A=>A.map(T=>T.id===P?{...T,isReserved:!0,reservedBy:S.name,reservedUntil:S.endDate,lastUpdated:new Date,reservationHistory:[...T.reservationHistory||[],{startDate:S.startDate,endDate:S.endDate,reservedBy:S.name}]}:T)),he.success("Rservation effectue avec succs")},y=P=>{n(S=>S.map(A=>A.id===P?{...A,isReserved:!1,reservedBy:void 0,reservedUntil:void 0,lastUpdated:new Date}:A)),he.success("Rservation annule")},v=(P,S,A)=>{n(T=>T.map(b=>b.id===P?{...b,posterRequests:[...b.posterRequests||[],{id:crypto.randomUUID(),standId:P,requestedBy:b.reservedBy,requestedPoster:S,requestDate:new Date,status:"pending",notes:A}]}:b)),he.success("Demande de changement d'affiche envoye")},E=(P,S,A)=>{n(T=>T.map(b=>b.id===P?{...b,publications:(b.publications||[]).map(O=>O.publicationId===S?{...O,quantity:A,lastUpdated:new Date}:O)}:b)),he.success("Stock mis  jour")},_=P=>{n(S=>S.map(A=>({...A,posterRequests:(A.posterRequests||[]).map(T=>T.id===P?{...T,status:"approved"}:T),currentPoster:A.posterRequests?.find(T=>T.id===P)?.requestedPoster||A.currentPoster}))),he.success("Demande approuve")},x=P=>{n(S=>S.map(A=>({...A,posterRequests:(A.posterRequests||[]).map(T=>T.id===P?{...T,status:"rejected"}:T)}))),he.error("Demande rejete")};return p.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord"}),p.jsxs("p",{className:"mt-2 text-gray-600",children:["Bienvenue, ",t?.displayName||t?.email]})]}),d.length>0&&p.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[p.jsx(AY,{className:"h-5 w-5"}),p.jsxs("span",{children:[d.length," demande",d.length>1?"s":""," en attente"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx(Ei,{to:"/details/all",className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl shadow-lg",children:p.jsx(AL,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Prsentoirs"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total})]})]})}),p.jsx(Ei,{to:"/details/reserved",className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl shadow-lg",children:p.jsx(LY,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prsentoirs Rservs"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.reserved})]})]})}),p.jsx(Ei,{to:"/maintenance",className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-amber-600 text-white rounded-xl shadow-lg",children:p.jsx(eo,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Maintenance Requise"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.needsMaintenance})]})]})}),p.jsxs(Ei,{to:"/details/low-stock",className:"relative card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer",onMouseEnter:()=>u("low-stock"),onMouseLeave:()=>u(null),children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl shadow-lg",children:p.jsx(kE,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Publications Stock Bas"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.lowStock})]})]}),l==="low-stock"&&f.lowStock>0&&p.jsxs("div",{className:"absolute left-0 top-full mt-2 z-10 w-72 p-4 bg-white rounded-lg shadow-xl border border-gray-100",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Publications  rapprovisionner :"}),p.jsx("div",{className:"space-y-2",children:e.map(P=>{const S=m(P.id);return S.length===0?null:p.jsxs("div",{className:"text-sm",children:[p.jsxs("p",{className:"font-medium text-gray-700",children:[P.name," :"]}),p.jsx("ul",{className:"ml-4 space-y-1",children:S.map((A,T)=>p.jsxs("li",{className:"text-gray-600",children:[A.title," (",A.current,"/",A.required,")"]},T))})]},P.id)})})]})]})]}),p.jsx("div",{className:"space-y-6",children:p.jsx(cJ,{stands:e,onReserve:g,onCancelReservation:y,onPosterRequest:v,onUpdateStock:E,onAddMaintenance:a,availablePosters:r,publications:i,hoveredStandId:l,setHoveredStandId:u,getLowStockPublications:m})}),p.jsx(Hi,{isOpen:o,onClose:()=>s(!1),title:"Demandes de Changement d'Affiche",children:p.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:p.jsx(dJ,{requests:c,onApprove:_,onReject:x})})})]})})};function UL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UL(t))&&(r&&(r+=" "),r+=e);return r}var hJ=Array.isArray,Ln=hJ,pJ=typeof Ih=="object"&&Ih&&Ih.Object===Object&&Ih,zL=pJ,mJ=zL,gJ=typeof self=="object"&&self&&self.Object===Object&&self,yJ=mJ||gJ||Function("return this")(),ui=yJ,vJ=ui,bJ=vJ.Symbol,ih=bJ,_O=ih,qL=Object.prototype,wJ=qL.hasOwnProperty,_J=qL.toString,Ic=_O?_O.toStringTag:void 0;function xJ(t){var e=wJ.call(t,Ic),n=t[Ic];try{t[Ic]=void 0;var r=!0}catch{}var i=_J.call(t);return r&&(e?t[Ic]=n:delete t[Ic]),i}var EJ=xJ,SJ=Object.prototype,TJ=SJ.toString;function AJ(t){return TJ.call(t)}var PJ=AJ,xO=ih,IJ=EJ,OJ=PJ,CJ="[object Null]",NJ="[object Undefined]",EO=xO?xO.toStringTag:void 0;function kJ(t){return t==null?t===void 0?NJ:CJ:EO&&EO in Object(t)?IJ(t):OJ(t)}var Ji=kJ;function jJ(t){return t!=null&&typeof t=="object"}var Zi=jJ,RJ=Ji,DJ=Zi,MJ="[object Symbol]";function $J(t){return typeof t=="symbol"||DJ(t)&&RJ(t)==MJ}var Vu=$J,LJ=Ln,VJ=Vu,FJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BJ=/^\w*$/;function UJ(t,e){if(LJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||VJ(t)?!0:BJ.test(t)||!FJ.test(t)||e!=null&&t in Object(e)}var $E=UJ;function zJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var po=zJ;const Fu=Fe(po);var qJ=Ji,WJ=po,HJ="[object AsyncFunction]",KJ="[object Function]",GJ="[object GeneratorFunction]",YJ="[object Proxy]";function QJ(t){if(!WJ(t))return!1;var e=qJ(t);return e==KJ||e==GJ||e==HJ||e==YJ}var LE=QJ;const me=Fe(LE);var XJ=ui,JJ=XJ["__core-js_shared__"],ZJ=JJ,W0=ZJ,SO=function(){var t=/[^.]+$/.exec(W0&&W0.keys&&W0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eZ(t){return!!SO&&SO in t}var tZ=eZ,nZ=Function.prototype,rZ=nZ.toString;function iZ(t){if(t!=null){try{return rZ.call(t)}catch{}try{return t+""}catch{}}return""}var WL=iZ,aZ=LE,oZ=tZ,sZ=po,lZ=WL,uZ=/[\\^$.*+?()[\]{}|]/g,cZ=/^\[object .+?Constructor\]$/,dZ=Function.prototype,fZ=Object.prototype,hZ=dZ.toString,pZ=fZ.hasOwnProperty,mZ=RegExp("^"+hZ.call(pZ).replace(uZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gZ(t){if(!sZ(t)||oZ(t))return!1;var e=aZ(t)?mZ:cZ;return e.test(lZ(t))}var yZ=gZ;function vZ(t,e){return t?.[e]}var bZ=vZ,wZ=yZ,_Z=bZ;function xZ(t,e){var n=_Z(t,e);return wZ(n)?n:void 0}var $s=xZ,EZ=$s,SZ=EZ(Object,"create"),Fy=SZ,TO=Fy;function TZ(){this.__data__=TO?TO(null):{},this.size=0}var AZ=TZ;function PZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var IZ=PZ,OZ=Fy,CZ="__lodash_hash_undefined__",NZ=Object.prototype,kZ=NZ.hasOwnProperty;function jZ(t){var e=this.__data__;if(OZ){var n=e[t];return n===CZ?void 0:n}return kZ.call(e,t)?e[t]:void 0}var RZ=jZ,DZ=Fy,MZ=Object.prototype,$Z=MZ.hasOwnProperty;function LZ(t){var e=this.__data__;return DZ?e[t]!==void 0:$Z.call(e,t)}var VZ=LZ,FZ=Fy,BZ="__lodash_hash_undefined__";function UZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=FZ&&e===void 0?BZ:e,this}var zZ=UZ,qZ=AZ,WZ=IZ,HZ=RZ,KZ=VZ,GZ=zZ;function Bu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bu.prototype.clear=qZ;Bu.prototype.delete=WZ;Bu.prototype.get=HZ;Bu.prototype.has=KZ;Bu.prototype.set=GZ;var YZ=Bu;function QZ(){this.__data__=[],this.size=0}var XZ=QZ;function JZ(t,e){return t===e||t!==t&&e!==e}var VE=JZ,ZZ=VE;function eee(t,e){for(var n=t.length;n--;)if(ZZ(t[n][0],e))return n;return-1}var By=eee,tee=By,nee=Array.prototype,ree=nee.splice;function iee(t){var e=this.__data__,n=tee(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ree.call(e,n,1),--this.size,!0}var aee=iee,oee=By;function see(t){var e=this.__data__,n=oee(e,t);return n<0?void 0:e[n][1]}var lee=see,uee=By;function cee(t){return uee(this.__data__,t)>-1}var dee=cee,fee=By;function hee(t,e){var n=this.__data__,r=fee(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pee=hee,mee=XZ,gee=aee,yee=lee,vee=dee,bee=pee;function Uu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uu.prototype.clear=mee;Uu.prototype.delete=gee;Uu.prototype.get=yee;Uu.prototype.has=vee;Uu.prototype.set=bee;var Uy=Uu,wee=$s,_ee=ui,xee=wee(_ee,"Map"),FE=xee,AO=YZ,Eee=Uy,See=FE;function Tee(){this.size=0,this.__data__={hash:new AO,map:new(See||Eee),string:new AO}}var Aee=Tee;function Pee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Iee=Pee,Oee=Iee;function Cee(t,e){var n=t.__data__;return Oee(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zy=Cee,Nee=zy;function kee(t){var e=Nee(this,t).delete(t);return this.size-=e?1:0,e}var jee=kee,Ree=zy;function Dee(t){return Ree(this,t).get(t)}var Mee=Dee,$ee=zy;function Lee(t){return $ee(this,t).has(t)}var Vee=Lee,Fee=zy;function Bee(t,e){var n=Fee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Uee=Bee,zee=Aee,qee=jee,Wee=Mee,Hee=Vee,Kee=Uee;function zu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zu.prototype.clear=zee;zu.prototype.delete=qee;zu.prototype.get=Wee;zu.prototype.has=Hee;zu.prototype.set=Kee;var BE=zu,HL=BE,Gee="Expected a function";function UE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Gee);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(UE.Cache||HL),n}UE.Cache=HL;var KL=UE;const Yee=Fe(KL);var Qee=KL,Xee=500;function Jee(t){var e=Qee(t,function(r){return n.size===Xee&&n.clear(),r}),n=e.cache;return e}var Zee=Jee,ete=Zee,tte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nte=/\\(\\)?/g,rte=ete(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tte,function(n,r,i,a){e.push(i?a.replace(nte,"$1"):r||n)}),e}),ite=rte;function ate(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zE=ate,PO=ih,ote=zE,ste=Ln,lte=Vu,ute=1/0,IO=PO?PO.prototype:void 0,OO=IO?IO.toString:void 0;function GL(t){if(typeof t=="string")return t;if(ste(t))return ote(t,GL)+"";if(lte(t))return OO?OO.call(t):"";var e=t+"";return e=="0"&&1/t==-ute?"-0":e}var cte=GL,dte=cte;function fte(t){return t==null?"":dte(t)}var YL=fte,hte=Ln,pte=$E,mte=ite,gte=YL;function yte(t,e){return hte(t)?t:pte(t,e)?[t]:mte(gte(t))}var QL=yte,vte=Vu,bte=1/0;function wte(t){if(typeof t=="string"||vte(t))return t;var e=t+"";return e=="0"&&1/t==-bte?"-0":e}var qy=wte,_te=QL,xte=qy;function Ete(t,e){e=_te(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xte(e[n++])];return n&&n==r?t:void 0}var qE=Ete,Ste=qE;function Tte(t,e,n){var r=t==null?void 0:Ste(t,e);return r===void 0?n:r}var XL=Tte;const Gn=Fe(XL);function Ate(t){return t==null}var Pte=Ate;const we=Fe(Pte);var Ite=Ji,Ote=Ln,Cte=Zi,Nte="[object String]";function kte(t){return typeof t=="string"||!Ote(t)&&Cte(t)&&Ite(t)==Nte}var jte=kte;const ah=Fe(jte);var JL={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=Symbol.for("react.element"),HE=Symbol.for("react.portal"),Wy=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),Gy=Symbol.for("react.provider"),Yy=Symbol.for("react.context"),Rte=Symbol.for("react.server_context"),Qy=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),Dte=Symbol.for("react.offscreen"),ZL;ZL=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WE:switch(t=t.type,t){case Wy:case Ky:case Hy:case Xy:case Jy:return t;default:switch(t=t&&t.$$typeof,t){case Rte:case Yy:case Qy:case ev:case Zy:case Gy:return t;default:return e}}case HE:return e}}}Be.ContextConsumer=Yy;Be.ContextProvider=Gy;Be.Element=WE;Be.ForwardRef=Qy;Be.Fragment=Wy;Be.Lazy=ev;Be.Memo=Zy;Be.Portal=HE;Be.Profiler=Ky;Be.StrictMode=Hy;Be.Suspense=Xy;Be.SuspenseList=Jy;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(t){return yr(t)===Yy};Be.isContextProvider=function(t){return yr(t)===Gy};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WE};Be.isForwardRef=function(t){return yr(t)===Qy};Be.isFragment=function(t){return yr(t)===Wy};Be.isLazy=function(t){return yr(t)===ev};Be.isMemo=function(t){return yr(t)===Zy};Be.isPortal=function(t){return yr(t)===HE};Be.isProfiler=function(t){return yr(t)===Ky};Be.isStrictMode=function(t){return yr(t)===Hy};Be.isSuspense=function(t){return yr(t)===Xy};Be.isSuspenseList=function(t){return yr(t)===Jy};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wy||t===Ky||t===Hy||t===Xy||t===Jy||t===Dte||typeof t=="object"&&t!==null&&(t.$$typeof===ev||t.$$typeof===Zy||t.$$typeof===Gy||t.$$typeof===Yy||t.$$typeof===Qy||t.$$typeof===ZL||t.getModuleId!==void 0)};Be.typeOf=yr;JL.exports=Be;var Mte=JL.exports,$te=Ji,Lte=Zi,Vte="[object Number]";function Fte(t){return typeof t=="number"||Lte(t)&&$te(t)==Vte}var eV=Fte;const Bte=Fe(eV);var Ute=eV;function zte(t){return Ute(t)&&t!=+t}var qte=zte;const qu=Fe(qte);var bn=function(e){return e===0?0:e>0?1:-1},qo=function(e){return ah(e)&&e.indexOf("%")===e.length-1},Z=function(e){return Bte(e)&&!qu(e)},kt=function(e){return Z(e)||ah(e)},Wte=0,Wu=function(e){var n=++Wte;return"".concat(e||"").concat(n)},wn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!ah(e))return r;var a;if(qo(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return qu(a)&&(a=r),i&&a>n&&(a=n),a},Ta=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Hte=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Cn=function(e,n){return Z(e)&&Z(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Gn(r,e))===n})}function Rl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function n_(t){"@babel/helpers - typeof";return n_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(t)}var Kte=["viewBox","children"],Gte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CO=["points","pathLength"],H0={svg:Kte,polygon:CO,polyline:CO},KE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!Fu(r))return null;var i={};return Object.keys(r).forEach(function(a){KE.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Yte=function(e,n,r){return function(i){return e(n,r,i),null}},ws=function(e,n,r){if(!Fu(e)||n_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];KE.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Yte(o,n,r))}),i},Qte=["children"],Xte=["children"];function NO(t,e){if(t==null)return{};var n=Jte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r_(t){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r_(t)}var kO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ri=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jO=null,K0=null,GE=function t(e){if(e===jO&&Array.isArray(K0))return K0;var n=[];return M.Children.forEach(e,function(r){we(r)||(Mte.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),K0=n,jO=e,n};function hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ri(i)}):r=[Ri(e)],GE(t).forEach(function(i){var a=Gn(i,"type.displayName")||Gn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Un(t,e){var n=hr(t,e);return n&&n[0]}var RO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},Zte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ene=function(e){return e&&e.type&&ah(e.type)&&Zte.indexOf(e.type)>=0},tne=function(e){return e&&r_(e)==="object"&&"clipDot"in e},nne=function(e,n,r,i){var a,o=(a=H0?.[i])!==null&&a!==void 0?a:[];return!me(e)&&(i&&o.includes(n)||Gte.includes(n))||r&&KE.includes(n)},ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Fu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;nne((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},i_=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!DO(a,o))return!1}return!0},DO=function(e,n){if(we(e)&&we(n))return!0;if(!we(e)&&!we(n)){var r=e.props||{},i=r.children,a=NO(r,Qte),o=n.props||{},s=o.children,l=NO(o,Xte);return i&&s?Rl(a,l)&&i_(i,s):!i&&!s?Rl(a,l):!1}return!1},MO=function(e,n){var r=[],i={};return GE(e).forEach(function(a,o){if(ene(a))r.push(a);else if(a){var s=Ri(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},rne=function(e){var n=e&&e.type;return n&&kO[n]?kO[n]:null},ine=function(e,n){return GE(n).indexOf(e)},ane=["children","width","height","viewBox","className","style","title","desc"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function one(t,e){if(t==null)return{};var n=sne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=one(t,ane),c=i||{width:n,height:r,x:0,y:0},d=xe("recharts-surface",a);return D.createElement("svg",a_({},ce(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var lne=["children","className"];function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function une(t,e){if(t==null)return{};var n=cne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ce=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=une(t,lne),a=xe("recharts-layer",r);return D.createElement("g",s_({className:a},ce(i,!0),{ref:e}),n)}),Nr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function dne(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var fne=dne,hne=fne;function pne(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hne(t,e,n)}var mne=pne,gne="\\ud800-\\udfff",yne="\\u0300-\\u036f",vne="\\ufe20-\\ufe2f",bne="\\u20d0-\\u20ff",wne=yne+vne+bne,_ne="\\ufe0e\\ufe0f",xne="\\u200d",Ene=RegExp("["+xne+gne+wne+_ne+"]");function Sne(t){return Ene.test(t)}var tV=Sne;function Tne(t){return t.split("")}var Ane=Tne,nV="\\ud800-\\udfff",Pne="\\u0300-\\u036f",Ine="\\ufe20-\\ufe2f",One="\\u20d0-\\u20ff",Cne=Pne+Ine+One,Nne="\\ufe0e\\ufe0f",kne="["+nV+"]",l_="["+Cne+"]",u_="\\ud83c[\\udffb-\\udfff]",jne="(?:"+l_+"|"+u_+")",rV="[^"+nV+"]",iV="(?:\\ud83c[\\udde6-\\uddff]){2}",aV="[\\ud800-\\udbff][\\udc00-\\udfff]",Rne="\\u200d",oV=jne+"?",sV="["+Nne+"]?",Dne="(?:"+Rne+"(?:"+[rV,iV,aV].join("|")+")"+sV+oV+")*",Mne=sV+oV+Dne,$ne="(?:"+[rV+l_+"?",l_,iV,aV,kne].join("|")+")",Lne=RegExp(u_+"(?="+u_+")|"+$ne+Mne,"g");function Vne(t){return t.match(Lne)||[]}var Fne=Vne,Bne=Ane,Une=tV,zne=Fne;function qne(t){return Une(t)?zne(t):Bne(t)}var Wne=qne,Hne=mne,Kne=tV,Gne=Wne,Yne=YL;function Qne(t){return function(e){e=Yne(e);var n=Kne(e)?Gne(e):void 0,r=n?n[0]:e.charAt(0),i=n?Hne(n,1).join(""):e.slice(1);return r[t]()+i}}var Xne=Qne,Jne=Xne,Zne=Jne("toUpperCase"),ere=Zne;const tv=Fe(ere);function Ge(t){return function(){return t}}const lV=Math.cos,Um=Math.sin,Mr=Math.sqrt,zm=Math.PI,nv=2*zm,c_=Math.PI,d_=2*c_,ko=1e-6,tre=d_-ko;function uV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uV;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uV:nre(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,d=s-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>ko)if(!(Math.abs(d*l-u*c)>ko)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,y=l*l+u*u,v=m*m+g*g,E=Math.sqrt(y),_=Math.sqrt(f),x=a*Math.tan((c_-Math.acos((y+f-v)/(2*E*_)))/2),P=x/_,S=x/E;Math.abs(P-1)>ko&&this._append`L${e+P*c},${n+P*d}`,this._append`A${a},${a},0,0,${+(d*m>c*g)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ko||Math.abs(this._y1-c)>ko)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%d_+d_),f>tre?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>ko&&this._append`A${r},${r},0,${+(f>=c_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function YE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rre(e)}function QE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cV(t){this._context=t}cV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rv(t){return new cV(t)}function dV(t){return t[0]}function fV(t){return t[1]}function hV(t,e){var n=Ge(!0),r=null,i=rv,a=null,o=YE(s);t=typeof t=="function"?t:t===void 0?dV:Ge(t),e=typeof e=="function"?e:e===void 0?fV:Ge(e);function s(l){var u,c=(l=QE(l)).length,d,f=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ge(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ge(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ge(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function ep(t,e,n){var r=null,i=Ge(!0),a=null,o=rv,s=null,l=YE(u);t=typeof t=="function"?t:t===void 0?dV:Ge(+t),e=typeof e=="function"?e:Ge(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fV:Ge(+n);function u(d){var f,m,g,y=(d=QE(d)).length,v,E=!1,_,x=new Array(y),P=new Array(y);for(a==null&&(s=o(_=l())),f=0;f<=y;++f){if(!(f<y&&i(v=d[f],f,d))===E)if(E=!E)m=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=m;--g)s.point(x[g],P[g]);s.lineEnd(),s.areaEnd()}E&&(x[f]=+t(v,f,d),P[f]=+e(v,f,d),s.point(r?+r(v,f,d):x[f],n?+n(v,f,d):P[f]))}if(_)return s=null,_+""||null}function c(){return hV().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ge(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ge(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ge(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ge(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ge(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ge(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ge(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class pV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ire(t){return new pV(t,!0)}function are(t){return new pV(t,!1)}const XE={draw(t,e){const n=Mr(e/zm);t.moveTo(n,0),t.arc(0,0,n,0,nv)}},ore={draw(t,e){const n=Mr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mV=Mr(1/3),sre=mV*2,lre={draw(t,e){const n=Mr(e/sre),r=n*mV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ure={draw(t,e){const n=Mr(e),r=-n/2;t.rect(r,r,n,n)}},cre=.8908130915292852,gV=Um(zm/10)/Um(7*zm/10),dre=Um(nv/10)*gV,fre=-lV(nv/10)*gV,hre={draw(t,e){const n=Mr(e*cre),r=dre*n,i=fre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=nv*a/5,s=lV(o),l=Um(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},G0=Mr(3),pre={draw(t,e){const n=-Mr(e/(G0*3));t.moveTo(0,n*2),t.lineTo(-G0*n,-n),t.lineTo(G0*n,-n),t.closePath()}},Zn=-.5,er=Mr(3)/2,f_=1/Mr(12),mre=(f_/2+1)*3,gre={draw(t,e){const n=Mr(e/mre),r=n/2,i=n*f_,a=r,o=n*f_+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Zn*r-er*i,er*r+Zn*i),t.lineTo(Zn*a-er*o,er*a+Zn*o),t.lineTo(Zn*s-er*l,er*s+Zn*l),t.lineTo(Zn*r+er*i,Zn*i-er*r),t.lineTo(Zn*a+er*o,Zn*o-er*a),t.lineTo(Zn*s+er*l,Zn*l-er*s),t.closePath()}};function yre(t,e){let n=null,r=YE(i);t=typeof t=="function"?t:Ge(t||XE),e=typeof e=="function"?e:Ge(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ge(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ge(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function qm(){}function Wm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yV(t){this._context=t}yV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vre(t){return new yV(t)}function vV(t){this._context=t}vV.prototype={areaStart:qm,areaEnd:qm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bre(t){return new vV(t)}function bV(t){this._context=t}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wre(t){return new bV(t)}function wV(t){this._context=t}wV.prototype={areaStart:qm,areaEnd:qm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _re(t){return new wV(t)}function $O(t){return t<0?-1:1}function LO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return($O(a)+$O(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function VO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Y0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Hm(t){this._context=t}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y0(this,this._t0,VO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y0(this,VO(this,n=LO(this,t,e)),n);break;default:Y0(this,this._t0,n=LO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _V(t){this._context=new xV(t)}(_V.prototype=Object.create(Hm.prototype)).point=function(t,e){Hm.prototype.point.call(this,e,t)};function xV(t){this._context=t}xV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function xre(t){return new Hm(t)}function Ere(t){return new _V(t)}function EV(t){this._context=t}EV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FO(t),i=FO(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Sre(t){return new EV(t)}function iv(t,e){this._context=t,this._t=e}iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Tre(t){return new iv(t,.5)}function Are(t){return new iv(t,0)}function Pre(t){return new iv(t,1)}function nu(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function h_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ire(t,e){return t[e]}function Ore(t){const e=[];return e.key=t,e}function Cre(){var t=Ge([]),e=h_,n=nu,r=Ire;function i(a){var o=Array.from(t.apply(this,arguments),Ore),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,c=QE(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ge(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ge(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?h_:typeof a=="function"?a:Ge(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??nu,i):n},i}function Nre(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}nu(t,e)}}function kre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}nu(t,e)}}function jre(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],d=c[r][1]||0,f=c[r-1][1]||0,m=(d-f)/2,g=0;g<s;++g){var y=t[e[g]],v=y[r][1]||0,E=y[r-1][1]||0;m+=v-E}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,nu(t,e)}}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var Rre=["type","size","sizeType"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=$re(t,"string");return tf(e)=="symbol"?e:e+""}function $re(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lre(t,e){if(t==null)return{};var n=Vre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var SV={symbolCircle:XE,symbolCross:ore,symbolDiamond:lre,symbolSquare:ure,symbolStar:hre,symbolTriangle:pre,symbolWye:gre},Fre=Math.PI/180,Bre=function(e){var n="symbol".concat(tv(e));return SV[n]||XE},Ure=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Fre;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zre=function(e,n){SV["symbol".concat(tv(e))]=n},JE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Lre(e,Rre),u=UO(UO({},l),{},{type:r,size:a,sizeType:s}),c=function(){var v=Bre(r),E=yre().type(v).size(Ure(a,s,r));return E()},d=u.className,f=u.cx,m=u.cy,g=ce(u,!0);return f===+f&&m===+m&&a===+a?D.createElement("path",p_({},g,{className:xe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};JE.registerSymbol=zre;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){nf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function Kre(t,e,n){return e&&Hre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gre(t,e,n){return e=Km(e),Yre(t,TV()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function Yre(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qre(t)}function Qre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function Xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g_(t,e)}function nf(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=Jre(t,"string");return ru(e)=="symbol"?e:e+""}function Jre(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tr=32,ZE=function(t){function e(){return Wre(this,e),Gre(this,e,arguments)}return Xre(e,t),Kre(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=tr/2,o=tr/6,s=tr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:tr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(tr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(tr/8,"h").concat(tr,"v").concat(tr*3/4,"h").concat(-tr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=qre({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(JE,{fill:l,cx:a,cy:a,size:tr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:tr,height:tr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var y=m.formatter||l,v=xe(nf(nf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var E=me(m.value)?null:m.value;Nr(!me(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?u:m.color;return D.createElement("li",m_({className:v,style:d,key:"legend-item-".concat(g)},ws(r.props,m,g)),D.createElement(o_,{width:o,height:o,viewBox:c,style:f},r.renderIcon(m)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(E,m,g):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);nf(ZE,"displayName","Legend");nf(ZE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zre=Uy;function eie(){this.__data__=new Zre,this.size=0}var tie=eie;function nie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rie=nie;function iie(t){return this.__data__.get(t)}var aie=iie;function oie(t){return this.__data__.has(t)}var sie=oie,lie=Uy,uie=FE,cie=BE,die=200;function fie(t,e){var n=this.__data__;if(n instanceof lie){var r=n.__data__;if(!uie||r.length<die-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cie(r)}return n.set(t,e),this.size=n.size,this}var hie=fie,pie=Uy,mie=tie,gie=rie,yie=aie,vie=sie,bie=hie;function Hu(t){var e=this.__data__=new pie(t);this.size=e.size}Hu.prototype.clear=mie;Hu.prototype.delete=gie;Hu.prototype.get=yie;Hu.prototype.has=vie;Hu.prototype.set=bie;var PV=Hu,wie="__lodash_hash_undefined__";function _ie(t){return this.__data__.set(t,wie),this}var xie=_ie;function Eie(t){return this.__data__.has(t)}var Sie=Eie,Tie=BE,Aie=xie,Pie=Sie;function Gm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tie;++e<n;)this.add(t[e])}Gm.prototype.add=Gm.prototype.push=Aie;Gm.prototype.has=Pie;var IV=Gm;function Iie(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var OV=Iie;function Oie(t,e){return t.has(e)}var CV=Oie,Cie=IV,Nie=OV,kie=CV,jie=1,Rie=2;function Die(t,e,n,r,i,a){var o=n&jie,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,m=n&Rie?new Cie:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var g=t[d],y=e[d];if(r)var v=o?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!Nie(e,function(E,_){if(!kie(m,_)&&(g===E||i(g,E,n,r,a)))return m.push(_)})){f=!1;break}}else if(!(g===y||i(g,y,n,r,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var NV=Die,Mie=ui,$ie=Mie.Uint8Array,Lie=$ie;function Vie(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Fie=Vie;function Bie(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var eS=Bie,qO=ih,WO=Lie,Uie=VE,zie=NV,qie=Fie,Wie=eS,Hie=1,Kie=2,Gie="[object Boolean]",Yie="[object Date]",Qie="[object Error]",Xie="[object Map]",Jie="[object Number]",Zie="[object RegExp]",eae="[object Set]",tae="[object String]",nae="[object Symbol]",rae="[object ArrayBuffer]",iae="[object DataView]",HO=qO?qO.prototype:void 0,Q0=HO?HO.valueOf:void 0;function aae(t,e,n,r,i,a,o){switch(n){case iae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rae:return!(t.byteLength!=e.byteLength||!a(new WO(t),new WO(e)));case Gie:case Yie:case Jie:return Uie(+t,+e);case Qie:return t.name==e.name&&t.message==e.message;case Zie:case tae:return t==e+"";case Xie:var s=qie;case eae:var l=r&Hie;if(s||(s=Wie),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Kie,o.set(t,e);var c=zie(s(t),s(e),r,i,a,o);return o.delete(t),c;case nae:if(Q0)return Q0.call(t)==Q0.call(e)}return!1}var oae=aae;function sae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var kV=sae,lae=kV,uae=Ln;function cae(t,e,n){var r=e(t);return uae(t)?r:lae(r,n(t))}var dae=cae;function fae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var hae=fae;function pae(){return[]}var mae=pae,gae=hae,yae=mae,vae=Object.prototype,bae=vae.propertyIsEnumerable,KO=Object.getOwnPropertySymbols,wae=KO?function(t){return t==null?[]:(t=Object(t),gae(KO(t),function(e){return bae.call(t,e)}))}:yae,_ae=wae;function xae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Eae=xae,Sae=Ji,Tae=Zi,Aae="[object Arguments]";function Pae(t){return Tae(t)&&Sae(t)==Aae}var Iae=Pae,GO=Iae,Oae=Zi,jV=Object.prototype,Cae=jV.hasOwnProperty,Nae=jV.propertyIsEnumerable,kae=GO(function(){return arguments}())?GO:function(t){return Oae(t)&&Cae.call(t,"callee")&&!Nae.call(t,"callee")},tS=kae,Ym={exports:{}};function jae(){return!1}var Rae=jae;Ym.exports;(function(t,e){var n=ui,r=Rae,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Ym,Ym.exports);var RV=Ym.exports,Dae=9007199254740991,Mae=/^(?:0|[1-9]\d*)$/;function $ae(t,e){var n=typeof t;return e=e??Dae,!!e&&(n=="number"||n!="symbol"&&Mae.test(t))&&t>-1&&t%1==0&&t<e}var nS=$ae,Lae=9007199254740991;function Vae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Lae}var rS=Vae,Fae=Ji,Bae=rS,Uae=Zi,zae="[object Arguments]",qae="[object Array]",Wae="[object Boolean]",Hae="[object Date]",Kae="[object Error]",Gae="[object Function]",Yae="[object Map]",Qae="[object Number]",Xae="[object Object]",Jae="[object RegExp]",Zae="[object Set]",eoe="[object String]",toe="[object WeakMap]",noe="[object ArrayBuffer]",roe="[object DataView]",ioe="[object Float32Array]",aoe="[object Float64Array]",ooe="[object Int8Array]",soe="[object Int16Array]",loe="[object Int32Array]",uoe="[object Uint8Array]",coe="[object Uint8ClampedArray]",doe="[object Uint16Array]",foe="[object Uint32Array]",et={};et[ioe]=et[aoe]=et[ooe]=et[soe]=et[loe]=et[uoe]=et[coe]=et[doe]=et[foe]=!0;et[zae]=et[qae]=et[noe]=et[Wae]=et[roe]=et[Hae]=et[Kae]=et[Gae]=et[Yae]=et[Qae]=et[Xae]=et[Jae]=et[Zae]=et[eoe]=et[toe]=!1;function hoe(t){return Uae(t)&&Bae(t.length)&&!!et[Fae(t)]}var poe=hoe;function moe(t){return function(e){return t(e)}}var DV=moe,Qm={exports:{}};Qm.exports;(function(t,e){var n=zL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Qm,Qm.exports);var goe=Qm.exports,yoe=poe,voe=DV,YO=goe,QO=YO&&YO.isTypedArray,boe=QO?voe(QO):yoe,MV=boe,woe=Eae,_oe=tS,xoe=Ln,Eoe=RV,Soe=nS,Toe=MV,Aoe=Object.prototype,Poe=Aoe.hasOwnProperty;function Ioe(t,e){var n=xoe(t),r=!n&&_oe(t),i=!n&&!r&&Eoe(t),a=!n&&!r&&!i&&Toe(t),o=n||r||i||a,s=o?woe(t.length,String):[],l=s.length;for(var u in t)(e||Poe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Soe(u,l)))&&s.push(u);return s}var Ooe=Ioe,Coe=Object.prototype;function Noe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Coe;return t===n}var koe=Noe;function joe(t,e){return function(n){return t(e(n))}}var $V=joe,Roe=$V,Doe=Roe(Object.keys,Object),Moe=Doe,$oe=koe,Loe=Moe,Voe=Object.prototype,Foe=Voe.hasOwnProperty;function Boe(t){if(!$oe(t))return Loe(t);var e=[];for(var n in Object(t))Foe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Uoe=Boe,zoe=LE,qoe=rS;function Woe(t){return t!=null&&qoe(t.length)&&!zoe(t)}var oh=Woe,Hoe=Ooe,Koe=Uoe,Goe=oh;function Yoe(t){return Goe(t)?Hoe(t):Koe(t)}var av=Yoe,Qoe=dae,Xoe=_ae,Joe=av;function Zoe(t){return Qoe(t,Joe,Xoe)}var ese=Zoe,XO=ese,tse=1,nse=Object.prototype,rse=nse.hasOwnProperty;function ise(t,e,n,r,i,a){var o=n&tse,s=XO(t),l=s.length,u=XO(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=s[d];if(!(o?f in e:rse.call(e,f)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=o;++d<l;){f=s[d];var E=t[f],_=e[f];if(r)var x=o?r(_,E,f,e,t,a):r(E,_,f,t,e,a);if(!(x===void 0?E===_||i(E,_,n,r,a):x)){y=!1;break}v||(v=f=="constructor")}if(y&&!v){var P=t.constructor,S=e.constructor;P!=S&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(t),a.delete(e),y}var ase=ise,ose=$s,sse=ui,lse=ose(sse,"DataView"),use=lse,cse=$s,dse=ui,fse=cse(dse,"Promise"),hse=fse,pse=$s,mse=ui,gse=pse(mse,"Set"),LV=gse,yse=$s,vse=ui,bse=yse(vse,"WeakMap"),wse=bse,y_=use,v_=FE,b_=hse,w_=LV,__=wse,VV=Ji,Ku=WL,JO="[object Map]",_se="[object Object]",ZO="[object Promise]",eC="[object Set]",tC="[object WeakMap]",nC="[object DataView]",xse=Ku(y_),Ese=Ku(v_),Sse=Ku(b_),Tse=Ku(w_),Ase=Ku(__),jo=VV;(y_&&jo(new y_(new ArrayBuffer(1)))!=nC||v_&&jo(new v_)!=JO||b_&&jo(b_.resolve())!=ZO||w_&&jo(new w_)!=eC||__&&jo(new __)!=tC)&&(jo=function(t){var e=VV(t),n=e==_se?t.constructor:void 0,r=n?Ku(n):"";if(r)switch(r){case xse:return nC;case Ese:return JO;case Sse:return ZO;case Tse:return eC;case Ase:return tC}return e});var Pse=jo,X0=PV,Ise=NV,Ose=oae,Cse=ase,rC=Pse,iC=Ln,aC=RV,Nse=MV,kse=1,oC="[object Arguments]",sC="[object Array]",tp="[object Object]",jse=Object.prototype,lC=jse.hasOwnProperty;function Rse(t,e,n,r,i,a){var o=iC(t),s=iC(e),l=o?sC:rC(t),u=s?sC:rC(e);l=l==oC?tp:l,u=u==oC?tp:u;var c=l==tp,d=u==tp,f=l==u;if(f&&aC(t)){if(!aC(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new X0),o||Nse(t)?Ise(t,e,n,r,i,a):Ose(t,e,l,n,r,i,a);if(!(n&kse)){var m=c&&lC.call(t,"__wrapped__"),g=d&&lC.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,v=g?e.value():e;return a||(a=new X0),i(y,v,n,r,a)}}return f?(a||(a=new X0),Cse(t,e,n,r,i,a)):!1}var Dse=Rse,Mse=Dse,uC=Zi;function FV(t,e,n,r,i){return t===e?!0:t==null||e==null||!uC(t)&&!uC(e)?t!==t&&e!==e:Mse(t,e,n,r,FV,i)}var iS=FV,$se=PV,Lse=iS,Vse=1,Fse=2;function Bse(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new $se;if(r)var f=r(u,c,l,t,e,d);if(!(f===void 0?Lse(c,u,Vse|Fse,r,d):f))return!1}}return!0}var Use=Bse,zse=po;function qse(t){return t===t&&!zse(t)}var BV=qse,Wse=BV,Hse=av;function Kse(t){for(var e=Hse(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wse(i)]}return e}var Gse=Kse;function Yse(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var UV=Yse,Qse=Use,Xse=Gse,Jse=UV;function Zse(t){var e=Xse(t);return e.length==1&&e[0][2]?Jse(e[0][0],e[0][1]):function(n){return n===t||Qse(n,t,e)}}var ele=Zse;function tle(t,e){return t!=null&&e in Object(t)}var nle=tle,rle=QL,ile=tS,ale=Ln,ole=nS,sle=rS,lle=qy;function ule(t,e,n){e=rle(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=lle(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&sle(i)&&ole(o,i)&&(ale(t)||ile(t)))}var cle=ule,dle=nle,fle=cle;function hle(t,e){return t!=null&&fle(t,e,dle)}var ple=hle,mle=iS,gle=XL,yle=ple,vle=$E,ble=BV,wle=UV,_le=qy,xle=1,Ele=2;function Sle(t,e){return vle(t)&&ble(e)?wle(_le(t),e):function(n){var r=gle(n,t);return r===void 0&&r===e?yle(n,t):mle(e,r,xle|Ele)}}var Tle=Sle;function Ale(t){return t}var Gu=Ale;function Ple(t){return function(e){return e?.[t]}}var Ile=Ple,Ole=qE;function Cle(t){return function(e){return Ole(e,t)}}var Nle=Cle,kle=Ile,jle=Nle,Rle=$E,Dle=qy;function Mle(t){return Rle(t)?kle(Dle(t)):jle(t)}var $le=Mle,Lle=ele,Vle=Tle,Fle=Gu,Ble=Ln,Ule=$le;function zle(t){return typeof t=="function"?t:t==null?Fle:typeof t=="object"?Ble(t)?Vle(t[0],t[1]):Lle(t):Ule(t)}var ci=zle;function qle(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var zV=qle;function Wle(t){return t!==t}var Hle=Wle;function Kle(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Gle=Kle,Yle=zV,Qle=Hle,Xle=Gle;function Jle(t,e,n){return e===e?Xle(t,e,n):Yle(t,Qle,n)}var Zle=Jle,eue=Zle;function tue(t,e){var n=t==null?0:t.length;return!!n&&eue(t,e,0)>-1}var nue=tue;function rue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var iue=rue;function aue(){}var oue=aue,J0=LV,sue=oue,lue=eS,uue=1/0,cue=J0&&1/lue(new J0([,-0]))[1]==uue?function(t){return new J0(t)}:sue,due=cue,fue=IV,hue=nue,pue=iue,mue=CV,gue=due,yue=eS,vue=200;function bue(t,e,n){var r=-1,i=hue,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=pue;else if(a>=vue){var u=e?null:gue(t);if(u)return yue(u);o=!1,i=mue,l=new fue}else l=e?[]:s;e:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var wue=bue,_ue=ci,xue=wue;function Eue(t,e){return t&&t.length?xue(t,_ue(e)):[]}var Sue=Eue;const cC=Fe(Sue);function qV(t,e,n){return e===!0?cC(t,n):me(e)?cC(t,e):t}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}var Tue=["ref"];function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HV(r.key),r)}}function Pue(t,e,n){return e&&fC(t.prototype,e),n&&fC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iue(t,e,n){return e=Xm(e),Oue(t,WV()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function Oue(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function ov(t,e,n){return e=HV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t){var e=kue(t,"string");return iu(e)=="symbol"?e:e+""}function kue(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jue(t,e){if(t==null)return{};var n=Rue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Due(t){return t.value}function Mue(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=jue(e,Tue);return D.createElement(ZE,n)}var hC=1,Di=function(t){function e(){var n;Aue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Iue(this,e,[].concat(i)),ov(n,"lastBoundingBox",{width:-1,height:-1}),n}return Nue(e,t),Pue(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hC||Math.abs(i.height-this.lastBoundingBox.height)>hC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();f={top:((c||0)-g.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return yi(yi({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=yi(yi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},Mue(a,yi(yi({},this.props),{},{payload:qV(c,u,Due)})))}}],[{key:"getWithHeight",value:function(r,i){var a=yi(yi({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Z(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);ov(Di,"displayName","Legend");ov(Di,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pC=ih,$ue=tS,Lue=Ln,mC=pC?pC.isConcatSpreadable:void 0;function Vue(t){return Lue(t)||$ue(t)||!!(mC&&t&&t[mC])}var Fue=Vue,Bue=kV,Uue=Fue;function KV(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Uue),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?KV(s,e-1,n,r,i):Bue(i,s):r||(i[i.length]=s)}return i}var GV=KV;function zue(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var que=zue,Wue=que,Hue=Wue(),Kue=Hue,Gue=Kue,Yue=av;function Que(t,e){return t&&Gue(t,e,Yue)}var YV=Que,Xue=oh;function Jue(t,e){return function(n,r){if(n==null)return n;if(!Xue(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Zue=Jue,ece=YV,tce=Zue,nce=tce(ece),aS=nce,rce=aS,ice=oh;function ace(t,e){var n=-1,r=ice(t)?Array(t.length):[];return rce(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var QV=ace;function oce(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var sce=oce,gC=Vu;function lce(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=gC(t),o=e!==void 0,s=e===null,l=e===e,u=gC(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var uce=lce,cce=uce;function dce(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=cce(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var fce=dce,Z0=zE,hce=qE,pce=ci,mce=QV,gce=sce,yce=DV,vce=fce,bce=Gu,wce=Ln;function _ce(t,e,n){e.length?e=Z0(e,function(a){return wce(a)?function(o){return hce(o,a.length===1?a[0]:a)}:a}):e=[bce];var r=-1;e=Z0(e,yce(pce));var i=mce(t,function(a,o,s){var l=Z0(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return gce(i,function(a,o){return vce(a,o,n)})}var xce=_ce;function Ece(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Sce=Ece,Tce=Sce,yC=Math.max;function Ace(t,e,n){return e=yC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=yC(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Tce(t,this,s)}}var Pce=Ace;function Ice(t){return function(){return t}}var Oce=Ice,Cce=$s,Nce=function(){try{var t=Cce(Object,"defineProperty");return t({},"",{}),t}catch{}}(),XV=Nce,kce=Oce,vC=XV,jce=Gu,Rce=vC?function(t,e){return vC(t,"toString",{configurable:!0,enumerable:!1,value:kce(e),writable:!0})}:jce,Dce=Rce,Mce=800,$ce=16,Lce=Date.now;function Vce(t){var e=0,n=0;return function(){var r=Lce(),i=$ce-(r-n);if(n=r,i>0){if(++e>=Mce)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Fce=Vce,Bce=Dce,Uce=Fce,zce=Uce(Bce),qce=zce,Wce=Gu,Hce=Pce,Kce=qce;function Gce(t,e){return Kce(Hce(t,e,Wce),t+"")}var Yce=Gce,Qce=VE,Xce=oh,Jce=nS,Zce=po;function ede(t,e,n){if(!Zce(n))return!1;var r=typeof e;return(r=="number"?Xce(n)&&Jce(e,n.length):r=="string"&&e in n)?Qce(n[e],t):!1}var sv=ede,tde=GV,nde=xce,rde=Yce,bC=sv,ide=rde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bC(t,e[0],e[1])?e=[]:n>2&&bC(e[0],e[1],e[2])&&(e=[e[0]]),nde(t,tde(e,1),[])}),ade=ide;const oS=Fe(ade);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function ode(t,e){return cde(t)||ude(t,e)||lde(t,e)||sde()}function sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(t,e){if(t){if(typeof t=="string")return wC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(t,e)}}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ude(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cde(t){if(Array.isArray(t))return t}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e,n){return e=fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=hde(t,"string");return rf(e)=="symbol"?e:e+""}function hde(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t){return Array.isArray(t)&&kt(t[0])&&kt(t[1])?t.join(" ~ "):t}var mde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,f=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,E=e.accessibilityLayer,_=E===void 0?!1:E,x=function(){if(c&&c.length){var R={padding:0,margin:0},k=(f?oS(c,f):c).map(function(B,U){if(B.type==="none")return null;var H=eb({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),K=B.formatter||d||pde,V=B.value,q=B.name,Y=V,re=q;if(K&&Y!=null&&re!=null){var Q=K(V,q,B,U,c);if(Array.isArray(Q)){var ae=ode(Q,2);Y=ae[0],re=ae[1]}else Y=Q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:H},kt(re)?D.createElement("span",{className:"recharts-tooltip-item-name"},re):null,kt(re)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Y),D.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:R},k)}return null},P=eb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=eb({margin:0},u),A=!we(y),T=A?y:"",b=xe("recharts-default-tooltip",m),O=xe("recharts-tooltip-label",g);A&&v&&c!==void 0&&c!==null&&(T=v(y,c));var C=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",E_({className:b,style:P},C),D.createElement("p",{className:O,style:S},D.isValidElement(T)?T:"".concat(T)),x())};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function np(t,e,n){return e=gde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gde(t){var e=yde(t,"string");return af(e)=="symbol"?e:e+""}function yde(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oc="recharts-tooltip-wrapper",vde={visibility:"hidden"};function bde(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return xe(Oc,np(np(np(np({},"".concat(Oc,"-right"),Z(n)&&e&&Z(e.x)&&n>=e.x),"".concat(Oc,"-left"),Z(n)&&e&&Z(e.x)&&n<e.x),"".concat(Oc,"-bottom"),Z(r)&&e&&Z(e.y)&&r>=e.y),"".concat(Oc,"-top"),Z(r)&&e&&Z(e.y)&&r<e.y))}function xC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Z(a[r]))return a[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?c:d;if(o[r]){var f=c,m=l[r];return f<m?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(d,l[r])}function wde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _de(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&n?(c=xC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=xC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=wde({translateX:c,translateY:d,useTranslate3d:s})):u=vde,{cssProperties:u,cssClasses:bde({translateX:c,translateY:d,coordinate:n})}}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ede(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZV(r.key),r)}}function Sde(t,e,n){return e&&Ede(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tde(t,e,n){return e=Jm(e),Ade(t,JV()?Reflect.construct(e,n||[],Jm(t).constructor):e.apply(t,n))}function Ade(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pde(t)}function Pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function Ide(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function T_(t,e,n){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZV(t){var e=Ode(t,"string");return au(e)=="symbol"?e:e+""}function Ode(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TC=1,Cde=function(t){function e(){var n;xde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Tde(this,e,[].concat(i)),T_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),T_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Ide(e,t),Sde(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>TC||Math.abs(r.height-this.state.lastBoundingBox.height)>TC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,E=i.viewBox,_=i.wrapperStyle,x=_de({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:E}),P=x.cssClasses,S=x.cssProperties,A=SC(SC({transition:f&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(b){r.wrapperNode=b}},u)}}])}(M.PureComponent),Nde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jr={isSsr:Nde(),get:function(e){return Jr[e]},set:function(e,n){if(typeof e=="string")Jr[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Jr[i]=e[i]})}}};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t4(r.key),r)}}function Rde(t,e,n){return e&&jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dde(t,e,n){return e=Zm(e),Mde(t,e4()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function Mde(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $de(t)}function $de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function Lde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function sS(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=Vde(t,"string");return ou(e)=="symbol"?e:e+""}function Vde(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fde(t){return t.dataKey}function Bde(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(mde,e)}var In=function(t){function e(){return kde(this,e),Dde(this,e,arguments)}return Lde(e,t),Rde(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,f=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,E=i.reverseDirection,_=i.useTranslate3d,x=i.viewBox,P=i.wrapperStyle,S=g??[];d&&S.length&&(S=qV(g.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),y,Fde));var A=S.length>0;return D.createElement(Cde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:a,coordinate:c,hasPayload:A,offset:m,position:v,reverseDirection:E,useTranslate3d:_,viewBox:x,wrapperStyle:P},Bde(u,PC(PC({},this.props),{},{payload:S})))}}])}(M.PureComponent);sS(In,"displayName","Tooltip");sS(In,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ude=ui,zde=function(){return Ude.Date.now()},qde=zde,Wde=/\s/;function Hde(t){for(var e=t.length;e--&&Wde.test(t.charAt(e)););return e}var Kde=Hde,Gde=Kde,Yde=/^\s+/;function Qde(t){return t&&t.slice(0,Gde(t)+1).replace(Yde,"")}var Xde=Qde,Jde=Xde,IC=po,Zde=Vu,OC=NaN,efe=/^[-+]0x[0-9a-f]+$/i,tfe=/^0b[01]+$/i,nfe=/^0o[0-7]+$/i,rfe=parseInt;function ife(t){if(typeof t=="number")return t;if(Zde(t))return OC;if(IC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=IC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Jde(t);var n=tfe.test(t);return n||nfe.test(t)?rfe(t.slice(2),n?2:8):efe.test(t)?OC:+t}var n4=ife,afe=po,tb=qde,CC=n4,ofe="Expected a function",sfe=Math.max,lfe=Math.min;function ufe(t,e,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(ofe);e=CC(e)||0,afe(n)&&(c=!!n.leading,d="maxWait"in n,a=d?sfe(CC(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function m(A){var T=r,b=i;return r=i=void 0,u=A,o=t.apply(b,T),o}function g(A){return u=A,s=setTimeout(E,e),c?m(A):o}function y(A){var T=A-l,b=A-u,O=e-T;return d?lfe(O,a-b):O}function v(A){var T=A-l,b=A-u;return l===void 0||T>=e||T<0||d&&b>=a}function E(){var A=tb();if(v(A))return _(A);s=setTimeout(E,y(A))}function _(A){return s=void 0,f&&r?m(A):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function P(){return s===void 0?o:_(tb())}function S(){var A=tb(),T=v(A);if(r=arguments,i=this,l=A,T){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(E,e),m(l)}return s===void 0&&(s=setTimeout(E,e)),o}return S.cancel=x,S.flush=P,S}var cfe=ufe,dfe=cfe,ffe=po,hfe="Expected a function";function pfe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hfe);return ffe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dfe(t,e,{leading:r,maxWait:e,trailing:i})}var mfe=pfe;const r4=Fe(mfe);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gfe(t,e,n){return e=yfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yfe(t){var e=vfe(t,"string");return of(e)=="symbol"?e:e+""}function vfe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bfe(t,e){return Efe(t)||xfe(t,e)||_fe(t,e)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _fe(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Efe(t){if(Array.isArray(t))return t}var md=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,E=t.className,_=t.onResize,x=t.style,P=x===void 0?{}:x,S=M.useRef(null),A=M.useRef();A.current=_,M.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=M.useState({containerWidth:i.width,containerHeight:i.height}),b=bfe(T,2),O=b[0],C=b[1],N=M.useCallback(function(k,B){C(function(U){var H=Math.round(k),K=Math.round(B);return U.containerWidth===H&&U.containerHeight===K?U:{containerWidth:H,containerHeight:K}})},[]);M.useEffect(function(){var k=function(q){var Y,re=q[0].contentRect,Q=re.width,ae=re.height;N(Q,ae),(Y=A.current)===null||Y===void 0||Y.call(A,Q,ae)};y>0&&(k=r4(k,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(k),U=S.current.getBoundingClientRect(),H=U.width,K=U.height;return N(H,K),B.observe(S.current),function(){B.disconnect()}},[N,y]);var R=M.useMemo(function(){var k=O.containerWidth,B=O.containerHeight;if(k<0||B<0)return null;Nr(qo(o)||qo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Nr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=qo(o)?k:o,H=qo(l)?B:l;n&&n>0&&(U?H=U/n:H&&(U=H*n),f&&H>f&&(H=f)),Nr(U>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,H,o,l,c,d,n);var K=!Array.isArray(m)&&Ri(m.type).endsWith("Chart");return D.Children.map(m,function(V){return D.isValidElement(V)?M.cloneElement(V,rp({width:U,height:H},K?{style:rp({height:"100%",width:"100%",maxHeight:H,maxWidth:U},V.props.style)}:{})):V})},[n,m,l,f,d,c,O,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:xe("recharts-responsive-container",E),style:rp(rp({},P),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:S},R)}),sh=function(e){return null};sh.displayName="Cell";function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return e=Tfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Afe(t,"string");return sf(e)=="symbol"?e:e+""}function Afe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xs={widthCache:{},cacheCount:0},Pfe=2e3,Ife={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RC="recharts_measurement_span";function Ofe(t){var e=P_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var gd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jr.isSsr)return{width:0,height:0};var r=Ofe(n),i=JSON.stringify({text:e,copyStyle:r});if(Xs.widthCache[i])return Xs.widthCache[i];try{var a=document.getElementById(RC);a||(a=document.createElement("span"),a.setAttribute("id",RC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=P_(P_({},Ife),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Xs.widthCache[i]=l,++Xs.cacheCount>Pfe&&(Xs.cacheCount=0,Xs.widthCache={}),l}catch{return{width:0,height:0}}},Cfe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function eg(t,e){return Rfe(t)||jfe(t,e)||kfe(t,e)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rfe(t){if(Array.isArray(t))return t}function Dfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$fe(r.key),r)}}function Mfe(t,e,n){return e&&MC(t.prototype,e),n&&MC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $fe(t){var e=Lfe(t,"string");return lf(e)=="symbol"?e:e+""}function Lfe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ffe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bfe=Object.keys(i4),vl="NaN";function Ufe(t,e){return t*i4[e]}var ip=function(){function t(e,n){Dfe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Vfe.test(n)&&(this.num=NaN,this.unit=""),Bfe.includes(n)&&(this.num=Ufe(e,n),this.unit="px")}return Mfe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ffe.exec(n))!==null&&r!==void 0?r:[],a=eg(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function a4(t){if(t.includes(vl))return vl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=$C.exec(e))!==null&&n!==void 0?n:[],i=eg(r,4),a=i[1],o=i[2],s=i[3],l=ip.parse(a??""),u=ip.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return vl;e=e.replace($C,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=LC.exec(e))!==null&&d!==void 0?d:[],m=eg(f,4),g=m[1],y=m[2],v=m[3],E=ip.parse(g??""),_=ip.parse(v??""),x=y==="+"?E.add(_):E.subtract(_);if(x.isNaN())return vl;e=e.replace(LC,x.toString())}return e}var VC=/\(([^()]*)\)/;function zfe(t){for(var e=t;e.includes("(");){var n=VC.exec(e),r=eg(n,2),i=r[1];e=e.replace(VC,a4(i))}return e}function qfe(t){var e=t.replace(/\s+/g,"");return e=zfe(e),e=a4(e),e}function Wfe(t){try{return qfe(t)}catch{return vl}}function nb(t){var e=Wfe(t.slice(5,-1));return e===vl?"":e}var Hfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kfe=["dx","dy","angle","className","breakAll"];function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function FC(t,e){if(t==null)return{};var n=Gfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BC(t,e){return Jfe(t)||Xfe(t,e)||Qfe(t,e)||Yfe()}function Yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qfe(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jfe(t){if(Array.isArray(t))return t}var o4=/[ \f\n\r\t\v\u2028\u2029]+/,s4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];we(n)||(r?a=n.toString().split(""):a=n.toString().split(o4));var o=a.map(function(l){return{word:l,width:gd(l,i).width}}),s=r?0:gd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Zfe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Z(o),d=s,f=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(H,K){var V=K.word,q=K.width,Y=H[H.length-1];if(Y&&(i==null||a||Y.width+q+r<Number(i)))Y.words.push(V),Y.width+=q+r;else{var re={words:[V],width:q};H.push(re)}return H},[])},m=f(n),g=function(U){return U.reduce(function(H,K){return H.width>K.width?H:K})};if(!c)return m;for(var y="",v=function(U){var H=d.slice(0,U),K=s4({breakAll:u,style:l,children:H+y}).wordsWithComputedWidth,V=f(K),q=V.length>o||g(V).width>Number(i);return[q,V]},E=0,_=d.length-1,x=0,P;E<=_&&x<=d.length-1;){var S=Math.floor((E+_)/2),A=S-1,T=v(A),b=BC(T,2),O=b[0],C=b[1],N=v(S),R=BC(N,1),k=R[0];if(!O&&!k&&(E=S+1),O&&k&&(_=S-1),!O&&k){P=C;break}x++}return P||m},zC=function(e){var n=we(e)?[]:e.toString().split(o4);return[{words:n}]},ehe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Jr.isSsr){var l,u,c=s4({breakAll:o,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,f=c.spaceWidth;l=d,u=f}else return zC(i);return Zfe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return zC(i)},qC="#808080",_s=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,f=e.textAnchor,m=f===void 0?"start":f,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,E=v===void 0?qC:v,_=FC(e,Hfe),x=M.useMemo(function(){return ehe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),P=_.dx,S=_.dy,A=_.angle,T=_.className,b=_.breakAll,O=FC(_,Kfe);if(!kt(r)||!kt(a))return null;var C=r+(Z(P)?P:0),N=a+(Z(S)?S:0),R;switch(y){case"start":R=nb("calc(".concat(u,")"));break;case"middle":R=nb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=nb("calc(".concat(x.length-1," * -").concat(s,")"));break}var k=[];if(d){var B=x[0].width,U=_.width;k.push("scale(".concat((Z(U)?U/B:1)/B,")"))}return A&&k.push("rotate(".concat(A,", ").concat(C,", ").concat(N,")")),k.length&&(O.transform=k.join(" ")),D.createElement("text",I_({},ce(O,!0),{x:C,y:N,className:xe("recharts-text",T),textAnchor:m,fill:E.includes("url")?qC:E}),x.map(function(H,K){var V=H.words.join(b?"":" ");return D.createElement("tspan",{x:C,dy:K===0?R:s,key:"".concat(V,"-").concat(K)},V)}))};function Ka(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function the(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lS(t){let e,n,r;t.length!==2?(e=Ka,n=(s,l)=>Ka(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ka||t===the?t:nhe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function nhe(){return 0}function l4(t){return t===null?NaN:+t}function*rhe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ihe=lS(Ka),lh=ihe.right;lS(l4).center;class WC extends Map{constructor(e,n=she){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(HC(this,e))}has(e){return super.has(HC(this,e))}set(e,n){return super.set(ahe(this,e),n)}delete(e){return super.delete(ohe(this,e))}}function HC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ahe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ohe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function she(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lhe(t=Ka){if(t===Ka)return u4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function u4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uhe=Math.sqrt(50),che=Math.sqrt(10),dhe=Math.sqrt(2);function tg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=uhe?10:a>=che?5:a>=dhe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?tg(t,e,n*2):[s,l,u]}function O_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?tg(e,t,n):tg(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function C_(t,e,n){return e=+e,t=+t,n=+n,tg(t,e,n)[2]}function N_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?C_(e,t,n):C_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function KC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function c4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?u4:lhe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+f)),g=Math.min(r,Math.floor(e+(l-u)*d/l+f));c4(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(Cc(t,n,e),i(t[r],a)>0&&Cc(t,n,r);o<s;){for(Cc(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Cc(t,n,s):(++s,Cc(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Cc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fhe(t,e,n){if(t=Float64Array.from(rhe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GC(t);if(e>=1)return KC(t);var r,i=(r-1)*e,a=Math.floor(i),o=KC(c4(t,a).subarray(0,a+1)),s=GC(t.subarray(a+1));return o+(s-o)*(i-a)}}function hhe(t,e,n=l4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function phe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ea(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const k_=Symbol("implicit");function uS(){var t=new WC,e=[],n=[],r=k_;function i(a){let o=t.get(a);if(o===void 0){if(r!==k_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new WC;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uS(e,n).unknown(r)},vr.apply(i,arguments),i}function uf(){var t=uS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var f=e().length,m=i<r,g=m?i:r,y=m?r:i;a=(y-g)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(f-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=phe(f).map(function(E){return g+a*E});return n(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return uf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},vr.apply(d(),arguments)}function d4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d4(e())},t}function yd(){return d4(uf.apply(null,arguments).paddingInner(1))}function cS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function f4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uh(){}var cf=.7,ng=1/cf,Dl="\\s*([+-]?\\d+)\\s*",df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mhe=/^#([0-9a-f]{3,8})$/,ghe=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),yhe=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),vhe=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${df}\\)$`),bhe=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${df}\\)$`),whe=new RegExp(`^hsl\\(${df},${Zr},${Zr}\\)$`),_he=new RegExp(`^hsla\\(${df},${Zr},${Zr},${df}\\)$`),YC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cS(uh,ff,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QC,formatHex:QC,formatHex8:xhe,formatHsl:Ehe,formatRgb:XC,toString:XC});function QC(){return this.rgb().formatHex()}function xhe(){return this.rgb().formatHex8()}function Ehe(){return h4(this).formatHsl()}function XC(){return this.rgb().formatRgb()}function ff(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mhe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?JC(e):n===3?new jn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ap(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ap(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ghe.exec(t))?new jn(e[1],e[2],e[3],1):(e=yhe.exec(t))?new jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vhe.exec(t))?ap(e[1],e[2],e[3],e[4]):(e=bhe.exec(t))?ap(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=whe.exec(t))?tN(e[1],e[2]/100,e[3]/100,1):(e=_he.exec(t))?tN(e[1],e[2]/100,e[3]/100,e[4]):YC.hasOwnProperty(t)?JC(YC[t]):t==="transparent"?new jn(NaN,NaN,NaN,0):null}function JC(t){return new jn(t>>16&255,t>>8&255,t&255,1)}function ap(t,e,n,r){return r<=0&&(t=e=n=NaN),new jn(t,e,n,r)}function She(t){return t instanceof uh||(t=ff(t)),t?(t=t.rgb(),new jn(t.r,t.g,t.b,t.opacity)):new jn}function j_(t,e,n,r){return arguments.length===1?She(t):new jn(t,e,n,r??1)}function jn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cS(jn,j_,f4(uh,{brighter(t){return t=t==null?ng:Math.pow(ng,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cf:Math.pow(cf,t),new jn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jn(es(this.r),es(this.g),es(this.b),rg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZC,formatHex:ZC,formatHex8:The,formatRgb:eN,toString:eN}));function ZC(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}`}function The(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}${Wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function eN(){const t=rg(this.opacity);return`${t===1?"rgb(":"rgba("}${es(this.r)}, ${es(this.g)}, ${es(this.b)}${t===1?")":`, ${t})`}`}function rg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wo(t){return t=es(t),(t<16?"0":"")+t.toString(16)}function tN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pr(t,e,n,r)}function h4(t){if(t instanceof Pr)return new Pr(t.h,t.s,t.l,t.opacity);if(t instanceof uh||(t=ff(t)),!t)return new Pr;if(t instanceof Pr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Pr(o,s,l,t.opacity)}function Ahe(t,e,n,r){return arguments.length===1?h4(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cS(Pr,Ahe,f4(uh,{brighter(t){return t=t==null?ng:Math.pow(ng,t),new Pr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cf:Math.pow(cf,t),new Pr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jn(rb(t>=240?t-240:t+120,i,r),rb(t,i,r),rb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pr(nN(this.h),op(this.s),op(this.l),rg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rg(this.opacity);return`${t===1?"hsl(":"hsla("}${nN(this.h)}, ${op(this.s)*100}%, ${op(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nN(t){return t=(t||0)%360,t<0?t+360:t}function op(t){return Math.max(0,Math.min(1,t||0))}function rb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dS=t=>()=>t;function Phe(t,e){return function(n){return t+n*e}}function Ihe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ohe(t){return(t=+t)==1?p4:function(e,n){return n-e?Ihe(e,n,t):dS(isNaN(e)?n:e)}}function p4(t,e){var n=e-t;return n?Phe(t,n):dS(isNaN(t)?e:t)}const rN=function t(e){var n=Ohe(e);function r(i,a){var o=n((i=j_(i)).r,(a=j_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=p4(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Che(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Nhe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function khe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Yu(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function jhe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ig(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Rhe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Yu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var R_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ib=new RegExp(R_.source,"g");function Dhe(t){return function(){return t}}function Mhe(t){return function(e){return t(e)+""}}function $he(t,e){var n=R_.lastIndex=ib.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=R_.exec(t))&&(i=ib.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ig(r,i)})),n=ib.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Mhe(l[0].x):Dhe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Yu(t,e){var n=typeof e,r;return e==null||n==="boolean"?dS(e):(n==="number"?ig:n==="string"?(r=ff(e))?(e=r,rN):$he:e instanceof ff?rN:e instanceof Date?jhe:Nhe(e)?Che:Array.isArray(e)?khe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rhe:ig)(t,e)}function fS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lhe(t,e){e===void 0&&(e=t,t=Yu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Vhe(t){return function(){return t}}function ag(t){return+t}var iN=[0,1];function _n(t){return t}function D_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vhe(isNaN(e)?NaN:.5)}function Fhe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Bhe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=D_(i,r),a=n(o,a)):(r=D_(r,i),a=n(a,o)),function(s){return a(r(s))}}function Uhe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=D_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=lh(t,s,1,r)-1;return a[l](i[l](s))}}function ch(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lv(){var t=iN,e=iN,n=Yu,r,i,a,o=_n,s,l,u;function c(){var f=Math.min(t.length,e.length);return o!==_n&&(o=Fhe(t[0],t[f-1])),s=f>2?Uhe:Bhe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=s(e,t.map(r),ig)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,ag),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=fS,c()},d.clamp=function(f){return arguments.length?(o=f?!0:_n,c()):o!==_n},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,m){return r=f,i=m,c()}}function hS(){return lv()(_n,_n)}function zhe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function og(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function su(t){return t=og(Math.abs(t)),t?t[1]:NaN}function qhe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Whe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hf(t){if(!(e=Hhe.exec(t)))throw new Error("invalid format: "+t);var e;return new pS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hf.prototype=pS.prototype;function pS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Khe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var m4;function Ghe(t,e){var n=og(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(m4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+og(t,Math.max(0,e+a-1))[0]}function aN(t,e){var n=og(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zhe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>aN(t*100,e),r:aN,s:Ghe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sN(t){return t}var lN=Array.prototype.map,uN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yhe(t){var e=t.grouping===void 0||t.thousands===void 0?sN:qhe(lN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?sN:Whe(lN.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=hf(d);var f=d.fill,m=d.align,g=d.sign,y=d.symbol,v=d.zero,E=d.width,_=d.comma,x=d.precision,P=d.trim,S=d.type;S==="n"?(_=!0,S="g"):oN[S]||(x===void 0&&(x=12),P=!0,S="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var A=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=y==="$"?r:/[%p]/.test(S)?o:"",b=oN[S],O=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(N){var R=A,k=T,B,U,H;if(S==="c")k=b(N)+k,N="";else{N=+N;var K=N<0||1/N<0;if(N=isNaN(N)?l:b(Math.abs(N),x),P&&(N=Khe(N)),K&&+N==0&&g!=="+"&&(K=!1),R=(K?g==="("?g:s:g==="-"||g==="("?"":g)+R,k=(S==="s"?uN[8+m4/3]:"")+k+(K&&g==="("?")":""),O){for(B=-1,U=N.length;++B<U;)if(H=N.charCodeAt(B),48>H||H>57){k=(H===46?i+N.slice(B+1):N.slice(B))+k,N=N.slice(0,B);break}}}_&&!v&&(N=e(N,1/0));var V=R.length+N.length+k.length,q=V<E?new Array(E-V+1).join(f):"";switch(_&&v&&(N=e(q+N,q.length?E-k.length:1/0),q=""),m){case"<":N=R+N+k+q;break;case"=":N=R+q+N+k;break;case"^":N=q.slice(0,V=q.length>>1)+R+N+k+q.slice(V);break;default:N=q+R+N+k;break}return a(N)}return C.toString=function(){return d+""},C}function c(d,f){var m=u((d=hf(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(su(f)/3)))*3,y=Math.pow(10,-g),v=uN[8+g/3];return function(E){return m(y*E)+v}}return{format:u,formatPrefix:c}}var sp,mS,g4;Qhe({thousands:",",grouping:[3],currency:["$",""]});function Qhe(t){return sp=Yhe(t),mS=sp.format,g4=sp.formatPrefix,sp}function Xhe(t){return Math.max(0,-su(Math.abs(t)))}function Jhe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(su(e)/3)))*3-su(Math.abs(t)))}function Zhe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,su(e)-su(t))+1}function y4(t,e,n,r){var i=N_(t,e,n),a;switch(r=hf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Jhe(i,o))&&(r.precision=a),g4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Zhe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Xhe(i))&&(r.precision=a-(r.type==="%")*2);break}}return mS(r)}function mo(t){var e=t.domain;return t.ticks=function(n){var r=e();return O_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return y4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=C_(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function sg(){var t=hS();return t.copy=function(){return ch(t,sg())},vr.apply(t,arguments),mo(t)}function v4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ag),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return v4(t).unknown(e)},t=arguments.length?Array.from(t,ag):[0,1],mo(n)}function b4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function cN(t){return Math.log(t)}function dN(t){return Math.exp(t)}function epe(t){return-Math.log(-t)}function tpe(t){return-Math.exp(-t)}function npe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rpe(t){return t===10?npe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ipe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fN(t){return(e,n)=>-t(-e,n)}function gS(t){const e=t(cN,dN),n=e.domain;let r=10,i,a;function o(){return i=ipe(r),a=rpe(r),n()[0]<0?(i=fN(i),a=fN(a),t(epe,tpe)):t(cN,dN),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),m=i(c),g,y;const v=s==null?10:+s;let E=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(y=f<0?g/a(-f):g*a(f),!(y<u)){if(y>c)break;E.push(y)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(y=f>0?g/a(-f):g*a(f),!(y<u)){if(y>c)break;E.push(y)}E.length*2<v&&(E=O_(u,c,v))}else E=O_(f,m,Math.min(m-f,v)).map(a);return d?E.reverse():E},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hf(l)).precision==null&&(l.trim=!0),l=mS(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(b4(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function w4(){const t=gS(lv()).domain([1,10]);return t.copy=()=>ch(t,w4()).base(t.base()),vr.apply(t,arguments),t}function hN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yS(t){var e=1,n=t(hN(e),pN(e));return n.constant=function(r){return arguments.length?t(hN(e=+r),pN(e)):e},mo(n)}function _4(){var t=yS(lv());return t.copy=function(){return ch(t,_4()).constant(t.constant())},vr.apply(t,arguments)}function mN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ape(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ope(t){return t<0?-t*t:t*t}function vS(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(ape,ope):t(mN(n),mN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},mo(e)}function bS(){var t=vS(lv());return t.copy=function(){return ch(t,bS()).exponent(t.exponent())},vr.apply(t,arguments),t}function spe(){return bS.apply(null,arguments).exponent(.5)}function gN(t){return Math.sign(t)*t*t}function lpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function x4(){var t=hS(),e=[0,1],n=!1,r;function i(a){var o=lpe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(gN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ag)).map(gN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return x4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vr.apply(i,arguments),mo(i)}function E4(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=hhe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[lh(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ka),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return E4().domain(t).range(e).unknown(r)},vr.apply(a,arguments)}function S4(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[lh(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return S4().domain([t,e]).range(i).unknown(a)},vr.apply(mo(o),arguments)}function T4(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[lh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return T4().domain(t).range(e).unknown(n)},vr.apply(i,arguments)}const ab=new Date,ob=new Date;function Dt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Dt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(ab.setTime(+a),ob.setTime(+o),t(ab),t(ob),Math.floor(n(ab,ob))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const lg=Dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):lg);lg.range;const Oi=1e3,lr=Oi*60,Ci=lr*60,Ki=Ci*24,wS=Ki*7,yN=Ki*30,sb=Ki*365,Ho=Dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCSeconds());Ho.range;const _S=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oi)},(t,e)=>{t.setTime(+t+e*lr)},(t,e)=>(e-t)/lr,t=>t.getMinutes());_S.range;const xS=Dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*lr)},(t,e)=>(e-t)/lr,t=>t.getUTCMinutes());xS.range;const ES=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oi-t.getMinutes()*lr)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getHours());ES.range;const SS=Dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getUTCHours());SS.range;const dh=Dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lr)/Ki,t=>t.getDate()-1);dh.range;const uv=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ki,t=>t.getUTCDate()-1);uv.range;const A4=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ki,t=>Math.floor(t/Ki));A4.range;function Ls(t){return Dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*lr)/wS)}const cv=Ls(0),ug=Ls(1),upe=Ls(2),cpe=Ls(3),lu=Ls(4),dpe=Ls(5),fpe=Ls(6);cv.range;ug.range;upe.range;cpe.range;lu.range;dpe.range;fpe.range;function Vs(t){return Dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wS)}const dv=Vs(0),cg=Vs(1),hpe=Vs(2),ppe=Vs(3),uu=Vs(4),mpe=Vs(5),gpe=Vs(6);dv.range;cg.range;hpe.range;ppe.range;uu.range;mpe.range;gpe.range;const TS=Dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TS.range;const AS=Dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AS.range;const Gi=Dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gi.range;const Yi=Dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yi.range;function P4(t,e,n,r,i,a){const o=[[Ho,1,Oi],[Ho,5,5*Oi],[Ho,15,15*Oi],[Ho,30,30*Oi],[a,1,lr],[a,5,5*lr],[a,15,15*lr],[a,30,30*lr],[i,1,Ci],[i,3,3*Ci],[i,6,6*Ci],[i,12,12*Ci],[r,1,Ki],[r,2,2*Ki],[n,1,wS],[e,1,yN],[e,3,3*yN],[t,1,sb]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return f?g.reverse():g}function l(u,c,d){const f=Math.abs(c-u)/d,m=lS(([,,v])=>v).right(o,f);if(m===o.length)return t.every(N_(u/sb,c/sb,d));if(m===0)return lg.every(Math.max(N_(u,c,d),1));const[g,y]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(y)}return[s,l]}const[ype,vpe]=P4(Yi,AS,dv,A4,SS,xS),[bpe,wpe]=P4(Gi,TS,cv,dh,ES,_S);function lb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ub(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _pe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=kc(i),c=jc(i),d=kc(a),f=jc(a),m=kc(o),g=jc(o),y=kc(s),v=jc(s),E=kc(l),_=jc(l),x={a:K,A:V,b:q,B:Y,c:null,d:EN,e:EN,f:qpe,g:eme,G:nme,H:Bpe,I:Upe,j:zpe,L:I4,m:Wpe,M:Hpe,p:re,q:Q,Q:AN,s:PN,S:Kpe,u:Gpe,U:Ype,V:Qpe,w:Xpe,W:Jpe,x:null,X:null,y:Zpe,Y:tme,Z:rme,"%":TN},P={a:ae,A:Ie,b:De,B:st,c:null,d:SN,e:SN,f:sme,g:yme,G:bme,H:ime,I:ame,j:ome,L:C4,m:lme,M:ume,p:Ut,q:Jt,Q:AN,s:PN,S:cme,u:dme,U:fme,V:hme,w:pme,W:mme,x:null,X:null,y:gme,Y:vme,Z:wme,"%":TN},S={a:C,A:N,b:R,B:k,c:B,d:_N,e:_N,f:$pe,g:wN,G:bN,H:xN,I:xN,j:jpe,L:Mpe,m:kpe,M:Rpe,p:O,q:Npe,Q:Vpe,s:Fpe,S:Dpe,u:Ape,U:Ppe,V:Ipe,w:Tpe,W:Ope,x:U,X:H,y:wN,Y:bN,Z:Cpe,"%":Lpe};x.x=A(n,x),x.X=A(r,x),x.c=A(e,x),P.x=A(n,P),P.X=A(r,P),P.c=A(e,P);function A(ie,ge){return function(ve){var G=[],He=-1,Se=0,lt=ie.length,mt,Zt,$r;for(ve instanceof Date||(ve=new Date(+ve));++He<lt;)ie.charCodeAt(He)===37&&(G.push(ie.slice(Se,He)),(Zt=vN[mt=ie.charAt(++He)])!=null?mt=ie.charAt(++He):Zt=mt==="e"?" ":"0",($r=ge[mt])&&(mt=$r(ve,Zt)),G.push(mt),Se=He+1);return G.push(ie.slice(Se,He)),G.join("")}}function T(ie,ge){return function(ve){var G=Nc(1900,void 0,1),He=b(G,ie,ve+="",0),Se,lt;if(He!=ve.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ge&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Se=ub(Nc(G.y,0,1)),lt=Se.getUTCDay(),Se=lt>4||lt===0?cg.ceil(Se):cg(Se),Se=uv.offset(Se,(G.V-1)*7),G.y=Se.getUTCFullYear(),G.m=Se.getUTCMonth(),G.d=Se.getUTCDate()+(G.w+6)%7):(Se=lb(Nc(G.y,0,1)),lt=Se.getDay(),Se=lt>4||lt===0?ug.ceil(Se):ug(Se),Se=dh.offset(Se,(G.V-1)*7),G.y=Se.getFullYear(),G.m=Se.getMonth(),G.d=Se.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),lt="Z"in G?ub(Nc(G.y,0,1)).getUTCDay():lb(Nc(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(lt+5)%7:G.w+G.U*7-(lt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,ub(G)):lb(G)}}function b(ie,ge,ve,G){for(var He=0,Se=ge.length,lt=ve.length,mt,Zt;He<Se;){if(G>=lt)return-1;if(mt=ge.charCodeAt(He++),mt===37){if(mt=ge.charAt(He++),Zt=S[mt in vN?ge.charAt(He++):mt],!Zt||(G=Zt(ie,ve,G))<0)return-1}else if(mt!=ve.charCodeAt(G++))return-1}return G}function O(ie,ge,ve){var G=u.exec(ge.slice(ve));return G?(ie.p=c.get(G[0].toLowerCase()),ve+G[0].length):-1}function C(ie,ge,ve){var G=m.exec(ge.slice(ve));return G?(ie.w=g.get(G[0].toLowerCase()),ve+G[0].length):-1}function N(ie,ge,ve){var G=d.exec(ge.slice(ve));return G?(ie.w=f.get(G[0].toLowerCase()),ve+G[0].length):-1}function R(ie,ge,ve){var G=E.exec(ge.slice(ve));return G?(ie.m=_.get(G[0].toLowerCase()),ve+G[0].length):-1}function k(ie,ge,ve){var G=y.exec(ge.slice(ve));return G?(ie.m=v.get(G[0].toLowerCase()),ve+G[0].length):-1}function B(ie,ge,ve){return b(ie,e,ge,ve)}function U(ie,ge,ve){return b(ie,n,ge,ve)}function H(ie,ge,ve){return b(ie,r,ge,ve)}function K(ie){return o[ie.getDay()]}function V(ie){return a[ie.getDay()]}function q(ie){return l[ie.getMonth()]}function Y(ie){return s[ie.getMonth()]}function re(ie){return i[+(ie.getHours()>=12)]}function Q(ie){return 1+~~(ie.getMonth()/3)}function ae(ie){return o[ie.getUTCDay()]}function Ie(ie){return a[ie.getUTCDay()]}function De(ie){return l[ie.getUTCMonth()]}function st(ie){return s[ie.getUTCMonth()]}function Ut(ie){return i[+(ie.getUTCHours()>=12)]}function Jt(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ge=A(ie+="",x);return ge.toString=function(){return ie},ge},parse:function(ie){var ge=T(ie+="",!1);return ge.toString=function(){return ie},ge},utcFormat:function(ie){var ge=A(ie+="",P);return ge.toString=function(){return ie},ge},utcParse:function(ie){var ge=T(ie+="",!0);return ge.toString=function(){return ie},ge}}}var vN={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,xpe=/^%/,Epe=/[\\^$*+?|[\]().{}]/g;function je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Spe(t){return t.replace(Epe,"\\$&")}function kc(t){return new RegExp("^(?:"+t.map(Spe).join("|")+")","i")}function jc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tpe(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ape(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ppe(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ipe(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ope(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bN(t,e,n){var r=Bt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wN(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Cpe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Npe(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kpe(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _N(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jpe(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xN(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rpe(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dpe(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mpe(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $pe(t,e,n){var r=Bt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lpe(t,e,n){var r=xpe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vpe(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fpe(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function EN(t,e){return je(t.getDate(),e,2)}function Bpe(t,e){return je(t.getHours(),e,2)}function Upe(t,e){return je(t.getHours()%12||12,e,2)}function zpe(t,e){return je(1+dh.count(Gi(t),t),e,3)}function I4(t,e){return je(t.getMilliseconds(),e,3)}function qpe(t,e){return I4(t,e)+"000"}function Wpe(t,e){return je(t.getMonth()+1,e,2)}function Hpe(t,e){return je(t.getMinutes(),e,2)}function Kpe(t,e){return je(t.getSeconds(),e,2)}function Gpe(t){var e=t.getDay();return e===0?7:e}function Ype(t,e){return je(cv.count(Gi(t)-1,t),e,2)}function O4(t){var e=t.getDay();return e>=4||e===0?lu(t):lu.ceil(t)}function Qpe(t,e){return t=O4(t),je(lu.count(Gi(t),t)+(Gi(t).getDay()===4),e,2)}function Xpe(t){return t.getDay()}function Jpe(t,e){return je(ug.count(Gi(t)-1,t),e,2)}function Zpe(t,e){return je(t.getFullYear()%100,e,2)}function eme(t,e){return t=O4(t),je(t.getFullYear()%100,e,2)}function tme(t,e){return je(t.getFullYear()%1e4,e,4)}function nme(t,e){var n=t.getDay();return t=n>=4||n===0?lu(t):lu.ceil(t),je(t.getFullYear()%1e4,e,4)}function rme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+je(e/60|0,"0",2)+je(e%60,"0",2)}function SN(t,e){return je(t.getUTCDate(),e,2)}function ime(t,e){return je(t.getUTCHours(),e,2)}function ame(t,e){return je(t.getUTCHours()%12||12,e,2)}function ome(t,e){return je(1+uv.count(Yi(t),t),e,3)}function C4(t,e){return je(t.getUTCMilliseconds(),e,3)}function sme(t,e){return C4(t,e)+"000"}function lme(t,e){return je(t.getUTCMonth()+1,e,2)}function ume(t,e){return je(t.getUTCMinutes(),e,2)}function cme(t,e){return je(t.getUTCSeconds(),e,2)}function dme(t){var e=t.getUTCDay();return e===0?7:e}function fme(t,e){return je(dv.count(Yi(t)-1,t),e,2)}function N4(t){var e=t.getUTCDay();return e>=4||e===0?uu(t):uu.ceil(t)}function hme(t,e){return t=N4(t),je(uu.count(Yi(t),t)+(Yi(t).getUTCDay()===4),e,2)}function pme(t){return t.getUTCDay()}function mme(t,e){return je(cg.count(Yi(t)-1,t),e,2)}function gme(t,e){return je(t.getUTCFullYear()%100,e,2)}function yme(t,e){return t=N4(t),je(t.getUTCFullYear()%100,e,2)}function vme(t,e){return je(t.getUTCFullYear()%1e4,e,4)}function bme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?uu(t):uu.ceil(t),je(t.getUTCFullYear()%1e4,e,4)}function wme(){return"+0000"}function TN(){return"%"}function AN(t){return+t}function PN(t){return Math.floor(+t/1e3)}var Js,k4,j4;_me({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _me(t){return Js=_pe(t),k4=Js.format,Js.parse,j4=Js.utcFormat,Js.utcParse,Js}function xme(t){return new Date(t)}function Eme(t){return t instanceof Date?+t:+new Date(+t)}function PS(t,e,n,r,i,a,o,s,l,u){var c=hS(),d=c.invert,f=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),E=u("%a %d"),_=u("%b %d"),x=u("%B"),P=u("%Y");function S(A){return(l(A)<A?m:s(A)<A?g:o(A)<A?y:a(A)<A?v:r(A)<A?i(A)<A?E:_:n(A)<A?x:P)(A)}return c.invert=function(A){return new Date(d(A))},c.domain=function(A){return arguments.length?f(Array.from(A,Eme)):f().map(xme)},c.ticks=function(A){var T=f();return t(T[0],T[T.length-1],A??10)},c.tickFormat=function(A,T){return T==null?S:u(T)},c.nice=function(A){var T=f();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?f(b4(T,A)):c},c.copy=function(){return ch(c,PS(t,e,n,r,i,a,o,s,l,u))},c}function Sme(){return vr.apply(PS(bpe,wpe,Gi,TS,cv,dh,ES,_S,Ho,k4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tme(){return vr.apply(PS(ype,vpe,Yi,AS,dv,uv,SS,xS,Ho,j4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fv(){var t=0,e=1,n,r,i,a,o=_n,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var m,g;return arguments.length?([m,g]=f,o=d(m,g),u):[o(0),o(1)]}}return u.range=c(Yu),u.rangeRound=c(fS),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function go(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function R4(){var t=mo(fv()(_n));return t.copy=function(){return go(t,R4())},ea.apply(t,arguments)}function D4(){var t=gS(fv()).domain([1,10]);return t.copy=function(){return go(t,D4()).base(t.base())},ea.apply(t,arguments)}function M4(){var t=yS(fv());return t.copy=function(){return go(t,M4()).constant(t.constant())},ea.apply(t,arguments)}function IS(){var t=vS(fv());return t.copy=function(){return go(t,IS()).exponent(t.exponent())},ea.apply(t,arguments)}function Ame(){return IS.apply(null,arguments).exponent(.5)}function $4(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((lh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ka),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>fhe(t,a/r))},n.copy=function(){return $4(e).domain(t)},ea.apply(n,arguments)}function hv(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=_n,c,d=!1,f;function m(y){return isNaN(y=+y)?f:(y=.5+((y=+c(y))-a)*(r*y<r*a?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(v){var E,_,x;return arguments.length?([E,_,x]=v,u=Lhe(y,[E,_,x]),m):[u(0),u(.5),u(1)]}}return m.range=g(Yu),m.rangeRound=g(fS),m.unknown=function(y){return arguments.length?(f=y,m):f},function(y){return c=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function L4(){var t=mo(hv()(_n));return t.copy=function(){return go(t,L4())},ea.apply(t,arguments)}function V4(){var t=gS(hv()).domain([.1,1,10]);return t.copy=function(){return go(t,V4()).base(t.base())},ea.apply(t,arguments)}function F4(){var t=yS(hv());return t.copy=function(){return go(t,F4()).constant(t.constant())},ea.apply(t,arguments)}function OS(){var t=vS(hv());return t.copy=function(){return go(t,OS()).exponent(t.exponent())},ea.apply(t,arguments)}function Pme(){return OS.apply(null,arguments).exponent(.5)}const IN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uf,scaleDiverging:L4,scaleDivergingLog:V4,scaleDivergingPow:OS,scaleDivergingSqrt:Pme,scaleDivergingSymlog:F4,scaleIdentity:v4,scaleImplicit:k_,scaleLinear:sg,scaleLog:w4,scaleOrdinal:uS,scalePoint:yd,scalePow:bS,scaleQuantile:E4,scaleQuantize:S4,scaleRadial:x4,scaleSequential:R4,scaleSequentialLog:D4,scaleSequentialPow:IS,scaleSequentialQuantile:$4,scaleSequentialSqrt:Ame,scaleSequentialSymlog:M4,scaleSqrt:spe,scaleSymlog:_4,scaleThreshold:T4,scaleTime:Sme,scaleUtc:Tme,tickFormat:y4},Symbol.toStringTag,{value:"Module"}));var Ime=Vu;function Ome(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Ime(o):n(o,s)))var s=o,l=a}return l}var pv=Ome;function Cme(t,e){return t>e}var B4=Cme,Nme=pv,kme=B4,jme=Gu;function Rme(t){return t&&t.length?Nme(t,jme,kme):void 0}var Dme=Rme;const Ca=Fe(Dme);function Mme(t,e){return t<e}var U4=Mme,$me=pv,Lme=U4,Vme=Gu;function Fme(t){return t&&t.length?$me(t,Vme,Lme):void 0}var Bme=Fme;const mv=Fe(Bme);var Ume=zE,zme=ci,qme=QV,Wme=Ln;function Hme(t,e){var n=Wme(t)?Ume:qme;return n(t,zme(e))}var Kme=Hme,Gme=GV,Yme=Kme;function Qme(t,e){return Gme(Yme(t,e),1)}var Xme=Qme;const Jme=Fe(Xme);var Zme=iS;function ege(t,e){return Zme(t,e)}var tge=ege;const cu=Fe(tge);var Qu=1e9,nge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NS,at=!0,gr="[DecimalError] ",ts=gr+"Invalid argument: ",CS=gr+"Exponent out of range: ",Xu=Math.floor,Ro=Math.pow,rge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,$t=1e7,tt=7,z4=9007199254740991,dg=Xu(z4/tt),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};se.dividedBy=se.div=function(t){return Mi(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,n=e.constructor;return We(Mi(e,new n(t),0,1),n.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return At(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(zn)?new r(0):(at=!1,e=Mi(pf(n,a),pf(t,a),a),at=!0,We(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?H4(e,t):q4(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(at=!1,e=Mi(n,t,0,1).times(t),at=!0,n.minus(e)):We(new r(n),i)};se.naturalExponential=se.exp=function(){return W4(this)};se.naturalLogarithm=se.ln=function(){return pf(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q4(e,t):H4(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ts+t);if(e=At(i)+1,r=i.d.length-1,n=r*tt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};se.squareRoot=se.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(gr+"NaN")}for(t=At(s),at=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Hr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Mi(s,a,o+2)).times(.5),Hr(a.d).slice(0,o)===(e=Hr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(We(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return at=!0,We(r,n)};se.times=se.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=f.length,u=m.length,l<u&&(a=f,f=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*f[i-r-1]+e,a[i--]=s%$t|0,e=s/$t|0;a[i]=(a[i]+e)%$t|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,at?We(t,d.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ai(t,0,Qu),e===void 0?e=r.rounding:ai(e,0,8),We(n,t+At(n)+1,e))};se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xs(r,!0):(ai(t,0,Qu),e===void 0?e=i.rounding:ai(e,0,8),r=We(new i(r),t+1,e),n=xs(r,!0,t+1)),n};se.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?xs(i):(ai(t,0,Qu),e===void 0?e=a.rounding:ai(e,0,8),r=We(new a(i),t+At(i)+1,e),n=xs(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return We(new e(t),At(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(zn);if(s=new l(s),!s.s){if(t.s<1)throw Error(gr+"Infinity");return s}if(s.eq(zn))return s;if(r=l.precision,t.eq(zn))return We(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=z4){for(i=new l(zn),e=Math.ceil(r/tt+4),at=!1;n%2&&(i=i.times(s),CN(i.d,e)),n=Xu(n/2),n!==0;)s=s.times(s),CN(s.d,e);return at=!0,t.s<0?new l(zn).div(i):We(i,r)}}else if(a<0)throw Error(gr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,at=!1,i=t.times(pf(s,r+u)),at=!0,i=W4(i),i.s=a,i};se.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=At(i),r=xs(i,n<=a.toExpNeg||n>=a.toExpPos)):(ai(t,1,Qu),e===void 0?e=a.rounding:ai(e,0,8),i=We(new a(i),t,e),n=At(i),r=xs(i,t<=n||n<=a.toExpNeg,t)),r};se.toSignificantDigits=se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ai(t,1,Qu),e===void 0?e=r.rounding:ai(e,0,8)),We(new r(n),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return xs(t,e<=n.toExpNeg||e>=n.toExpPos)};function q4(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),at?We(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(d/tt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/$t|0,l[a]%=$t;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,at?We(e,d):e}function ai(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ts+t)}function Hr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=tt-r.length,n&&(a+=ga(n)),a+=r;o=t[e],r=o+"",n=tt-r.length,n&&(a+=ga(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Mi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%$t|0,o=a/$t|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*$t+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,d,f,m,g,y,v,E,_,x,P,S,A,T,b,O=r.constructor,C=r.s==i.s?1:-1,N=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(gr+"Division by zero");for(l=r.e-i.e,T=R.length,S=N.length,m=new O(C),g=m.d=[],u=0;R[u]==(N[u]||0);)++u;if(R[u]>(N[u]||0)&&--l,a==null?_=a=O.precision:o?_=a+(At(r)-At(i))+1:_=a,_<0)return new O(0);if(_=_/tt+2|0,u=0,T==1)for(c=0,R=R[0],_++;(u<S||c)&&_--;u++)x=c*$t+(N[u]||0),g[u]=x/R|0,c=x%R|0;else{for(c=$t/(R[0]+1)|0,c>1&&(R=t(R,c),N=t(N,c),T=R.length,S=N.length),P=T,y=N.slice(0,T),v=y.length;v<T;)y[v++]=0;b=R.slice(),b.unshift(0),A=R[0],R[1]>=$t/2&&++A;do c=0,s=e(R,y,T,v),s<0?(E=y[0],T!=v&&(E=E*$t+(y[1]||0)),c=E/A|0,c>1?(c>=$t&&(c=$t-1),d=t(R,c),f=d.length,v=y.length,s=e(d,y,f,v),s==1&&(c--,n(d,T<f?b:R,f))):(c==0&&(s=c=1),d=R.slice()),f=d.length,f<v&&d.unshift(0),n(y,d,v),s==-1&&(v=y.length,s=e(R,y,T,v),s<1&&(c++,n(y,T<v?b:R,v))),v=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[v++]=N[P]||0:(y=[N[P]],v=1);while((P++<S||y[0]!==void 0)&&_--)}return g[0]||g.shift(),m.e=l,We(m,o?a+At(m)+1:a)}}();function W4(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,d=c.precision;if(At(t)>16)throw Error(CS+At(t));if(!t.s)return new c(zn);for(e==null?(at=!1,s=d):s=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ro(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(zn),c.precision=s;;){if(i=We(i.times(t),s),n=n.times(++l),o=a.plus(Mi(i,n,s)),Hr(o.d).slice(0,s)===Hr(a.d).slice(0,s)){for(;u--;)a=We(a.times(a),s);return c.precision=d,e==null?(at=!0,We(a,d)):a}a=o}}function At(t){for(var e=t.e*tt,n=t.d[0];n>=10;n/=10)e++;return e}function cb(t,e,n){if(e>t.LN10.sd())throw at=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return We(new t(t.LN10),e)}function ga(t){for(var e="";t--;)e+="0";return e}function pf(t,e){var n,r,i,a,o,s,l,u,c,d=1,f=10,m=t,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(gr+(m.s?"NaN":"-Infinity"));if(m.eq(zn))return new y(0);if(e==null?(at=!1,u=v):u=e,m.eq(10))return e==null&&(at=!0),cb(y,u);if(u+=f,y.precision=u,n=Hr(g),r=n.charAt(0),a=At(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Hr(m.d),r=n.charAt(0),d++;a=At(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return l=cb(y,u+2,v).times(a+""),m=pf(new y(r+"."+n.slice(1)),u-f).plus(l),y.precision=v,e==null?(at=!0,We(m,v)):m;for(s=o=m=Mi(m.minus(zn),m.plus(zn),u),c=We(m.times(m),u),i=3;;){if(o=We(o.times(c),u),l=s.plus(Mi(o,new y(i),u)),Hr(l.d).slice(0,u)===Hr(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(cb(y,u+2,v).times(a+""))),s=Mi(s,new y(d),u),y.precision=v,e==null?(at=!0,We(s,v)):s;s=l,i+=2}}function ON(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Xu(n/tt),t.d=[],r=(n+1)%tt,n<0&&(r+=tt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tt;r<i;)t.d.push(+e.slice(r,r+=tt));e=e.slice(r),r=tt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),at&&(t.e>dg||t.e<-dg))throw Error(CS+n)}else t.s=0,t.e=0,t.d=[0];return t}function We(t,e,n){var r,i,a,o,s,l,u,c,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=tt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/tt),a=d.length,c>=a)return t;for(u=a=d[c],o=1;a>=10;a/=10)o++;r%=tt,i=r-tt+o}if(n!==void 0&&(a=Ro(10,o-i-1),s=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ro(10,o-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=At(t),d.length=1,e=e-a-1,d[0]=Ro(10,(tt-e%tt)%tt),t.e=Xu(-e/tt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Ro(10,tt-r),d[c]=i>0?(u/Ro(10,o-i)%Ro(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==$t&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=$t)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(at&&(t.e>dg||t.e<-dg))throw Error(CS+At(t));return t}function H4(t,e){var n,r,i,a,o,s,l,u,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),at?We(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/tt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=$t-1;--l[a],l[i]+=$t}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,at?We(e,m):e):new f(0)}function xs(t,e,n){var r,i=At(t),a=Hr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ga(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ga(-i-1)+a,n&&(r=n-o)>0&&(a+=ga(r))):i>=o?(a+=ga(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ga(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ga(r))),t.s<0?"-"+a:a}function CN(t,e){if(t.length>e)return t.length=e,!0}function K4(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ts+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return ON(o,a.toString())}else if(typeof a!="string")throw Error(ts+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,rge.test(a))ON(o,a);else throw Error(ts+a)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K4,i.config=i.set=ige,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ige(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,Qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Xu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ts+n+": "+r);return this}var NS=K4(nge);zn=new NS(1);const Ue=NS;function age(t){return uge(t)||lge(t)||sge(t)||oge()}function oge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sge(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function lge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uge(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cge=function(e){return e},G4={"@@functional/placeholder":!0},Y4=function(e){return e===G4},NN=function(e){return function n(){return arguments.length===0||arguments.length===1&&Y4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dge=function t(e,n){return e===1?n:NN(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==G4}).length;return o>=e?n.apply(void 0,i):t(e-o,NN(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return Y4(d)?l.shift():d});return n.apply(void 0,age(c).concat(l))}))})},gv=function(e){return dge(e.length,e)},$_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fge=gv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),hge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},L_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Q4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function pge(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function mge(t,e,n){for(var r=new Ue(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var gge=gv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yge=gv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vge=gv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const yv={rangeStep:mge,getDigitCount:pge,interpolateNumber:gge,uninterpolateNumber:yge,uninterpolateTruncation:vge};function V_(t){return _ge(t)||wge(t)||X4(t)||bge()}function bge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _ge(t){if(Array.isArray(t))return F_(t)}function mf(t,e){return Sge(t)||Ege(t,e)||X4(t,e)||xge()}function xge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ege(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Sge(t){if(Array.isArray(t))return t}function J4(t){var e=mf(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Z4(t,e,n){if(t.lte(0))return new Ue(0);var r=yv.getDigitCount(t.toNumber()),i=new Ue(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Ue(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Ue(Math.ceil(l))}function Tge(t,e,n){var r=1,i=new Ue(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ue(10).pow(yv.getDigitCount(t)-1),i=new Ue(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):n||(i=new Ue(Math.floor(t)));var o=Math.floor((e-1)/2),s=hge(fge(function(l){return i.add(new Ue(l-o).mul(r)).toNumber()}),$_);return s(0,e)}function eF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var a=Z4(new Ue(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Ue(0):(o=new Ue(t).add(e).div(2),o=o.sub(new Ue(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ue(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?eF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Ue(s).mul(a)),tickMax:o.add(new Ue(l).mul(a))})}function Age(t){var e=mf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=J4([n,r]),l=mf(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(V_($_(0,i-1).map(function(){return 1/0}))):[].concat(V_($_(0,i-1).map(function(){return-1/0})),[c]);return n>r?L_(d):d}if(u===c)return Tge(u,i,a);var f=eF(u,c,o,a),m=f.step,g=f.tickMin,y=f.tickMax,v=yv.rangeStep(g,y.add(new Ue(.1).mul(m)),m);return n>r?L_(v):v}function Pge(t,e){var n=mf(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=J4([r,i]),s=mf(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=Z4(new Ue(u).sub(l).div(c-1),a,0),f=[].concat(V_(yv.rangeStep(new Ue(l),new Ue(u).sub(new Ue(.99).mul(d)),d)),[u]);return r>i?L_(f):f}var Ige=Q4(Age),Oge=Q4(Pge),Cge="Invariant failed";function Es(t,e){throw new Error(Cge)}var Nge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function kge(t,e){return Mge(t)||Dge(t,e)||Rge(t,e)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(t,e){if(t){if(typeof t=="string")return kN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kN(t,e)}}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mge(t){if(Array.isArray(t))return t}function $ge(t,e){if(t==null)return{};var n=Lge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rF(r.key),r)}}function Bge(t,e,n){return e&&Fge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uge(t,e,n){return e=hg(e),zge(t,tF()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function zge(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qge(t)}function qge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function Wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function nF(t,e,n){return e=rF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t){var e=Hge(t,"string");return du(e)=="symbol"?e:e+""}function Hge(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vv=function(t){function e(){return Vge(this,e),Uge(this,e,arguments)}return Wge(e,t),Bge(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,f=$ge(r,Nge),m=ce(f,!1);this.props.direction==="x"&&c.type!=="number"&&Es();var g=l.map(function(y){var v=u(y,s),E=v.x,_=v.y,x=v.value,P=v.errorVal;if(!P)return null;var S=[],A,T;if(Array.isArray(P)){var b=kge(P,2);A=b[0],T=b[1]}else A=T=P;if(a==="vertical"){var O=c.scale,C=_+i,N=C+o,R=C-o,k=O(x-A),B=O(x+T);S.push({x1:B,y1:N,x2:B,y2:R}),S.push({x1:k,y1:C,x2:B,y2:C}),S.push({x1:k,y1:N,x2:k,y2:R})}else if(a==="horizontal"){var U=d.scale,H=E+i,K=H-o,V=H+o,q=U(x-A),Y=U(x+T);S.push({x1:K,y1:Y,x2:V,y2:Y}),S.push({x1:H,y1:q,x2:H,y2:Y}),S.push({x1:K,y1:q,x2:V,y2:q})}return D.createElement(Ce,fg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},m),S.map(function(re){return D.createElement("line",fg({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return D.createElement(Ce,{className:"recharts-errorBars"},g)}}])}(D.Component);nF(vv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nF(vv,"displayName","ErrorBar");function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){Kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kge(t,e,n){return e=Gge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=Yge(t,"string");return gf(e)=="symbol"?e:e+""}function Yge(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Un(n,Di);if(!o)return null;var s=Di.defaultProps,l=s!==void 0?So(So({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,d){var f=d.item,m=d.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,f=d.type.defaultProps,m=f!==void 0?So(So({},f),d.props):{},g=m.dataKey,y=m.name,v=m.legendType,E=m.hide;return{inactive:E,dataKey:g,type:l.iconType||v||"square",color:kS(d),value:y||g,payload:m}}),So(So(So({},l),Di.getWithHeight(o,i)),{},{payload:u,item:o})};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function RN(t){return Zge(t)||Jge(t)||Xge(t)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xge(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function Jge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zge(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){Ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ml(t,e,n){return e=eye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return yf(e)=="symbol"?e:e+""}function tye(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ct(t,e,n){return we(t)||we(e)?n:kt(e)?Gn(t,e,n):me(e)?e(t):n}function vd(t,e,n,r){var i=Jme(t,function(s){return Ct(s,e)});if(n==="number"){var a=i.filter(function(s){return Z(s)||parseFloat(s)});return a.length?[mv(a),Ca(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!we(s)}):i;return o.map(function(s){return kt(s)||s instanceof Date?s:""})}var nye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,f=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(bn(d-c)!==bn(f-d)){var g=[];if(bn(f-d)===bn(l[1]-l[0])){m=f;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var v=f+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var E=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>E[0]&&e<=E[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var _=Math.min(c,f),x=Math.max(c,f);if(e>(_+d)/2&&e<=(x+d)/2){o=i[u].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){o=r[P].index;break}return o},kS=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},rye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,d=Object.keys(c),f=0,m=d.length;f<m;f++){var g=c[d[f]],y=g.items,v=g.cateAxisId,E=y.filter(function(T){return Ri(T.type).indexOf("Bar")>=0});if(E&&E.length){var _=E[0].type.defaultProps,x=_!==void 0?vt(vt({},_),E[0].props):E[0].props,P=x.barSize,S=x[v];o[S]||(o[S]=[]);var A=we(P)?n:P;o[S].push({item:E[0],stackList:E.slice(1),barSize:we(A)?void 0:wn(A,r,0)})}}return o},iye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=wn(n,i,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=i/l,g=o.reduce(function(P,S){return P+S.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(f=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,v={offset:y-u,size:0};c=o.reduce(function(P,S){var A={item:S.item,position:{offset:v.offset+v.size+u,size:f?m:S.barSize}},T=[].concat(RN(P),[A]);return v=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(b){T.push({item:b,position:v})}),T},d)}else{var E=wn(r,i,0,!0);i-2*E-(l-1)*u<=0&&(u=0);var _=(i-2*E-(l-1)*u)/l;_>1&&(_>>=0);var x=s===+s?Math.min(_,s):_;c=o.reduce(function(P,S,A){var T=[].concat(RN(P),[{item:S.item,position:{offset:E+(_+u)*A+(_-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(b){T.push({item:b,position:T[T.length-1].position})}),T},d)}return c},aye=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=iF({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,f=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&Z(e[m]))return vt(vt({},e),{},Ml({},m,e[m]+(d||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&Z(e[g]))return vt(vt({},e),{},Ml({},g,e[g]+(f||0)))}return e},oye=function(e,n,r){return we(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},aF=function(e,n,r,i,a){var o=n.props.children,s=hr(o,vv).filter(function(u){return oye(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Ct(c,r);if(we(d))return u;var f=Array.isArray(d)?[mv(d),Ca(d)]:[d,d],m=l.reduce(function(g,y){var v=Ct(c,y,0),E=f[0]-Math.abs(Array.isArray(v)?v[0]:v),_=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(E,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},sye=function(e,n,r,i,a){var o=n.map(function(s){return aF(e,s,r,a,i)}).filter(function(s){return!we(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},oF=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&aF(e,l,u,i)||vd(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},sF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Ni=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?bn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return c.filter(function(d){return!qu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:a?a[d]:d,index:f,offset:u}})},db=new WeakMap,lp=function(e,n){if(typeof n!="function")return e;db.has(e)||db.set(e,new WeakMap);var r=db.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},uF=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:uf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:sg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yd(),realScaleType:"point"}:a==="category"?{scale:uf(),realScaleType:"band"}:{scale:sg(),realScaleType:"linear"};if(ah(i)){var l="scale".concat(tv(i));return{scale:(IN[l]||yd)(),realScaleType:IN[l]?l:"point"}}return me(i)?{scale:i}:{scale:yd(),realScaleType:"point"}},MN=1e-4,cF=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-MN,o=Math.max(i[0],i[1])+MN,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},lye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uye=function(e,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(a[0]=r),(!Z(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},cye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=qu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},dye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=qu(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},fye={sign:cye,expand:Nre,none:nu,silhouette:kre,wiggle:jre,positive:dye},hye=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=fye[r],o=Cre().keys(i).value(function(s,l){return+Ct(s,l,0)}).order(h_).offset(a);return o(e)},pye=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(d,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?vt(vt({},f.type.defaultProps),f.props):f.props,y=g.stackId,v=g.hide;if(v)return d;var E=g[r],_=d[E]||{hasStack:!1,stackGroups:{}};if(kt(y)){var x=_.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),_.hasStack=!0,_.stackGroups[y]=x}else _.stackGroups[Wu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return vt(vt({},d),{},Ml({},E,_))},l),c={};return Object.keys(u).reduce(function(d,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,v){var E=m.stackGroups[v];return vt(vt({},y),{},Ml({},v,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:hye(e,E.items,a)}))},g)}return vt(vt({},d),{},Ml({},f,m))},c)},dF=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Ige(u,a,s);return e.domain([mv(c),Ca(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),f=Oge(d,a,s);return{niceTicks:f}}return null};function $N(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!we(i[e.dataKey])){var s=Fm(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Ct(i,we(o)?e.dataKey:o);return we(l)?null:e.scale(l)}var LN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Ct(o,n.dataKey,n.domain[s]);return we(l)?null:n.scale(l)-a/2+i},mye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},gye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(kt(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},yye=function(e){return e.reduce(function(n,r){return[mv(r.concat([n[0]]).filter(Z)),Ca(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},fF=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var d=yye(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z_=function(e,n,r){if(me(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Z(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(VN.test(e[0])){var a=+VN.exec(e[0])[1];i[0]=n[0]-a}else me(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Z(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(FN.test(e[1])){var o=+FN.exec(e[1])[1];i[1]=n[1]+o}else me(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},pg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=oS(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},BN=function(e,n,r){return!e||!e.length||cu(e,Gn(r,"type.defaultProps.domain"))?n:e},hF=function(e,n){var r=e.type.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return vt(vt({},ce(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:kS(e),value:Ct(n,i),type:l,payload:n,chartType:u,hide:c})};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){pF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pF(t,e,n){return e=vye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=bye(t,"string");return vf(e)=="symbol"?e:e+""}function bye(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wye(t,e){return Sye(t)||Eye(t,e)||xye(t,e)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(t,e){if(t){if(typeof t=="string")return zN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(t,e)}}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Sye(t){if(Array.isArray(t))return t}var mg=Math.PI/180,Tye=function(e){return e*180/Math.PI},Qe=function(e,n,r,i){return{x:e+Math.cos(-mg*i)*r,y:n+Math.sin(-mg*i)*r}},mF=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Aye=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=wn(e.cx,o,o/2),d=wn(e.cy,s,s/2),f=mF(o,s,r),m=wn(e.innerRadius,f,0),g=wn(e.outerRadius,f,f*.8),y=Object.keys(n);return y.reduce(function(v,E){var _=n[E],x=_.domain,P=_.reversed,S;if(we(_.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[m,g]),P&&(S=[S[1],S[0]]);else{S=_.range;var A=S,T=wye(A,2);l=T[0],u=T[1]}var b=uF(_,a),O=b.realScaleType,C=b.scale;C.domain(x).range(S),cF(C);var N=dF(C,bi(bi({},_),{},{realScaleType:O})),R=bi(bi(bi({},_),N),{},{range:S,radius:g,realScaleType:O,scale:C,cx:c,cy:d,innerRadius:m,outerRadius:g,startAngle:l,endAngle:u});return bi(bi({},v),{},pF({},E,R))},{})},Pye=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Iye=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Pye({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Tye(u),angleInRadian:u}},Oye=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Cye=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},qN=function(e,n){var r=e.x,i=e.y,a=Iye({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Oye(n),d=c.startAngle,f=c.endAngle,m=s,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?bi(bi({},n),{},{radius:o,angle:Cye(m,n)}):null},gF=function(e){return!M.isValidElement(e)&&!me(e)&&typeof e!="boolean"?e.className:""};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var Nye=["offset"];function kye(t){return Mye(t)||Dye(t)||Rye(t)||jye()}function jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function Dye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mye(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ye(t,e){if(t==null)return{};var n=Lye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){Vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vye(t,e,n){return e=Fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fye(t){var e=Bye(t,"string");return bf(e)=="symbol"?e:e+""}function Bye(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}var Uye=function(e){var n=e.value,r=e.formatter,i=we(e.children)?n:e.children;return me(r)?r(i):i},zye=function(e,n){var r=bn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},qye=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,f=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,v=(d+f)/2,E=zye(m,g),_=E>=0?1:-1,x,P;i==="insideStart"?(x=m+_*o,P=y):i==="insideEnd"?(x=g-_*o,P=!y):i==="end"&&(x=g+_*o,P=y),P=E<=0?P:!P;var S=Qe(u,c,v,x),A=Qe(u,c,v,x+(P?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),b=we(e.id)?Wu("recharts-radial-line-"):e.id;return D.createElement("text",wf({},r,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:b,d:T})),D.createElement("textPath",{xlinkHref:"#".concat(b)},n))},Wye=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,f=(c+d)/2;if(i==="outside"){var m=Qe(o,s,u+r,f),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,E=Qe(o,s,v,f),_=E.x,x=E.y;return{x:_,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Hye=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,f=d*i,m=d>0?"end":"start",g=d>0?"start":"end",y=u>=0?1:-1,v=y*i,E=y>0?"end":"start",_=y>0?"start":"end";if(a==="top"){var x={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return It(It({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var P={x:s+u/2,y:l+c+f,textAnchor:"middle",verticalAnchor:g};return It(It({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var S={x:s-v,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return It(It({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(a==="right"){var A={x:s+u+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return It(It({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return a==="insideLeft"?It({x:s+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},T):a==="insideRight"?It({x:s+u-v,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},T):a==="insideTop"?It({x:s+u/2,y:l+f,textAnchor:"middle",verticalAnchor:g},T):a==="insideBottom"?It({x:s+u/2,y:l+c-f,textAnchor:"middle",verticalAnchor:m},T):a==="insideTopLeft"?It({x:s+v,y:l+f,textAnchor:_,verticalAnchor:g},T):a==="insideTopRight"?It({x:s+u-v,y:l+f,textAnchor:E,verticalAnchor:g},T):a==="insideBottomLeft"?It({x:s+v,y:l+c-f,textAnchor:_,verticalAnchor:m},T):a==="insideBottomRight"?It({x:s+u-v,y:l+c-f,textAnchor:E,verticalAnchor:m},T):Fu(a)&&(Z(a.x)||qo(a.x))&&(Z(a.y)||qo(a.y))?It({x:s+wn(a.x,u),y:l+wn(a.y,c),textAnchor:"end",verticalAnchor:"end"},T):It({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Kye=function(e){return"cx"in e&&Z(e.cx)};function Vt(t){var e=t.offset,n=e===void 0?5:e,r=$ye(t,Nye),i=It({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,f=i.textBreakAll;if(!a||we(s)&&we(l)&&!M.isValidElement(u)&&!me(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var m;if(me(u)){if(m=M.createElement(u,i),M.isValidElement(m))return m}else m=Uye(i);var g=Kye(a),y=ce(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return qye(i,m,y);var v=g?Wye(i):Hye(i);return D.createElement(_s,wf({className:xe("recharts-label",d)},y,v,{breakAll:f}),m)}Vt.displayName="Label";var yF=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,f=e.y,m=e.top,g=e.left,y=e.width,v=e.height,E=e.clockWise,_=e.labelViewBox;if(_)return _;if(Z(y)&&Z(v)){if(Z(d)&&Z(f))return{x:d,y:f,width:y,height:v};if(Z(m)&&Z(g))return{x:m,y:g,width:y,height:v}}return Z(d)&&Z(f)?{x:d,y:f,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:E}:e.viewBox?e.viewBox:{}},Gye=function(e,n){return e?e===!0?D.createElement(Vt,{key:"label-implicit",viewBox:n}):kt(e)?D.createElement(Vt,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===Vt?M.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(Vt,{key:"label-implicit",content:e,viewBox:n}):me(e)?D.createElement(Vt,{key:"label-implicit",content:e,viewBox:n}):Fu(e)?D.createElement(Vt,wf({viewBox:n},e,{key:"label-implicit"})):null:null},Yye=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=yF(e),o=hr(i,Vt).map(function(l,u){return M.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Gye(e.label,n||a);return[s].concat(kye(o))};Vt.parseViewBox=yF;Vt.renderCallByParent=Yye;function Qye(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Xye=Qye;const Jye=Fe(Xye);function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}var Zye=["valueAccessor"],eve=["data","dataKey","clockWise","id","textBreakAll"];function tve(t){return ave(t)||ive(t)||rve(t)||nve()}function nve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rve(t,e){if(t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function ive(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ave(t){if(Array.isArray(t))return W_(t)}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return e=sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sve(t){var e=lve(t,"string");return _f(e)=="symbol"?e:e+""}function lve(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GN(t,e){if(t==null)return{};var n=uve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cve=function(e){return Array.isArray(e.value)?Jye(e.value):e.value};function $i(t){var e=t.valueAccessor,n=e===void 0?cve:e,r=GN(t,Zye),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=GN(r,eve);return!i||!i.length?null:D.createElement(Ce,{className:"recharts-label-list"},i.map(function(c,d){var f=we(a)?n(c,d):Ct(c&&c.payload,a),m=we(s)?{}:{id:"".concat(s,"-").concat(d)};return D.createElement(Vt,gg({},ce(c,!0),u,m,{parentViewBox:c.parentViewBox,value:f,textBreakAll:l,viewBox:Vt.parseViewBox(we(o)?c:KN(KN({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}$i.displayName="LabelList";function dve(t,e){return t?t===!0?D.createElement($i,{key:"labelList-implicit",data:e}):D.isValidElement(t)||me(t)?D.createElement($i,{key:"labelList-implicit",data:e,content:t}):Fu(t)?D.createElement($i,gg({data:e},t,{key:"labelList-implicit"})):null:null}function fve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hr(r,$i).map(function(o,s){return M.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=dve(t.label,e);return[a].concat(tve(i))}$i.renderCallByParent=fve;function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return e=pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return xf(e)=="symbol"?e:e+""}function mve(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gve=function(e,n){var r=bn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},up=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/mg,f=u?a:a+o*d,m=Qe(n,r,c,f),g=Qe(n,r,i,f),y=u?a-o*d:a,v=Qe(n,r,c*Math.cos(d*mg),y);return{center:m,circleTangency:g,lineTangency:v,theta:d}},vF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=gve(o,s),u=o+l,c=Qe(n,r,a,o),d=Qe(n,r,a,u),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Qe(n,r,i,o),g=Qe(n,r,i,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},yve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=bn(c-u),f=up({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),m=f.circleTangency,g=f.lineTangency,y=f.theta,v=up({cx:n,cy:r,radius:a,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),E=v.circleTangency,_=v.lineTangency,x=v.theta,P=l?Math.abs(u-c):Math.abs(u-c)-y-x;if(P<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=up({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=A.circleTangency,b=A.lineTangency,O=A.theta,C=up({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=C.circleTangency,R=C.lineTangency,k=C.theta,B=l?Math.abs(u-c):Math.abs(u-c)-O-k;if(B<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},vve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bF=function(e){var n=QN(QN({},vve),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,f=n.className;if(o<a||c===d)return null;var m=xe("recharts-sector",f),g=o-a,y=wn(s,g,0,!0),v;return y>0&&Math.abs(c-d)<360?v=yve({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=vF({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}),D.createElement("path",H_({},ce(n,!0),{className:m,d:v,role:"img"}))};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=_ve(t,"string");return Ef(e)=="symbol"?e:e+""}function _ve(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZN={curveBasisClosed:bre,curveBasisOpen:wre,curveBasis:vre,curveBumpX:ire,curveBumpY:are,curveLinearClosed:_re,curveLinear:rv,curveMonotoneX:xre,curveMonotoneY:Ere,curveNatural:Sre,curveStep:Tre,curveStepAfter:Pre,curveStepBefore:Are},cp=function(e){return e.x===+e.x&&e.y===+e.y},Rc=function(e){return e.x},Dc=function(e){return e.y},xve=function(e,n){if(me(e))return e;var r="curve".concat(tv(e));return(r==="curveMonotone"||r==="curveBump")&&n?ZN["".concat(r).concat(n==="vertical"?"Y":"X")]:ZN[r]||rv},Eve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=xve(r,s),d=u?a.filter(function(y){return cp(y)}):a,f;if(Array.isArray(o)){var m=u?o.filter(function(y){return cp(y)}):o,g=d.map(function(y,v){return JN(JN({},y),{},{base:m[v]})});return s==="vertical"?f=ep().y(Dc).x1(Rc).x0(function(y){return y.base.x}):f=ep().x(Rc).y1(Dc).y0(function(y){return y.base.y}),f.defined(cp).curve(c),f(g)}return s==="vertical"&&Z(o)?f=ep().y(Dc).x1(Rc).x0(o):Z(o)?f=ep().x(Rc).y1(Dc).y0(o):f=hV().x(Rc).y(Dc),f.defined(cp).curve(c),f(d)},$l=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Eve(e):i;return D.createElement("path",K_({},ce(e,!1),Bm(e),{className:xe("recharts-curve",n),d:o,ref:a}))},wF={exports:{}},Sve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tve=Sve,Ave=Tve;function _F(){}function xF(){}xF.resetWarningCache=_F;var Pve=function(){function t(r,i,a,o,s,l){if(l!==Ave){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xF,resetWarningCache:_F};return n.PropTypes=n,n};wF.exports=Pve();var Ive=wF.exports;const _e=Fe(Ive);var Ove=Object.getOwnPropertyNames,Cve=Object.getOwnPropertySymbols,Nve=Object.prototype.hasOwnProperty;function ek(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function dp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function tk(t){return Ove(t).concat(Cve(t))}var EF=Object.hasOwn||function(t,e){return Nve.call(t,e)};function Ju(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var SF="_owner",nk=Object.getOwnPropertyDescriptor,rk=Object.keys;function kve(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jve(t,e){return Ju(t.getTime(),e.getTime())}function ik(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var d=o.value,f=d[0],m=d[1],g=s.value,y=g[0],v=g[1];!u&&!r[c]&&(u=n.equals(f,y,a,c,t,e,n)&&n.equals(m,v,f,y,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;a++}return!0}function Rve(t,e,n){var r=rk(t),i=r.length;if(rk(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===SF&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!EF(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function Mc(t,e,n){var r=tk(t),i=r.length;if(tk(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],a===SF&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!EF(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(o=nk(t,a),s=nk(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Dve(t,e){return Ju(t.valueOf(),e.valueOf())}function Mve(t,e){return t.source===e.source&&t.flags===e.flags}function ak(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,u=0;(o=s.next())&&!o.done;)!l&&!r[u]&&(l=n.equals(a.value,o.value,a.value,o.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function $ve(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Lve="[object Arguments]",Vve="[object Boolean]",Fve="[object Date]",Bve="[object Map]",Uve="[object Number]",zve="[object Object]",qve="[object RegExp]",Wve="[object Set]",Hve="[object String]",Kve=Array.isArray,ok=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,sk=Object.assign,Gve=Object.prototype.toString.call.bind(Object.prototype.toString);function Yve(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,d,f){if(c===d)return!0;if(c==null||d==null||typeof c!="object"||typeof d!="object")return c!==c&&d!==d;var m=c.constructor;if(m!==d.constructor)return!1;if(m===Object)return i(c,d,f);if(Kve(c))return e(c,d,f);if(ok!=null&&ok(c))return l(c,d,f);if(m===Date)return n(c,d,f);if(m===RegExp)return o(c,d,f);if(m===Map)return r(c,d,f);if(m===Set)return s(c,d,f);var g=Gve(c);return g===Fve?n(c,d,f):g===qve?o(c,d,f):g===Bve?r(c,d,f):g===Wve?s(c,d,f):g===zve?typeof c.then!="function"&&typeof d.then!="function"&&i(c,d,f):g===Lve?i(c,d,f):g===Vve||g===Uve||g===Hve?a(c,d,f):!1}}function Qve(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Mc:kve,areDatesEqual:jve,areMapsEqual:r?ek(ik,Mc):ik,areObjectsEqual:r?Mc:Rve,arePrimitiveWrappersEqual:Dve,areRegExpsEqual:Mve,areSetsEqual:r?ek(ak,Mc):ak,areTypedArraysEqual:r?Mc:$ve};if(n&&(i=sk({},i,n(i))),e){var a=dp(i.areArraysEqual),o=dp(i.areMapsEqual),s=dp(i.areObjectsEqual),l=dp(i.areSetsEqual);i=sk({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Xve(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Jve(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,f=d===void 0?e?new WeakMap:void 0:d,m=c.meta;return n(l,u,{cache:f,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Zve=yo();yo({strict:!0});yo({circular:!0});yo({circular:!0,strict:!0});yo({createInternalComparator:function(){return Ju}});yo({strict:!0,createInternalComparator:function(){return Ju}});yo({circular:!0,createInternalComparator:function(){return Ju}});yo({circular:!0,createInternalComparator:function(){return Ju},strict:!0});function yo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Qve(t),l=Yve(s),u=r?r(l):Xve(l);return Jve({circular:n,comparator:l,createState:i,equals:u,strict:o})}function e0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):e0e(i)};requestAnimationFrame(r)}function G_(t){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(t)}function t0e(t){return a0e(t)||i0e(t)||r0e(t)||n0e()}function n0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r0e(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a0e(t){if(Array.isArray(t))return t}function o0e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=t0e(o),l=s[0],u=s.slice(1);if(typeof l=="number"){lk(i.bind(null,u),l);return}i(l),lk(i.bind(null,u));return}G_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){TF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TF(t,e,n){return e=s0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s0e(t){var e=l0e(t,"string");return Sf(e)==="symbol"?e:String(e)}function l0e(t,e){if(Sf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u0e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},c0e=function(e){return e},d0e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bd=function(e,n){return Object.keys(n).reduce(function(r,i){return dk(dk({},r),{},TF({},i,e(i,n[i])))},{})},fk=function(e,n,r){return e.map(function(i){return"".concat(d0e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function f0e(t,e){return m0e(t)||p0e(t,e)||AF(t,e)||h0e()}function h0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function m0e(t){if(Array.isArray(t))return t}function g0e(t){return b0e(t)||v0e(t)||AF(t)||y0e()}function y0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AF(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function v0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b0e(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yg=1e-4,PF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},IF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hk=function(e,n){return function(r){var i=PF(e,n);return IF(i,r)}},w0e=function(e,n){return function(r){var i=PF(e,n),a=[].concat(g0e(i.map(function(o,s){return o*s}).slice(1)),[0]);return IF(a,r)}},pk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=f0e(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var d=hk(i,o),f=hk(a,s),m=w0e(i,o),g=function(E){return E>1?1:E<0?0:E},y=function(E){for(var _=E>1?1:E,x=_,P=0;P<8;++P){var S=d(x)-_,A=m(x);if(Math.abs(S-_)<yg||A<yg)return f(x);x=g(x-S/A)}return f(x)};return y.isStepper=!1,y},_0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,d,f){var m=-(c-d)*r,g=f*a,y=f+(m-g)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<yg&&Math.abs(y)<yg?[d,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},x0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pk(i);case"spring":return _0e();default:if(i.split("(")[0]==="cubic-bezier")return pk(i)}return typeof i=="function"?i:null};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function mk(t){return T0e(t)||S0e(t)||OF(t)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T0e(t){if(Array.isArray(t))return X_(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_(t,e,n){return e=A0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=P0e(t,"string");return Tf(e)==="symbol"?e:String(e)}function P0e(t,e){if(Tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0e(t,e){return N0e(t)||C0e(t,e)||OF(t,e)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function N0e(t){if(Array.isArray(t))return t}var vg=function(e,n,r){return e+(n-e)*r},J_=function(e){var n=e.from,r=e.to;return n!==r},k0e=function t(e,n,r){var i=bd(function(a,o){if(J_(o)){var s=e(o.from,o.to,o.velocity),l=I0e(s,2),u=l[0],c=l[1];return qt(qt({},o),{},{from:u,velocity:c})}return o},n);return r<1?bd(function(a,o){return J_(o)?qt(qt({},o),{},{velocity:vg(o.velocity,i[a].velocity,r),from:vg(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const j0e=function(t,e,n,r,i){var a=u0e(t,e),o=a.reduce(function(v,E){return qt(qt({},v),{},Q_({},E,[t[E],e[E]]))},{}),s=a.reduce(function(v,E){return qt(qt({},v),{},Q_({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,u,c,d=function(){return null},f=function(){return bd(function(E,_){return _.from},s)},m=function(){return!Object.values(s).filter(J_).length},g=function(E){u||(u=E);var _=E-u,x=_/n.dt;s=k0e(n,s,x),i(qt(qt(qt({},t),e),f())),u=E,m()||(l=requestAnimationFrame(d))},y=function(E){c||(c=E);var _=(E-c)/r,x=bd(function(S,A){return vg.apply(void 0,mk(A).concat([n(_)]))},o);if(i(qt(qt(qt({},t),e),x)),_<1)l=requestAnimationFrame(d);else{var P=bd(function(S,A){return vg.apply(void 0,mk(A).concat([n(1)]))},o);i(qt(qt(qt({},t),e),P))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var R0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function D0e(t,e){if(t==null)return{};var n=M0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fb(t){return F0e(t)||V0e(t)||L0e(t)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L0e(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function V0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F0e(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Qc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qc(t,e,n){return e=CF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CF(r.key),r)}}function z0e(t,e,n){return e&&U0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CF(t){var e=q0e(t,"string");return fu(e)==="symbol"?e:String(e)}function q0e(t,e){if(fu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function H0e(t){var e=K0e();return function(){var r=bg(t),i;if(e){var a=bg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return tx(this,i)}}function tx(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nx(t)}function nx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}var oi=function(t){W0e(n,t);var e=H0e(n);function n(r,i){var a;B0e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,f=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(nx(a)),a.changeStyle=a.changeStyle.bind(nx(a)),!s||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:c}),tx(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof f=="function")return a.state={style:u},tx(a);a.state={style:l?Qc({},l,u):u}}else a.state={style:{}};return a}return z0e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,f=this.state.style;if(s){if(!o){var m={style:l?Qc({},l,c):c};this.state&&f&&(l&&f[l]!==c||!l&&f!==c)&&this.setState(m);return}if(!(Zve(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?d:i.to;if(this.state&&f){var v={style:l?Qc({},l,y):y};(l&&f[l]!==y||!l&&f!==y)&&this.setState(v)}this.runAnimation(_r(_r({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,m=j0e(o,s,x0e(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([f,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,d=u.duration,f=d===void 0?0:d,m=function(y,v,E){if(E===0)return y;var _=v.duration,x=v.easing,P=x===void 0?"ease":x,S=v.style,A=v.properties,T=v.onAnimationEnd,b=E>0?o[E-1]:v,O=A||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(fb(y),[a.runJSAnimation.bind(a,{from:b.style,to:S,duration:_,easing:P}),_]);var C=fk(O,_,P),N=_r(_r(_r({},b.style),S),{},{transition:C});return[].concat(fb(y),[N,_,T]).filter(c0e)};return this.manager.start([l].concat(fb(o.reduce(m,[c,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=o0e());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var y=s?Qc({},s,l):l,v=fk(Object.keys(y),o,u);g.start([c,a,_r(_r({},y),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=D0e(i,R0e),u=M.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var d=function(m){var g=m.props,y=g.style,v=y===void 0?{}:y,E=g.className,_=M.cloneElement(m,_r(_r({},l),{},{style:_r(_r({},v),c),className:E}));return _};return u===1?d(M.Children.only(a)):D.createElement("div",null,M.Children.map(a,function(f){return d(f)}))}}]),n}(M.PureComponent);oi.displayName="Animate";oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oi.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};_e.object,_e.object,_e.object,_e.element;_e.object,_e.object,_e.object,_e.oneOfType([_e.array,_e.element]),_e.any;function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function G0e(t,e){return J0e(t)||X0e(t,e)||Q0e(t,e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(t,e){if(t){if(typeof t=="string")return vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(t,e)}}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function J0e(t){if(Array.isArray(t))return t}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){Z0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z0e(t,e,n){return e=ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ebe(t){var e=tbe(t,"string");return Af(e)=="symbol"?e:e+""}function tbe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _k=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>o?o:a[f];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},nbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(o,o+l),f=Math.max(o,o+l);return r>=u&&r<=c&&i>=d&&i<=f}return!1},rbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jS=function(e){var n=wk(wk({},rbe),e),r=M.useRef(),i=M.useState(-1),a=G0e(i,2),o=a[0],s=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,f=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,E=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var x=xe("recharts-rectangle",m);return _?D.createElement(oi,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:_},function(P){var S=P.width,A=P.height,T=P.x,b=P.y;return D.createElement(oi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:E,easing:g},D.createElement("path",wg({},ce(n,!0),{className:x,d:_k(T,b,S,A,f),ref:r})))}):D.createElement("path",wg({},ce(n,!0),{className:x,d:_k(l,u,c,d,f)}))},ibe=["points","className","baseLinePoints","connectNulls"];function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function abe(t,e){if(t==null)return{};var n=obe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function obe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xk(t){return cbe(t)||ube(t)||lbe(t)||sbe()}function sbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(t,e){if(t){if(typeof t=="string")return rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rx(t,e)}}function ube(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cbe(t){if(Array.isArray(t))return rx(t)}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ek=function(e){return e&&e.x===+e.x&&e.y===+e.y},dbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Ek(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ek(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wd=function(e,n){var r=dbe(e);n&&(r=[r.reduce(function(a,o){return[].concat(xk(a),xk(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},fbe=function(e,n,r){var i=wd(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(wd(n.reverse(),r).slice(1))},hbe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=abe(e,ibe);if(!n||!n.length)return null;var s=xe("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=fbe(n,i,a);return D.createElement("g",{className:s},D.createElement("path",bl({},ce(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?D.createElement("path",bl({},ce(o,!0),{fill:"none",d:wd(n,a)})):null,l?D.createElement("path",bl({},ce(o,!0),{fill:"none",d:wd(i,a)})):null)}var c=wd(n,a);return D.createElement("path",bl({},ce(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}var bv=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=xe("recharts-dot",a);return n===+n&&r===+r&&i===+i?D.createElement("circle",ix({},ce(e,!1),Bm(e),{className:o,cx:n,cy:r,r:i})):null};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var pbe=["x","y","top","left","width","height","className"];function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gbe(t,e,n){return e=ybe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ybe(t){var e=vbe(t,"string");return Pf(e)=="symbol"?e:e+""}function vbe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bbe(t,e){if(t==null)return{};var n=wbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _be=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},xbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,f=e.height,m=f===void 0?0:f,g=e.className,y=bbe(e,pbe),v=mbe({x:r,y:a,top:s,left:u,width:d,height:m},y);return!Z(r)||!Z(a)||!Z(d)||!Z(m)||!Z(s)||!Z(u)?null:D.createElement("path",ax({},ce(v,!0),{className:xe("recharts-cross",g),d:_be(r,a,d,m,s,u)}))},Ebe=pv,Sbe=B4,Tbe=ci;function Abe(t,e){return t&&t.length?Ebe(t,Tbe(e),Sbe):void 0}var Pbe=Abe;const Ibe=Fe(Pbe);var Obe=pv,Cbe=ci,Nbe=U4;function kbe(t,e){return t&&t.length?Obe(t,Cbe(e),Nbe):void 0}var jbe=kbe;const Rbe=Fe(jbe);var Dbe=["cx","cy","angle","ticks","axisLine"],Mbe=["ticks","tick","angle","tickFormatter","stroke"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ak(t,e){if(t==null)return{};var n=$be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kF(r.key),r)}}function Vbe(t,e,n){return e&&Pk(t.prototype,e),n&&Pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fbe(t,e,n){return e=_g(e),Bbe(t,NF()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function Bbe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ube(t)}function Ube(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function zbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function wv(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kF(t){var e=qbe(t,"string");return hu(e)=="symbol"?e:e+""}function qbe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _v=function(t){function e(){return Lbe(this,e),Fbe(this,e,arguments)}return zbe(e,t),Vbe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Qe(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Ibe(s,function(c){return c.coordinate||0}),u=Rbe(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=Ak(r,Dbe),c=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),d=Qe(i,a,c[0],o),f=Qe(i,a,c[1],o),m=To(To(To({},ce(u,!1)),{},{fill:"none"},ce(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return D.createElement("line",_d({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=Ak(i,Mbe),d=this.getTickTextAnchor(),f=ce(c,!1),m=ce(o,!1),g=a.map(function(y,v){var E=r.getTickValueCoord(y),_=To(To(To(To({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(E.x,", ").concat(E.y,")")},f),{},{stroke:"none",fill:u},m),{},{index:v},E),{},{payload:y});return D.createElement(Ce,_d({className:xe("recharts-polar-radius-axis-tick",gF(o)),key:"tick-".concat(y.coordinate)},ws(r.props,y,v)),e.renderTickItem(o,_,l?l(y.value,v):y.value))});return D.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:D.createElement(Ce,{className:xe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Vt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):me(r)?o=r(i):o=D.createElement(_s,_d({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(M.PureComponent);wv(_v,"displayName","PolarRadiusAxis");wv(_v,"axisType","radiusAxis");wv(_v,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ok(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function Hbe(t,e,n){return e&&Ok(t.prototype,e),n&&Ok(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kbe(t,e,n){return e=xg(e),Gbe(t,jF()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function Gbe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ybe(t)}function Ybe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function Qbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sx(t,e)}function xv(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=Xbe(t,"string");return pu(e)=="symbol"?e:e+""}function Xbe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jbe=Math.PI/180,Ck=1e-5,Ev=function(t){function e(){return Wbe(this,e),Kbe(this,e,arguments)}return Qbe(e,t),Hbe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Qe(a,o,s,r.coordinate),f=Qe(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Jbe),o;return a>Ck?o=i==="outer"?"start":"end":a<-Ck?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Ao(Ao({},ce(this.props,!1)),{},{fill:"none"},ce(s,!1));if(l==="circle")return D.createElement(bv,Vo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,d=c.map(function(f){return Qe(i,a,o,f.coordinate)});return D.createElement(hbe,Vo({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ce(this.props,!1),d=ce(o,!1),f=Ao(Ao({},c),{},{fill:"none"},ce(s,!1)),m=a.map(function(g,y){var v=r.getTickLineCoord(g),E=r.getTickTextAnchor(g),_=Ao(Ao(Ao({textAnchor:E},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:g,x:v.x2,y:v.y2});return D.createElement(Ce,Vo({className:xe("recharts-polar-angle-axis-tick",gF(o)),key:"tick-".concat(g.coordinate)},ws(r.props,g,y)),s&&D.createElement("line",Vo({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&e.renderTickItem(o,_,l?l(g.value,y):g.value))});return D.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:D.createElement(Ce,{className:xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):me(r)?o=r(i):o=D.createElement(_s,Vo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(M.PureComponent);xv(Ev,"displayName","PolarAngleAxis");xv(Ev,"axisType","angleAxis");xv(Ev,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Zbe=$V,ewe=Zbe(Object.getPrototypeOf,Object),twe=ewe,nwe=Ji,rwe=twe,iwe=Zi,awe="[object Object]",owe=Function.prototype,swe=Object.prototype,DF=owe.toString,lwe=swe.hasOwnProperty,uwe=DF.call(Object);function cwe(t){if(!iwe(t)||nwe(t)!=awe)return!1;var e=rwe(t);if(e===null)return!0;var n=lwe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&DF.call(n)==uwe}var dwe=cwe;const fwe=Fe(dwe);var hwe=Ji,pwe=Zi,mwe="[object Boolean]";function gwe(t){return t===!0||t===!1||pwe(t)&&hwe(t)==mwe}var ywe=gwe;const vwe=Fe(ywe);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function bwe(t,e){return Ewe(t)||xwe(t,e)||_we(t,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _we(t,e){if(t){if(typeof t=="string")return Nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nk(t,e)}}function Nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ewe(t){if(Array.isArray(t))return t}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Swe(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Awe(t,"string");return If(e)=="symbol"?e:e+""}function Awe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rk=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Pwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iwe=function(e){var n=jk(jk({},Pwe),e),r=M.useRef(),i=M.useState(-1),a=bwe(i,2),o=a[0],s=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var _=xe("recharts-trapezoid",m);return E?D.createElement(oi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:E},function(x){var P=x.upperWidth,S=x.lowerWidth,A=x.height,T=x.x,b=x.y;return D.createElement(oi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},D.createElement("path",Eg({},ce(n,!0),{className:_,d:Rk(T,b,P,S,A),ref:r})))}):D.createElement("g",null,D.createElement("path",Eg({},ce(n,!0),{className:_,d:Rk(l,u,c,d,f)})))},Owe=["option","shapeType","propTransformer","activeClassName","isActive"];function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Cwe(t,e){if(t==null)return{};var n=Nwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){kwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e,n){return e=jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jwe(t){var e=Rwe(t,"string");return Of(e)=="symbol"?e:e+""}function Rwe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dwe(t,e){return Sg(Sg({},e),t)}function Mwe(t,e){return t==="symbols"}function Mk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(jS,n);case"trapezoid":return D.createElement(Iwe,n);case"sector":return D.createElement(bF,n);case"symbols":if(Mwe(e))return D.createElement(JE,n);break;default:return null}}function $we(t){return M.isValidElement(t)?t.props:t}function MF(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Dwe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Cwe(t,Owe),u;if(M.isValidElement(e))u=M.cloneElement(e,Sg(Sg({},l),$we(e)));else if(me(e))u=e(l);else if(fwe(e)&&!vwe(e)){var c=i(e,l);u=D.createElement(Mk,{shapeType:n,elementProps:c})}else{var d=l;u=D.createElement(Mk,{shapeType:n,elementProps:d})}return s?D.createElement(Ce,{className:o},u):u}function Sv(t,e){return e!=null&&"trapezoids"in t.props}function Tv(t,e){return e!=null&&"sectors"in t.props}function Cf(t,e){return e!=null&&"points"in t.props}function Lwe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Vwe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Fwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Bwe(t,e){var n;return Sv(t,e)?n=Lwe:Tv(t,e)?n=Vwe:Cf(t,e)&&(n=Fwe),n}function Uwe(t,e){var n;return Sv(t,e)?n="trapezoids":Tv(t,e)?n="sectors":Cf(t,e)&&(n="points"),n}function zwe(t,e){if(Sv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Tv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Cf(t,e)?e.payload:{}}function qwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Uwe(n,e),a=zwe(n,e),o=r.filter(function(l,u){var c=cu(a,l),d=n.props[i].filter(function(g){var y=Bwe(n,e);return y(g,e)}),f=n.props[i].indexOf(d[d.length-1]),m=u===f;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var zp;function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LF(r.key),r)}}function Hwe(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kwe(t,e,n){return e=Tg(e),Gwe(t,$F()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function Gwe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ywe(t)}function Ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function Qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function ar(t,e,n){return e=LF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LF(t){var e=Xwe(t,"string");return mu(e)=="symbol"?e:e+""}function Xwe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var di=function(t){function e(n){var r;return Wwe(this,e),r=Kwe(this,e,[n]),ar(r,"pieRef",null),ar(r,"sectorRefs",[]),ar(r,"id",Wu("recharts-pie-")),ar(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),me(i)&&i()}),ar(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),me(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Qwe(e,t),Hwe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=ce(this.props,!1),d=ce(o,!1),f=ce(s,!1),m=o&&o.offsetRadius||20,g=r.map(function(y,v){var E=(y.startAngle+y.endAngle)/2,_=Qe(y.cx,y.cy,y.outerRadius+m,E),x=Ke(Ke(Ke(Ke({},c),y),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(_.x,y.cx)},_),P=Ke(Ke(Ke(Ke({},c),y),{},{fill:"none",stroke:y.fill},f),{},{index:v,points:[Qe(y.cx,y.cy,y.outerRadius,E),_]}),S=l;return we(l)&&we(u)?S="value":we(l)&&(S=u),D.createElement(Ce,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,P,"line"),e.renderLabelItem(o,x,Ct(y,S)))});return D.createElement(Ce,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var d=i.isActiveIndex(c),f=l&&i.hasActiveIndex()?l:null,m=d?o:f,g=Ke(Ke({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return D.createElement(Ce,wl({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ws(i.props,u,c),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(c)}),D.createElement(MF,wl({option:m,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,f=d.prevSectors,m=d.prevIsAnimationActive;return D.createElement(oi,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],E=a&&a[0],_=E.startAngle;return a.forEach(function(x,P){var S=f&&f[P],A=P>0?Gn(x,"paddingAngle",0):0;if(S){var T=Cn(S.endAngle-S.startAngle,x.endAngle-x.startAngle),b=Ke(Ke({},x),{},{startAngle:_+A,endAngle:_+T(y)+A});v.push(b),_=b.endAngle}else{var O=x.endAngle,C=x.startAngle,N=Cn(0,O-C),R=N(y),k=Ke(Ke({},x),{},{startAngle:_+A,endAngle:_+R+A});v.push(k),_=k.endAngle}}),D.createElement(Ce,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!cu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Z(u)||!Z(c)||!Z(d)||!Z(f))return null;var y=xe("recharts-pie",s);return D.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:y,ref:function(E){r.pieRef=E}},this.renderSectors(),l&&this.renderLabels(o),Vt.renderCallByParent(this.props,null,!1),(!m||g)&&$i.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(D.isValidElement(r))return D.cloneElement(r,i);if(me(r))return r(i);var o=xe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return D.createElement($l,wl({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(D.isValidElement(r))return D.cloneElement(r,i);var o=a;if(me(r)&&(o=r(i),D.isValidElement(o)))return o;var s=xe("recharts-pie-label-text",typeof r!="boolean"&&!me(r)?r.className:"");return D.createElement(_s,wl({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(M.PureComponent);zp=di;ar(di,"displayName","Pie");ar(di,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Jr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ar(di,"parseDeltaAngle",function(t,e){var n=bn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ar(di,"getRealPieData",function(t){var e=t.data,n=t.children,r=ce(t,!1),i=hr(n,sh);return e&&e.length?e.map(function(a,o){return Ke(Ke(Ke({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ke(Ke({},r),a.props)}):[]});ar(di,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=mF(i,a),s=r+wn(t.cx,i,i/2),l=n+wn(t.cy,a,a/2),u=wn(t.innerRadius,o,0),c=wn(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});ar(di,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ke(Ke({},e.type.defaultProps),e.props):e.props,i=zp.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,f=r.tooltipType,m=Math.abs(r.minAngle),g=zp.parseCoordinateOfPie(r,n),y=zp.parseDeltaAngle(o,s),v=Math.abs(y),E=u;we(u)&&we(d)?(Nr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):we(u)&&(Nr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=d);var _=i.filter(function(b){return Ct(b,E,0)!==0}).length,x=(v>=360?_:_-1)*l,P=v-_*m-x,S=i.reduce(function(b,O){var C=Ct(O,E,0);return b+(Z(C)?C:0)},0),A;if(S>0){var T;A=i.map(function(b,O){var C=Ct(b,E,0),N=Ct(b,c,O),R=(Z(C)?C:0)/S,k;O?k=T.endAngle+bn(y)*l*(C!==0?1:0):k=o;var B=k+bn(y)*((C!==0?m:0)+R*P),U=(k+B)/2,H=(g.innerRadius+g.outerRadius)/2,K=[{name:N,value:C,payload:b,dataKey:E,type:f}],V=Qe(g.cx,g.cy,H,U);return T=Ke(Ke(Ke({percent:R,cornerRadius:a,name:N,tooltipPayload:K,midAngle:U,middleRadius:H,tooltipPosition:V},b),g),{},{value:Ct(b,E),startAngle:k,endAngle:B,payload:b,paddingAngle:bn(y)*l}),T})}return Ke(Ke({},g),{},{sectors:A,data:i})});var Jwe=Math.ceil,Zwe=Math.max;function e_e(t,e,n,r){for(var i=-1,a=Zwe(Jwe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var t_e=e_e,n_e=n4,Vk=1/0,r_e=17976931348623157e292;function i_e(t){if(!t)return t===0?t:0;if(t=n_e(t),t===Vk||t===-Vk){var e=t<0?-1:1;return e*r_e}return t===t?t:0}var VF=i_e,a_e=t_e,o_e=sv,hb=VF;function s_e(t){return function(e,n,r){return r&&typeof r!="number"&&o_e(e,n,r)&&(n=r=void 0),e=hb(e),n===void 0?(n=e,e=0):n=hb(n),r=r===void 0?e<n?1:-1:hb(r),a_e(e,n,r,t)}}var l_e=s_e,u_e=l_e,c_e=u_e(),d_e=c_e;const Ag=Fe(d_e);function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){FF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FF(t,e,n){return e=f_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f_e(t){var e=h_e(t,"string");return Nf(e)=="symbol"?e:e+""}function h_e(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p_e=["Webkit","Moz","O","ms"],m_e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=p_e.reduce(function(a,o){return Bk(Bk({},a),{},FF({},o+r,n))},{});return i[e]=n,i};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UF(r.key),r)}}function y_e(t,e,n){return e&&zk(t.prototype,e),n&&zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_e(t,e,n){return e=Ig(e),b_e(t,BF()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function b_e(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(t)}function w_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BF=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function __e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ux(t,e)}function Fn(t,e,n){return e=UF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UF(t){var e=x_e(t,"string");return gu(e)=="symbol"?e:e+""}function x_e(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=yd().domain(Ag(0,l)).range([a,a+o-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},qk=function(e){return e.changedTouches&&!!e.changedTouches.length},yu=function(t){function e(n){var r;return g_e(this,e),r=v_e(this,e,[n]),Fn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Fn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Fn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Fn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Fn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Fn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Fn(r,"handleSlideDragStart",function(i){var a=qk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return __e(e,t),y_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,a),f=Math.max(i,a),m=e.getIndexInRange(o,d),g=e.getIndexInRange(o,f);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Ct(a[r],s,r);return me(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,f=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+c-d-s,u+c-d-o):y<0&&(y=Math.max(y,u-o,u-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==f||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=qk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,d=c.x,f=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,v=c.data,E={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,d+f-m-u):_<0&&(_=Math.max(_,d-u)),E[o]=u+_;var x=this.getIndex(E),P=x.startIndex,S=x.endIndex,A=function(){var b=v.length-1;return o==="startX"&&(s>l?P%y===0:S%y===0)||s<l&&S===b||o==="endX"&&(s>l?S%y===0:P%y===0)||s>l&&S===b};this.setState(Fn(Fn({},o,u+_),"brushMoveStartX",r.pageX),function(){g&&A()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var f=d+r;if(!(f===-1||f>=s.length)){var m=s[f];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Fn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=M.Children.only(u);return d?D.cloneElement(d,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,f=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,E=Math.max(r,this.props.x),_=pb(pb({},ce(this.props,!1)),{},{x:E,y:u,width:c,height:d}),x=m||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return D.createElement(Ce,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,f=c.endX,m=5,g={pointerEvents:"none",fill:u};return D.createElement(Ce,{className:"recharts-brush-texts"},D.createElement(_s,Pg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-m,y:o+s/2},g),this.getTextOfTick(i)),D.createElement(_s,Pg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,y=f.isTextActive,v=f.isSlideMoving,E=f.isTravellerMoving,_=f.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(u)||!Z(c)||u<=0||c<=0)return null;var x=xe("recharts-brush",a),P=D.Children.count(o)===1,S=m_e("userSelect","none");return D.createElement(Ce,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||E||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):me(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return pb({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?E_e({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(M.PureComponent);Fn(yu,"displayName","Brush");Fn(yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var S_e=aS;function T_e(t,e){var n;return S_e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var A_e=T_e,P_e=OV,I_e=ci,O_e=A_e,C_e=Ln,N_e=sv;function k_e(t,e,n){var r=C_e(t)?P_e:O_e;return n&&N_e(t,e,n)&&(e=void 0),r(t,I_e(e))}var j_e=k_e;const R_e=Fe(j_e);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Wk=XV;function D_e(t,e,n){e=="__proto__"&&Wk?Wk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var M_e=D_e,$_e=M_e,L_e=YV,V_e=ci;function F_e(t,e){var n={};return e=V_e(e),L_e(t,function(r,i,a){$_e(n,i,e(r,i,a))}),n}var B_e=F_e;const U_e=Fe(B_e);function z_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var q_e=z_e,W_e=aS;function H_e(t,e){var n=!0;return W_e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var K_e=H_e,G_e=q_e,Y_e=K_e,Q_e=ci,X_e=Ln,J_e=sv;function Z_e(t,e,n){var r=X_e(t)?G_e:Y_e;return n&&J_e(t,e,n)&&(e=void 0),r(t,Q_e(e))}var exe=Z_e;const zF=Fe(exe);var txe=["x","y"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e,n){return e=rxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rxe(t){var e=ixe(t,"string");return kf(e)=="symbol"?e:e+""}function ixe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function axe(t,e){if(t==null)return{};var n=oxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sxe(t,e){var n=t.x,r=t.y,i=axe(t,txe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return $c($c($c($c($c({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function Kk(t){return D.createElement(MF,cx({shapeType:"rectangle",propTransformer:sxe,activeClassName:"recharts-active-bar"},t))}var lxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Es(),n)}},uxe=["value","background"],qF;function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function cxe(t,e){if(t==null)return{};var n=dxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HF(r.key),r)}}function hxe(t,e,n){return e&&Yk(t.prototype,e),n&&Yk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pxe(t,e,n){return e=Cg(e),mxe(t,WF()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function mxe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gxe(t)}function gxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function yxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function Na(t,e,n){return e=HF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HF(t){var e=vxe(t,"string");return vu(e)=="symbol"?e:e+""}function vxe(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var to=function(t){function e(){var n;fxe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pxe(this,e,[].concat(i)),Na(n,"state",{isAnimationFinished:!1}),Na(n,"id",Wu("recharts-bar-")),Na(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Na(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return yxe(e,t),hxe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=ce(this.props,!1);return r&&r.map(function(d,f){var m=f===l,g=m?u:o,y=St(St(St({},c),d),{},{isActive:m,option:g,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(Ce,Og({className:"recharts-bar-rectangle"},ws(i.props,d,f),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value)}),D.createElement(Kk,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevData;return D.createElement(oi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=a.map(function(v,E){var _=f&&f[E];if(_){var x=Cn(_.x,v.x),P=Cn(_.y,v.y),S=Cn(_.width,v.width),A=Cn(_.height,v.height);return St(St({},v),{},{x:x(g),y:P(g),width:S(g),height:A(g)})}if(o==="horizontal"){var T=Cn(0,v.height),b=T(g);return St(St({},v),{},{y:v.y+v.height-b,height:b})}var O=Cn(0,v.width),C=O(g);return St(St({},v),{},{width:C})});return D.createElement(Ce,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!cu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ce(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,f=cxe(u,uxe);if(!d)return null;var m=St(St(St(St(St({},f),{},{fill:"#eee"},d),l),ws(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(Kk,Og({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=hr(c,vv);if(!d)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,E){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Ct(v,E)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(Ce,g,d.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,f=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,E=xe("recharts-bar",o),_=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,P=_||x,S=we(y)?this.id:y;return D.createElement(Ce,{className:E},_||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:_?u:u-d/2,y:x?c:c-f/2,width:_?d:d*2,height:x?f:f*2}))):null,D.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!m||v)&&$i.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);qF=to;Na(to,"displayName","Bar");Na(to,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Na(to,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,f=t.offset,m=lye(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,v=y!==void 0?St(St({},y),n.props):n.props,E=v.dataKey,_=v.children,x=v.minPointSize,P=g==="horizontal"?o:a,S=u?P.scale.domain():null,A=mye({numericAxis:P}),T=hr(_,sh),b=d.map(function(O,C){var N,R,k,B,U,H;u?N=uye(u[c+C],S):(N=Ct(O,E),Array.isArray(N)||(N=[A,N]));var K=lxe(x,qF.defaultProps.minPointSize)(N[1],C);if(g==="horizontal"){var V,q=[o.scale(N[0]),o.scale(N[1])],Y=q[0],re=q[1];R=LN({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:O,index:C}),k=(V=re??Y)!==null&&V!==void 0?V:void 0,B=m.size;var Q=Y-re;if(U=Number.isNaN(Q)?0:Q,H={x:R,y:o.y,width:B,height:o.height},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var ae=bn(U||K)*(Math.abs(K)-Math.abs(U));k-=ae,U+=ae}}else{var Ie=[a.scale(N[0]),a.scale(N[1])],De=Ie[0],st=Ie[1];if(R=De,k=LN({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:O,index:C}),B=st-De,U=m.size,H={x:a.x,y:k,width:a.width,height:U},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var Ut=bn(B||K)*(Math.abs(K)-Math.abs(B));B+=Ut}}return St(St(St({},O),{},{x:R,y:k,width:B,height:U,value:u?N:N[1],payload:O,background:H},T&&T[C]&&T[C].props),{},{tooltipPayload:[hF(n,O)],tooltipPosition:{x:R+B/2,y:k+U/2}})});return St({data:b,layout:g},f)});function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function bxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KF(r.key),r)}}function wxe(t,e,n){return e&&Qk(t.prototype,e),n&&Qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){Av(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Av(t,e,n){return e=KF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KF(t){var e=_xe(t,"string");return jf(e)=="symbol"?e:e+""}function _xe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GF=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!Un(u,to);return c.reduce(function(m,g){var y=n[g],v=y.orientation,E=y.domain,_=y.padding,x=_===void 0?{}:_,P=y.mirror,S=y.reversed,A="".concat(v).concat(P?"Mirror":""),T,b,O,C,N;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=E[1]-E[0],k=1/0,B=y.categoricalDomain.sort();if(B.forEach(function(Ie,De){De>0&&(k=Math.min((Ie||0)-(B[De-1]||0),k))}),Number.isFinite(k)){var U=k/R,H=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(T=U*H/2),y.padding==="no-gap"){var K=wn(e.barCategoryGap,U*H),V=U*H/2;T=V-K-(V-K)/H*K}}}i==="xAxis"?b=[r.left+(x.left||0)+(T||0),r.left+r.width-(x.right||0)-(T||0)]:i==="yAxis"?b=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(T||0),r.top+r.height-(x.bottom||0)-(T||0)]:b=y.range,S&&(b=[b[1],b[0]]);var q=uF(y,a,f),Y=q.scale,re=q.realScaleType;Y.domain(E).range(b),cF(Y);var Q=dF(Y,Tr(Tr({},y),{},{realScaleType:re}));i==="xAxis"?(N=v==="top"&&!P||v==="bottom"&&P,O=r.left,C=d[A]-N*y.height):i==="yAxis"&&(N=v==="left"&&!P||v==="right"&&P,O=d[A]-N*y.width,C=r.top);var ae=Tr(Tr(Tr({},y),Q),{},{realScaleType:re,x:O,y:C,scale:Y,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ae.bandSize=pg(ae,Q),!y.hide&&i==="xAxis"?d[A]+=(N?-1:1)*ae.height:y.hide||(d[A]+=(N?-1:1)*ae.width),Tr(Tr({},m),{},Av({},g,ae))},{})},YF=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},xxe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return YF({x:n,y:r},{x:i,y:a})},QF=function(){function t(e){bxe(this,t),this.scale=e}return wxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Av(QF,"EPS",1e-4);var RS=function(e){var n=Object.keys(e).reduce(function(r,i){return Tr(Tr({},r),{},Av({},i,QF.create(e[i])))},{});return Tr(Tr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return U_e(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return zF(i,function(a,o){return n[o].isInRange(a)})}})};function Exe(t){return(t%180+180)%180}var Sxe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Exe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Txe=ci,Axe=oh,Pxe=av;function Ixe(t){return function(e,n,r){var i=Object(e);if(!Axe(e)){var a=Txe(n);e=Pxe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Oxe=Ixe,Cxe=VF;function Nxe(t){var e=Cxe(t),n=e%1;return e===e?n?e-n:e:0}var kxe=Nxe,jxe=zV,Rxe=ci,Dxe=kxe,Mxe=Math.max;function $xe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Dxe(n);return i<0&&(i=Mxe(r+i,0)),jxe(t,Rxe(e),i)}var Lxe=$xe,Vxe=Oxe,Fxe=Lxe,Bxe=Vxe(Fxe),Uxe=Bxe;const zxe=Fe(Uxe);var qxe=Yee(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),DS=M.createContext(void 0),MS=M.createContext(void 0),XF=M.createContext(void 0),JF=M.createContext({}),ZF=M.createContext(void 0),e3=M.createContext(0),t3=M.createContext(0),Jk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=qxe(a);return D.createElement(DS.Provider,{value:r},D.createElement(MS.Provider,{value:i},D.createElement(JF.Provider,{value:a},D.createElement(XF.Provider,{value:c},D.createElement(ZF.Provider,{value:o},D.createElement(e3.Provider,{value:u},D.createElement(t3.Provider,{value:l},s)))))))},Wxe=function(){return M.useContext(ZF)},n3=function(e){var n=M.useContext(DS);n==null&&Es();var r=n[e];return r==null&&Es(),r},Hxe=function(){var e=M.useContext(DS);return Ta(e)},Kxe=function(){var e=M.useContext(MS),n=zxe(e,function(r){return zF(r.domain,Number.isFinite)});return n||Ta(e)},r3=function(e){var n=M.useContext(MS);n==null&&Es();var r=n[e];return r==null&&Es(),r},Gxe=function(){var e=M.useContext(XF);return e},Yxe=function(){return M.useContext(JF)},$S=function(){return M.useContext(t3)},LS=function(){return M.useContext(e3)};function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a3(r.key),r)}}function Jxe(t,e,n){return e&&Xxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zxe(t,e,n){return e=Ng(e),e1e(t,i3()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function e1e(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t1e(t)}function t1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function n1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fx(t,e)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ej(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){VS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VS(t,e,n){return e=a3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){var e=r1e(t,"string");return bu(e)=="symbol"?e:e+""}function r1e(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i1e(t,e){return l1e(t)||s1e(t,e)||o1e(t,e)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1e(t,e){if(t){if(typeof t=="string")return tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function l1e(t){if(Array.isArray(t))return t}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}var u1e=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):me(e)?r=e(n):r=D.createElement("line",hx({},n,{className:"recharts-reference-line-line"})),r},c1e=function(e,n,r,i,a,o,s,l,u){var c=a.x,d=a.y,f=a.width,m=a.height;if(r){var g=u.y,y=e.y.apply(g,{position:o});if(ei(u,"discard")&&!e.y.isInRange(y))return null;var v=[{x:c+f,y},{x:c,y}];return l==="left"?v.reverse():v}if(n){var E=u.x,_=e.x.apply(E,{position:o});if(ei(u,"discard")&&!e.x.isInRange(_))return null;var x=[{x:_,y:d+m},{x:_,y:d}];return s==="top"?x.reverse():x}if(i){var P=u.segment,S=P.map(function(A){return e.apply(A,{position:o})});return ei(u,"discard")&&R_e(S,function(A){return!e.isInRange(A)})?null:S}return null};function d1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Wxe(),c=n3(i),d=r3(a),f=Gxe();if(!u||!f)return null;Nr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=RS({x:c.scale,y:d.scale}),g=kt(e),y=kt(n),v=r&&r.length===2,E=c1e(m,g,y,v,f,t.position,c.orientation,d.orientation,t);if(!E)return null;var _=i1e(E,2),x=_[0],P=x.x,S=x.y,A=_[1],T=A.x,b=A.y,O=ei(t,"hidden")?"url(#".concat(u,")"):void 0,C=ej(ej({clipPath:O},ce(t,!0)),{},{x1:P,y1:S,x2:T,y2:b});return D.createElement(Ce,{className:xe("recharts-reference-line",s)},u1e(o,C),Vt.renderCallByParent(t,xxe({x1:P,y1:S,x2:T,y2:b})))}var FS=function(t){function e(){return Qxe(this,e),Zxe(this,e,arguments)}return n1e(e,t),Jxe(e,[{key:"render",value:function(){return D.createElement(d1e,this.props)}}])}(D.Component);VS(FS,"displayName","ReferenceLine");VS(FS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s3(r.key),r)}}function p1e(t,e,n){return e&&h1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m1e(t,e,n){return e=kg(e),g1e(t,o3()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function g1e(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(t)}function y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function v1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mx(t,e)}function Pv(t,e,n){return e=s3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s3(t){var e=b1e(t,"string");return wu(e)=="symbol"?e:e+""}function b1e(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w1e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=RS({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!o.isInRange(s)?null:s},Iv=function(t){function e(){return f1e(this,e),m1e(this,e,arguments)}return v1e(e,t),p1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=kt(i),c=kt(a);if(Nr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=w1e(this.props);if(!d)return null;var f=d.x,m=d.y,g=this.props,y=g.shape,v=g.className,E=ei(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=rj(rj({clipPath:E},ce(this.props,!0)),{},{cx:f,cy:m});return D.createElement(Ce,{className:xe("recharts-reference-dot",v)},e.renderDot(y,_),Vt.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(D.Component);Pv(Iv,"displayName","ReferenceDot");Pv(Iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pv(Iv,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):me(t)?n=t(e):n=D.createElement(bv,px({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){Ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u3(r.key),r)}}function E1e(t,e,n){return e&&x1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S1e(t,e,n){return e=jg(e),T1e(t,l3()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function T1e(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(t)}function A1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function P1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yx(t,e)}function Ov(t,e,n){return e=u3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u3(t){var e=I1e(t,"string");return _u(e)=="symbol"?e:e+""}function I1e(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O1e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var f=RS({x:c.scale,y:d.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ei(a,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:YF(m,g)},Cv=function(t){function e(){return _1e(this,e),S1e(this,e,arguments)}return P1e(e,t),E1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Nr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=kt(i),f=kt(a),m=kt(o),g=kt(s),y=this.props.shape;if(!d&&!f&&!m&&!g&&!y)return null;var v=O1e(d,f,m,g,this.props);if(!v&&!y)return null;var E=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(Ce,{className:xe("recharts-reference-area",l)},e.renderRect(y,aj(aj({clipPath:E},ce(this.props,!0)),v)),Vt.renderCallByParent(this.props,v))}}])}(D.Component);Ov(Cv,"displayName","ReferenceArea");Ov(Cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ov(Cv,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):me(t)?n=t(e):n=D.createElement(jS,gx({},e,{className:"recharts-reference-area-rect"})),n});function c3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function C1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Sxe(r,n)}function N1e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Rg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function k1e(t,e){return c3(t,e+1)}function j1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,d=function(){var g=r?.[l];if(g===void 0)return{v:c3(r,u)};var y=l,v,E=function(){return v===void 0&&(v=n(g,y)),v},_=g.coordinate,x=l===0||Rg(t,_,E,c,s);x||(l=0,c=o,u+=1),x&&(c=_+t*(E()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){R1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R1e(t,e,n){return e=D1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1e(t){var e=M1e(t,"string");return Rf(e)=="symbol"?e:e+""}function M1e(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(f){var m=a[f],g,y=function(){return g===void 0&&(g=n(m,f)),g};if(f===o-1){var v=t*(m.coordinate+t*y()/2-l);a[f]=m=sn(sn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else a[f]=m=sn(sn({},m),{},{tickCoord:m.coordinate});var E=Rg(t,m.tickCoord,y,s,l);E&&(l=m.tickCoord-t*(y()/2+i),a[f]=sn(sn({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function L1e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],d=n(c,s-1),f=t*(c.coordinate+t*d/2-u);o[s-1]=c=sn(sn({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var m=Rg(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),o[s-1]=sn(sn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(_){var x=o[_],P,S=function(){return P===void 0&&(P=n(x,_)),P};if(_===0){var A=t*(x.coordinate-t*S()/2-l);o[_]=x=sn(sn({},x),{},{tickCoord:A<0?x.coordinate-A*t:x.coordinate})}else o[_]=x=sn(sn({},x),{},{tickCoord:x.coordinate});var T=Rg(t,x.tickCoord,S,l,u);T&&(l=x.tickCoord+t*(S()/2+i),o[_]=sn(sn({},x),{},{isShow:!0}))},v=0;v<g;v++)y(v);return o}function BS(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Z(l)||Jr.isSsr)return k1e(i,typeof l=="number"&&Z(l)?l:0);var f=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?gd(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(x,P){var S=me(u)?u(x.value,P):x.value;return m==="width"?C1e(gd(S,{fontSize:e,letterSpacing:n}),g,d):gd(S,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?bn(i[1].coordinate-i[0].coordinate):1,E=N1e(a,v,m);return l==="equidistantPreserveStart"?j1e(v,E,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=L1e(v,E,y,i,o,l==="preserveStartEnd"):f=$1e(v,E,y,i,o),f.filter(function(_){return _.isShow}))}var V1e=["viewBox"],F1e=["viewBox"],B1e=["ticks"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){US(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e){if(t==null)return{};var n=U1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f3(r.key),r)}}function q1e(t,e,n){return e&&lj(t.prototype,e),n&&lj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W1e(t,e,n){return e=Dg(e),H1e(t,d3()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function H1e(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1e(t)}function K1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d3=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function G1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(t,e)}function US(t,e,n){return e=f3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f3(t){var e=Y1e(t,"string");return xu(e)=="symbol"?e:e+""}function Y1e(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu=function(t){function e(n){var r;return z1e(this,e),r=W1e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return G1e(e,t),q1e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=mb(r,V1e),s=this.props,l=s.viewBox,u=mb(s,F1e);return!Rl(a,l)||!Rl(o,u)||!Rl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,f=i.tickMargin,m,g,y,v,E,_,x=d?-1:1,P=r.tickSize||c,S=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,v=o+ +!d*l,y=v-x*P,_=y-x*f,E=S;break;case"left":y=v=r.coordinate,g=a+ +!d*s,m=g-x*P,E=m-x*f,_=S;break;case"right":y=v=r.coordinate,g=a+ +d*s,m=g+x*P,E=m+x*f,_=S;break;default:m=g=r.coordinate,v=o+ +d*l,y=v+x*P,_=y+x*f,E=S;break}return{line:{x1:m,y1:y,x2:g,y2:v},tick:{x:E,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=mn(mn(mn({},ce(this.props,!1)),ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=mn(mn({},d),{},{x1:i,y1:a+f*s,x2:i+o,y2:a+f*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=mn(mn({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return D.createElement("line",_l({},d,{className:xe("recharts-cartesian-axis-line",Gn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,f=s.unit,m=BS(mn(mn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ce(this.props,!1),E=ce(c,!1),_=mn(mn({},v),{},{fill:"none"},ce(l,!1)),x=m.map(function(P,S){var A=o.getTickLineCoord(P),T=A.line,b=A.tick,O=mn(mn(mn(mn({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},E),b),{},{index:S,payload:P,visibleTicksCount:m.length,tickFormatter:d});return D.createElement(Ce,_l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},ws(o.props,P,S)),l&&D.createElement("line",_l({},_,T,{className:xe("recharts-cartesian-axis-tick-line",Gn(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(me(d)?d(P.value,S):P.value).concat(f||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,f=d.ticks,m=mb(d,B1e),g=f;return me(l)&&(g=f&&f.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:D.createElement(Ce,{className:xe("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Vt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):me(r)?o=r(i):o=D.createElement(_s,_l({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(M.Component);US(Zu,"displayName","CartesianAxis");US(Zu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Q1e=["x1","y1","x2","y2","key"],X1e=["offset"];function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=eEe(t,"string");return Ss(e)=="symbol"?e:e+""}function eEe(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function cj(t,e){if(t==null)return{};var n=tEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nEe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function h3(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(me(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=cj(e,Q1e),u=ce(l,!1);u.offset;var c=cj(u,X1e);n=D.createElement("line",Ko({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function rEe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=un(un({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return h3(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function iEe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=un(un({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return h3(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function aEe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==c[0]&&c.unshift(0);var d=c.map(function(f,m){var g=!c[m+1],y=g?i+o-f:c[m+1]-f;if(y<=0)return null;var v=m%e.length;return D.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function oEe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==c[0]&&c.unshift(0);var d=c.map(function(f,m){var g=!c[m+1],y=g?a+s-f:c[m+1]-f;if(y<=0)return null;var v=m%r.length;return D.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var sEe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return lF(BS(un(un(un({},Zu.defaultProps),r),{},{ticks:Ni(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},lEe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return lF(BS(un(un(un({},Zu.defaultProps),r),{},{ticks:Ni(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Zs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mg(t){var e,n,r,i,a,o,s=$S(),l=LS(),u=Yxe(),c=un(un({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Zs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Zs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Zs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Zs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Zs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Zs.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),d=c.x,f=c.y,m=c.width,g=c.height,y=c.syncWithTicks,v=c.horizontalValues,E=c.verticalValues,_=Hxe(),x=Kxe();if(!Z(m)||m<=0||!Z(g)||g<=0||!Z(d)||d!==+d||!Z(f)||f!==+f)return null;var P=c.verticalCoordinatesGenerator||sEe,S=c.horizontalCoordinatesGenerator||lEe,A=c.horizontalPoints,T=c.verticalPoints;if((!A||!A.length)&&me(S)){var b=v&&v.length,O=S({yAxis:x?un(un({},x),{},{ticks:b?v:x.ticks}):void 0,width:s,height:l,offset:u},b?!0:y);Nr(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ss(O),"]")),Array.isArray(O)&&(A=O)}if((!T||!T.length)&&me(P)){var C=E&&E.length,N=P({xAxis:_?un(un({},_),{},{ticks:C?E:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);Nr(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ss(N),"]")),Array.isArray(N)&&(T=N)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(nEe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(rEe,Ko({},c,{offset:u,horizontalPoints:A,xAxis:_,yAxis:x})),D.createElement(iEe,Ko({},c,{offset:u,verticalPoints:T,xAxis:_,yAxis:x})),D.createElement(aEe,Ko({},c,{horizontalPoints:A})),D.createElement(oEe,Ko({},c,{verticalPoints:T})))}Mg.displayName="CartesianGrid";var uEe=["layout","type","stroke","connectNulls","isRange","ref"],cEe=["key"],p3;function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function m3(t,e){if(t==null)return{};var n=dEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Go.apply(this,arguments)}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y3(r.key),r)}}function hEe(t,e,n){return e&&fj(t.prototype,e),n&&fj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pEe(t,e,n){return e=$g(e),mEe(t,g3()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function mEe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gEe(t)}function gEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function yEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function Kr(t,e,n){return e=y3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y3(t){var e=vEe(t,"string");return Eu(e)=="symbol"?e:e+""}function vEe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ta=function(t){function e(){var n;fEe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pEe(this,e,[].concat(i)),Kr(n,"state",{isAnimationFinished:!0}),Kr(n,"id",Wu("recharts-area-")),Kr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),me(o)&&o()}),Kr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),me(o)&&o()}),n}return yEe(e,t),hEe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,f=ce(this.props,!1),m=ce(u,!0),g=c.map(function(v,E){var _=ha(ha(ha({key:"dot-".concat(E),r:3},f),m),{},{index:E,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,_)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(Ce,Go({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,c=r*Math.abs(l-u),d=Ca(o.map(function(f){return f.y||0}));return Z(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Ca(a.map(function(f){return f.y||0})),d)),Z(d)?D.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,c=r*Math.abs(l-u),d=Ca(o.map(function(f){return f.x||0}));return Z(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Ca(a.map(function(f){return f.x||0})),d)),Z(d)?D.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,f=s.isRange;s.ref;var m=m3(s,uEe);return D.createElement(Ce,{clipPath:a?"url(#clipPath-".concat(o,")"):null},D.createElement($l,Go({},ce(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&D.createElement($l,Go({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&f&&D.createElement($l,Go({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,c=o.animationBegin,d=o.animationDuration,f=o.animationEasing,m=o.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return D.createElement(oi,{begin:c,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var _=E.t;if(y){var x=y.length/s.length,P=s.map(function(b,O){var C=Math.floor(O*x);if(y[C]){var N=y[C],R=Cn(N.x,b.x),k=Cn(N.y,b.y);return ha(ha({},b),{},{x:R(_),y:k(_)})}return b}),S;if(Z(l)&&typeof l=="number"){var A=Cn(v,l);S=A(_)}else if(we(l)||qu(l)){var T=Cn(v,0);S=T(_)}else S=l.map(function(b,O){var C=Math.floor(O*x);if(v[C]){var N=v[C],R=Cn(N.x,b.x),k=Cn(N.y,b.y);return ha(ha({},b),{},{x:R(_),y:k(_)})}return b});return a.renderAreaStatically(P,S,r,i)}return D.createElement(Ce,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(_))),D.createElement(Ce,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return l&&o&&o.length&&(!c&&f>0||!cu(c,o)||!cu(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,f=i.yAxis,m=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var E=this.state.isAnimationFinished,_=s.length===1,x=xe("recharts-area",l),P=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,A=P||S,T=we(v)?this.id:v,b=(r=ce(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=b.r,C=O===void 0?3:O,N=b.strokeWidth,R=N===void 0?2:N,k=tne(o)?o:{},B=k.clipDot,U=B===void 0?!0:B,H=C*2+R;return D.createElement(Ce,{className:x},P||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:P?c:c-m/2,y:S?u:u-g/2,width:P?m:m*2,height:S?g:g*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(T)},D.createElement("rect",{x:c-H/2,y:u-H/2,width:m+H,height:g+H}))):null,_?null:this.renderArea(A,T),(o||_)&&this.renderDots(A,U,T),(!y||E)&&$i.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(M.PureComponent);p3=ta;Kr(ta,"displayName","Area");Kr(ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Jr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Kr(ta,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Z(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Kr(ta,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,f=t.offset,m=e.layout,g=u&&u.length,y=p3.getBaseValue(e,n,r,i),v=m==="horizontal",E=!1,_=d.map(function(P,S){var A;g?A=u[c+S]:(A=Ct(P,l),Array.isArray(A)?E=!0:A=[y,A]);var T=A[1]==null||g&&Ct(P,l)==null;return v?{x:$N({axis:r,ticks:a,bandSize:s,entry:P,index:S}),y:T?null:i.scale(A[1]),value:A,payload:P}:{x:T?null:r.scale(A[1]),y:$N({axis:i,ticks:o,bandSize:s,entry:P,index:S}),value:A,payload:P}}),x;return g||E?x=_.map(function(P){var S=Array.isArray(P.value)?P.value[0]:null;return v?{x:P.x,y:S!=null&&P.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:P.y}}):x=v?i.scale(y):r.scale(y),ha({points:_,baseLine:x,layout:m,isRange:E},f)});Kr(ta,"renderDotItem",function(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(me(t))n=t(e);else{var r=xe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=m3(e,cEe);n=D.createElement(bv,Go({},a,{key:i,className:r}))}return n});function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function bEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w3(r.key),r)}}function _Ee(t,e,n){return e&&wEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xEe(t,e,n){return e=Lg(e),EEe(t,v3()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function EEe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(t)}function SEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}function TEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wx(t,e)}function b3(t,e,n){return e=w3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w3(t){var e=AEe(t,"string");return Su(e)=="symbol"?e:e+""}function AEe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function PEe(t){var e=t.xAxisId,n=$S(),r=LS(),i=n3(e);return i==null?null:D.createElement(Zu,_x({},i,{className:xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ni(o,!0)}}))}var Ts=function(t){function e(){return bEe(this,e),xEe(this,e,arguments)}return TEe(e,t),_Ee(e,[{key:"render",value:function(){return D.createElement(PEe,this.props)}}])}(D.Component);b3(Ts,"displayName","XAxis");b3(Ts,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function IEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E3(r.key),r)}}function CEe(t,e,n){return e&&OEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NEe(t,e,n){return e=Vg(e),kEe(t,_3()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function kEe(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jEe(t)}function jEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function REe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}function xx(t,e){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xx(t,e)}function x3(t,e,n){return e=E3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E3(t){var e=DEe(t,"string");return Tu(e)=="symbol"?e:e+""}function DEe(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}var MEe=function(e){var n=e.yAxisId,r=$S(),i=LS(),a=r3(n);return a==null?null:D.createElement(Zu,Ex({},a,{className:xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ni(s,!0)}}))},As=function(t){function e(){return IEe(this,e),NEe(this,e,arguments)}return REe(e,t),CEe(e,[{key:"render",value:function(){return D.createElement(MEe,this.props)}}])}(D.Component);x3(As,"displayName","YAxis");x3(As,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hj(t){return FEe(t)||VEe(t)||LEe(t)||$Ee()}function $Ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LEe(t,e){if(t){if(typeof t=="string")return Sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sx(t,e)}}function VEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FEe(t){if(Array.isArray(t))return Sx(t)}function Sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tx=function(e,n,r,i,a){var o=hr(e,FS),s=hr(e,Iv),l=[].concat(hj(o),hj(s)),u=hr(e,Cv),c="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(y,v){if(v.props[c]===r&&ei(v.props,"extendDomain")&&Z(v.props[d])){var E=v.props[d];return[Math.min(y[0],E),Math.max(y[1],E)]}return y},f)),u.length){var m="".concat(d,"1"),g="".concat(d,"2");f=u.reduce(function(y,v){if(v.props[c]===r&&ei(v.props,"extendDomain")&&Z(v.props[m])&&Z(v.props[g])){var E=v.props[m],_=v.props[g];return[Math.min(y[0],E,_),Math.max(y[1],E,_)]}return y},f)}return a&&a.length&&(f=a.reduce(function(y,v){return Z(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},f)),f},S3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,f),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,m=d.length,g=new Array(m);f<m;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var v=this._events[y],E=arguments.length,_,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,m),!0;case 6:return v.fn.call(v.context,c,d,f,m,g),!0}for(x=1,_=new Array(E-1);x<E;x++)_[x-1]=arguments[x];v.fn.apply(v.context,_)}else{var P=v.length,S;for(x=0;x<P;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),E){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,d);break;case 4:v[x].fn.call(v[x].context,c,d,f);break;default:if(!_)for(S=1,_=new Array(E-1);S<E;S++)_[S-1]=arguments[S];v[x].fn.apply(v[x].context,_)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!f||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var y=0,v=[],E=g.length;y<E;y++)(g[y].fn!==c||f&&!g[y].once||d&&g[y].context!==d)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(S3);var BEe=S3.exports;const UEe=Fe(BEe);var gb=new UEe,yb="recharts.syncMouseEvents";function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function zEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T3(r.key),r)}}function WEe(t,e,n){return e&&qEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vb(t,e,n){return e=T3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T3(t){var e=HEe(t,"string");return Df(e)=="symbol"?e:e+""}function HEe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KEe=function(){function t(){zEe(this,t),vb(this,"activeIndex",0),vb(this,"coordinateList",[]),vb(this,"layout","horizontal")}return WEe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,f=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function GEe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function YEe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function A3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Qe(e,n,r,i),s=Qe(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function QEe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,f=Qe(s,l,u,d),m=Qe(s,l,c,d);r=f.x,i=f.y,a=m.x,o=m.y}else return A3(e);return[{x:r,y:i},{x:a,y:o}]}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return e=JEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JEe(t){var e=ZEe(t,"string");return Mf(e)=="symbol"?e:e+""}function ZEe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var g,y=$l;if(f==="ScatterChart")g=o,y=xbe;else if(f==="BarChart")g=YEe(d,o,l,c),y=jS;else if(d==="radial"){var v=A3(o),E=v.cx,_=v.cy,x=v.radius,P=v.startAngle,S=v.endAngle;g={cx:E,cy:_,startAngle:P,endAngle:S,innerRadius:x,outerRadius:x},y=bF}else g={points:QEe(d,o,l)},y=$l;var A=fp(fp(fp(fp({stroke:"#ccc",pointerEvents:"none"},l),g),ce(m,!1)),{},{payload:s,payloadIndex:u,className:xe("recharts-tooltip-cursor",m.className)});return M.isValidElement(m)?M.cloneElement(m,A):M.createElement(y,A)}var tSe=["item"],nSe=["children","className","width","height","style","compact","title","desc"];function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}function mj(t,e){return aSe(t)||iSe(t,e)||I3(t,e)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function aSe(t){if(Array.isArray(t))return t}function gj(t,e){if(t==null)return{};var n=oSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O3(r.key),r)}}function uSe(t,e,n){return e&&lSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cSe(t,e,n){return e=Fg(e),dSe(t,P3()?Reflect.construct(e,n||[],Fg(t).constructor):e.apply(t,n))}function dSe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fSe(t)}function fSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}function hSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ax(t,e)}function Pu(t){return gSe(t)||mSe(t)||I3(t)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3(t,e){if(t){if(typeof t=="string")return Px(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(t,e)}}function mSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gSe(t){if(Array.isArray(t))return Px(t)}function Px(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=O3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O3(t){var e=ySe(t,"string");return Au(e)=="symbol"?e:e+""}function ySe(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vSe={xAxis:["bottom","top"],yAxis:["left","right"]},bSe={width:"100%",height:"100%"},C3={x:0,y:0};function hp(t){return t}var wSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},_Se=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return z(z(z({},i),Qe(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return z(z(z({},i),Qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return C3},Nv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Pu(s),Pu(u)):s},[]);return o.length>0?o:e&&e.length&&Z(i)&&Z(a)?e.slice(i,a+1):[]};function N3(t){return t==="number"?[0,"auto"]:void 0}var Ix=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Nv(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;f=Fm(m,o.dataKey,i)}else f=d&&d[r]||s[r];return f?[].concat(Pu(l),[hF(u,f)]):l},[])},vj=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=wSe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=nye(o,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,f=Ix(e,n,c,d),m=_Se(r,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:f,activeCoordinate:m}}return null},xSe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,f=e.stackOffset,m=sF(c,a);return r.reduce(function(g,y){var v,E=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,_=E.type,x=E.dataKey,P=E.allowDataOverflow,S=E.allowDuplicatedCategory,A=E.scale,T=E.ticks,b=E.includeHidden,O=E[o];if(g[O])return g;var C=Nv(e.data,{graphicalItems:i.filter(function(Q){var ae,Ie=o in Q.props?Q.props[o]:(ae=Q.type.defaultProps)===null||ae===void 0?void 0:ae[o];return Ie===O}),dataStartIndex:l,dataEndIndex:u}),N=C.length,R,k,B;GEe(E.domain,P,_)&&(R=z_(E.domain,null,P),m&&(_==="number"||A!=="auto")&&(B=vd(C,x,"category")));var U=N3(_);if(!R||R.length===0){var H,K=(H=E.domain)!==null&&H!==void 0?H:U;if(x){if(R=vd(C,x,_),_==="category"&&m){var V=Hte(R);S&&V?(k=R,R=Ag(0,N)):S||(R=BN(K,R,y).reduce(function(Q,ae){return Q.indexOf(ae)>=0?Q:[].concat(Pu(Q),[ae])},[]))}else if(_==="category")S?R=R.filter(function(Q){return Q!==""&&!we(Q)}):R=BN(K,R,y).reduce(function(Q,ae){return Q.indexOf(ae)>=0||ae===""||we(ae)?Q:[].concat(Pu(Q),[ae])},[]);else if(_==="number"){var q=sye(C,i.filter(function(Q){var ae,Ie,De=o in Q.props?Q.props[o]:(ae=Q.type.defaultProps)===null||ae===void 0?void 0:ae[o],st="hide"in Q.props?Q.props.hide:(Ie=Q.type.defaultProps)===null||Ie===void 0?void 0:Ie.hide;return De===O&&(b||!st)}),x,a,c);q&&(R=q)}m&&(_==="number"||A!=="auto")&&(B=vd(C,x,"category"))}else m?R=Ag(0,N):s&&s[O]&&s[O].hasStack&&_==="number"?R=f==="expand"?[0,1]:fF(s[O].stackGroups,l,u):R=oF(C,i.filter(function(Q){var ae=o in Q.props?Q.props[o]:Q.type.defaultProps[o],Ie="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ae===O&&(b||!Ie)}),_,c,!0);if(_==="number")R=Tx(d,R,O,a,T),K&&(R=z_(K,R,P));else if(_==="category"&&K){var Y=K,re=R.every(function(Q){return Y.indexOf(Q)>=0});re&&(R=Y)}}return z(z({},g),{},fe({},O,z(z({},E),{},{axisType:a,domain:R,categoricalDomain:B,duplicateDomain:k,originalDomain:(v=E.domain)!==null&&v!==void 0?v:U,isCategorical:m,layout:c})))},{})},ESe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,f=Nv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=f.length,g=sF(c,a),y=-1;return r.reduce(function(v,E){var _=E.type.defaultProps!==void 0?z(z({},E.type.defaultProps),E.props):E.props,x=_[o],P=N3("number");if(!v[x]){y++;var S;return g?S=Ag(0,m):s&&s[x]&&s[x].hasStack?(S=fF(s[x].stackGroups,l,u),S=Tx(d,S,x,a)):(S=z_(P,oF(f,r.filter(function(A){var T,b,O=o in A.props?A.props[o]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[o],C="hide"in A.props?A.props.hide:(b=A.type.defaultProps)===null||b===void 0?void 0:b.hide;return O===x&&!C}),"number",c),i.defaultProps.allowDataOverflow),S=Tx(d,S,x,a)),z(z({},v),{},fe({},x,z(z({axisType:a},i.defaultProps),{},{hide:!0,orientation:Gn(vSe,"".concat(a,".").concat(y%2),null),domain:S,originalDomain:P,isCategorical:g,layout:c})))}return v},{})},SSe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),f=hr(c,a),m={};return f&&f.length?m=xSe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=ESe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},TSe=function(e){var n=Ta(e),r=Ni(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:oS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:pg(n,r)}},bj=function(e){var n=e.children,r=e.defaultShowTooltip,i=Un(n,yu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ASe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ri(n&&n.type);return r&&r.indexOf("Bar")>=0})},wj=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PSe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,f=r.margin||{},m=Un(d,yu),g=Un(d,Di),y=Object.keys(l).reduce(function(S,A){var T=l[A],b=T.orientation;return!T.mirror&&!T.hide?z(z({},S),{},fe({},b,S[b]+T.width)):S},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(S,A){var T=o[A],b=T.orientation;return!T.mirror&&!T.hide?z(z({},S),{},fe({},b,Gn(S,"".concat(b))+T.height)):S},{top:f.top||0,bottom:f.bottom||0}),E=z(z({},v),y),_=E.bottom;m&&(E.bottom+=m.props.height||yu.defaultProps.height),g&&n&&(E=aye(E,i,r,n));var x=u-E.left-E.right,P=c-E.top-E.bottom;return z(z({brushBottom:_},E),{},{width:Math.max(x,0),height:Math.max(P,0)})},ISe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},zS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,f=function(E,_){var x=_.graphicalItems,P=_.stackGroups,S=_.offset,A=_.updateId,T=_.dataStartIndex,b=_.dataEndIndex,O=E.barSize,C=E.layout,N=E.barGap,R=E.barCategoryGap,k=E.maxBarSize,B=wj(C),U=B.numericAxisName,H=B.cateAxisName,K=ASe(x),V=[];return x.forEach(function(q,Y){var re=Nv(E.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:b}),Q=q.type.defaultProps!==void 0?z(z({},q.type.defaultProps),q.props):q.props,ae=Q.dataKey,Ie=Q.maxBarSize,De=Q["".concat(U,"Id")],st=Q["".concat(H,"Id")],Ut={},Jt=l.reduce(function(Lr,hi){var vo=_["".concat(hi.axisType,"Map")],Fs=Q["".concat(hi.axisType,"Id")];vo&&vo[Fs]||hi.axisType==="zAxis"||Es();var ec=vo[Fs];return z(z({},Lr),{},fe(fe({},hi.axisType,ec),"".concat(hi.axisType,"Ticks"),Ni(ec)))},Ut),ie=Jt[H],ge=Jt["".concat(H,"Ticks")],ve=P&&P[De]&&P[De].hasStack&&gye(q,P[De].stackGroups),G=Ri(q.type).indexOf("Bar")>=0,He=pg(ie,ge),Se=[],lt=K&&rye({barSize:O,stackGroups:P,totalSize:ISe(Jt,H)});if(G){var mt,Zt,$r=we(Ie)?k:Ie,fi=(mt=(Zt=pg(ie,ge,!0))!==null&&Zt!==void 0?Zt:$r)!==null&&mt!==void 0?mt:0;Se=iye({barGap:N,barCategoryGap:R,bandSize:fi!==He?fi:He,sizeList:lt[st],maxBarSize:$r}),fi!==He&&(Se=Se.map(function(Lr){return z(z({},Lr),{},{position:z(z({},Lr.position),{},{offset:Lr.position.offset-fi/2})})}))}var na=q&&q.type&&q.type.getComposedData;na&&V.push({props:z(z({},na(z(z({},Jt),{},{displayedData:re,props:E,dataKey:ae,item:q,bandSize:He,barPosition:Se,offset:S,stackedData:ve,layout:C,dataStartIndex:T,dataEndIndex:b}))),{},fe(fe(fe({key:q.key||"item-".concat(Y)},U,Jt[U]),H,Jt[H]),"animationId",A)),childIndex:ine(q,E.children),item:q})}),V},m=function(E,_){var x=E.props,P=E.dataStartIndex,S=E.dataEndIndex,A=E.updateId;if(!RO({props:x}))return null;var T=x.children,b=x.layout,O=x.stackOffset,C=x.data,N=x.reverseStackOrder,R=wj(b),k=R.numericAxisName,B=R.cateAxisName,U=hr(T,r),H=pye(C,U,"".concat(k,"Id"),"".concat(B,"Id"),O,N),K=l.reduce(function(Q,ae){var Ie="".concat(ae.axisType,"Map");return z(z({},Q),{},fe({},Ie,SSe(x,z(z({},ae),{},{graphicalItems:U,stackGroups:ae.axisType===k&&H,dataStartIndex:P,dataEndIndex:S}))))},{}),V=PSe(z(z({},K),{},{props:x,graphicalItems:U}),_?.legendBBox);Object.keys(K).forEach(function(Q){K[Q]=c(x,K[Q],V,Q.replace("Map",""),n)});var q=K["".concat(B,"Map")],Y=TSe(q),re=f(x,z(z({},K),{},{dataStartIndex:P,dataEndIndex:S,updateId:A,graphicalItems:U,stackGroups:H,offset:V}));return z(z({formattedGraphicalItems:re,graphicalItems:U,offset:V,stackGroups:H},Y),K)},g=function(v){function E(_){var x,P,S;return sSe(this,E),S=cSe(this,E,[_]),fe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(S,"accessibilityManager",new KEe),fe(S,"handleLegendBBoxUpdate",function(A){if(A){var T=S.state,b=T.dataStartIndex,O=T.dataEndIndex,C=T.updateId;S.setState(z({legendBBox:A},m({props:S.props,dataStartIndex:b,dataEndIndex:O,updateId:C},z(z({},S.state),{},{legendBBox:A}))))}}),fe(S,"handleReceiveSyncEvent",function(A,T,b){if(S.props.syncId===A){if(b===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),fe(S,"handleBrushChange",function(A){var T=A.startIndex,b=A.endIndex;if(T!==S.state.dataStartIndex||b!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return z({dataStartIndex:T,dataEndIndex:b},m({props:S.props,dataStartIndex:T,dataEndIndex:b,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:b})}}),fe(S,"handleMouseEnter",function(A){var T=S.getMouseInfo(A);if(T){var b=z(z({},T),{},{isTooltipActive:!0});S.setState(b),S.triggerSyncEvent(b);var O=S.props.onMouseEnter;me(O)&&O(b,A)}}),fe(S,"triggeredAfterMouseMove",function(A){var T=S.getMouseInfo(A),b=T?z(z({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(b),S.triggerSyncEvent(b);var O=S.props.onMouseMove;me(O)&&O(b,A)}),fe(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),fe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),fe(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),fe(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var b=S.props.onMouseLeave;me(b)&&b(T,A)}),fe(S,"handleOuterEvent",function(A){var T=rne(A),b=Gn(S.props,"".concat(T));if(T&&me(b)){var O,C;/.*touch.*/i.test(T)?C=S.getMouseInfo(A.changedTouches[0]):C=S.getMouseInfo(A),b((O=C)!==null&&O!==void 0?O:{},A)}}),fe(S,"handleClick",function(A){var T=S.getMouseInfo(A);if(T){var b=z(z({},T),{},{isTooltipActive:!0});S.setState(b),S.triggerSyncEvent(b);var O=S.props.onClick;me(O)&&O(b,A)}}),fe(S,"handleMouseDown",function(A){var T=S.props.onMouseDown;if(me(T)){var b=S.getMouseInfo(A);T(b,A)}}),fe(S,"handleMouseUp",function(A){var T=S.props.onMouseUp;if(me(T)){var b=S.getMouseInfo(A);T(b,A)}}),fe(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),fe(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),fe(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),fe(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&gb.emit(yb,S.props.syncId,A,S.eventEmitterSymbol)}),fe(S,"applySyncEvent",function(A){var T=S.props,b=T.layout,O=T.syncMethod,C=S.state.updateId,N=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(z({dataStartIndex:N,dataEndIndex:R},m({props:S.props,dataStartIndex:N,dataEndIndex:R,updateId:C},S.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,B=A.chartY,U=A.activeTooltipIndex,H=S.state,K=H.offset,V=H.tooltipTicks;if(!K)return;if(typeof O=="function")U=O(V,A);else if(O==="value"){U=-1;for(var q=0;q<V.length;q++)if(V[q].value===A.activeLabel){U=q;break}}var Y=z(z({},K),{},{x:K.left,y:K.top}),re=Math.min(k,Y.x+Y.width),Q=Math.min(B,Y.y+Y.height),ae=V[U]&&V[U].value,Ie=Ix(S.state,S.props.data,U),De=V[U]?{x:b==="horizontal"?V[U].coordinate:re,y:b==="horizontal"?Q:V[U].coordinate}:C3;S.setState(z(z({},A),{},{activeLabel:ae,activeCoordinate:De,activePayload:Ie,activeTooltipIndex:U}))}else S.setState(A)}),fe(S,"renderCursor",function(A){var T,b=S.state,O=b.isTooltipActive,C=b.activeCoordinate,N=b.activePayload,R=b.offset,k=b.activeTooltipIndex,B=b.tooltipAxisBandSize,U=S.getTooltipEventType(),H=(T=A.props.active)!==null&&T!==void 0?T:O,K=S.props.layout,V=A.key||"_recharts-cursor";return D.createElement(eSe,{key:V,activeCoordinate:C,activePayload:N,activeTooltipIndex:k,chartName:n,element:A,isActive:H,layout:K,offset:R,tooltipAxisBandSize:B,tooltipEventType:U})}),fe(S,"renderPolarAxis",function(A,T,b){var O=Gn(A,"type.axisType"),C=Gn(S.state,"".concat(O,"Map")),N=A.type.defaultProps,R=N!==void 0?z(z({},N),A.props):A.props,k=C&&C[R["".concat(O,"Id")]];return M.cloneElement(A,z(z({},k),{},{className:xe(O,k.className),key:A.key||"".concat(T,"-").concat(b),ticks:Ni(k,!0)}))}),fe(S,"renderPolarGrid",function(A){var T=A.props,b=T.radialLines,O=T.polarAngles,C=T.polarRadius,N=S.state,R=N.radiusAxisMap,k=N.angleAxisMap,B=Ta(R),U=Ta(k),H=U.cx,K=U.cy,V=U.innerRadius,q=U.outerRadius;return M.cloneElement(A,{polarAngles:Array.isArray(O)?O:Ni(U,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(C)?C:Ni(B,!0).map(function(Y){return Y.coordinate}),cx:H,cy:K,innerRadius:V,outerRadius:q,key:A.key||"polar-grid",radialLines:b})}),fe(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,T=S.props,b=T.children,O=T.width,C=T.height,N=S.props.margin||{},R=O-(N.left||0)-(N.right||0),k=iF({children:b,formattedGraphicalItems:A,legendWidth:R,legendContent:u});if(!k)return null;var B=k.item,U=gj(k,tSe);return M.cloneElement(B,z(z({},U),{},{chartWidth:O,chartHeight:C,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),fe(S,"renderTooltip",function(){var A,T=S.props,b=T.children,O=T.accessibilityLayer,C=Un(b,In);if(!C)return null;var N=S.state,R=N.isTooltipActive,k=N.activeCoordinate,B=N.activePayload,U=N.activeLabel,H=N.offset,K=(A=C.props.active)!==null&&A!==void 0?A:R;return M.cloneElement(C,{viewBox:z(z({},H),{},{x:H.left,y:H.top}),active:K,label:U,payload:K?B:[],coordinate:k,accessibilityLayer:O})}),fe(S,"renderBrush",function(A){var T=S.props,b=T.margin,O=T.data,C=S.state,N=C.offset,R=C.dataStartIndex,k=C.dataEndIndex,B=C.updateId;return M.cloneElement(A,{key:A.key||"_recharts-brush",onChange:lp(S.handleBrushChange,A.props.onChange),data:O,x:Z(A.props.x)?A.props.x:N.left,y:Z(A.props.y)?A.props.y:N.top+N.height+N.brushBottom-(b.bottom||0),width:Z(A.props.width)?A.props.width:N.width,startIndex:R,endIndex:k,updateId:"brush-".concat(B)})}),fe(S,"renderReferenceElement",function(A,T,b){if(!A)return null;var O=S,C=O.clipPathId,N=S.state,R=N.xAxisMap,k=N.yAxisMap,B=N.offset,U=A.type.defaultProps||{},H=A.props,K=H.xAxisId,V=K===void 0?U.xAxisId:K,q=H.yAxisId,Y=q===void 0?U.yAxisId:q;return M.cloneElement(A,{key:A.key||"".concat(T,"-").concat(b),xAxis:R[V],yAxis:k[Y],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:C})}),fe(S,"renderActivePoints",function(A){var T=A.item,b=A.activePoint,O=A.basePoint,C=A.childIndex,N=A.isRange,R=[],k=T.props.key,B=T.item.type.defaultProps!==void 0?z(z({},T.item.type.defaultProps),T.item.props):T.item.props,U=B.activeDot,H=B.dataKey,K=z(z({index:C,dataKey:H,cx:b.x,cy:b.y,r:4,fill:kS(T.item),strokeWidth:2,stroke:"#fff",payload:b.payload,value:b.value},ce(U,!1)),Bm(U));return R.push(E.renderActiveDot(U,K,"".concat(k,"-activePoint-").concat(C))),O?R.push(E.renderActiveDot(U,z(z({},K),{},{cx:O.x,cy:O.y}),"".concat(k,"-basePoint-").concat(C))):N&&R.push(null),R}),fe(S,"renderGraphicChild",function(A,T,b){var O=S.filterFormatItem(A,T,b);if(!O)return null;var C=S.getTooltipEventType(),N=S.state,R=N.isTooltipActive,k=N.tooltipAxis,B=N.activeTooltipIndex,U=N.activeLabel,H=S.props.children,K=Un(H,In),V=O.props,q=V.points,Y=V.isRange,re=V.baseLine,Q=O.item.type.defaultProps!==void 0?z(z({},O.item.type.defaultProps),O.item.props):O.item.props,ae=Q.activeDot,Ie=Q.hide,De=Q.activeBar,st=Q.activeShape,Ut=!!(!Ie&&R&&K&&(ae||De||st)),Jt={};C!=="axis"&&K&&K.props.trigger==="click"?Jt={onClick:lp(S.handleItemMouseEnter,A.props.onClick)}:C!=="axis"&&(Jt={onMouseLeave:lp(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:lp(S.handleItemMouseEnter,A.props.onMouseEnter)});var ie=M.cloneElement(A,z(z({},O.props),Jt));function ge(hi){return typeof k.dataKey=="function"?k.dataKey(hi.payload):null}if(Ut)if(B>=0){var ve,G;if(k.dataKey&&!k.allowDuplicatedCategory){var He=typeof k.dataKey=="function"?ge:"payload.".concat(k.dataKey.toString());ve=Fm(q,He,U),G=Y&&re&&Fm(re,He,U)}else ve=q?.[B],G=Y&&re&&re[B];if(st||De){var Se=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[M.cloneElement(A,z(z(z({},O.props),Jt),{},{activeIndex:Se})),null,null]}if(!we(ve))return[ie].concat(Pu(S.renderActivePoints({item:O,activePoint:ve,basePoint:G,childIndex:B,isRange:Y})))}else{var lt,mt=(lt=S.getItemByXY(S.state.activeCoordinate))!==null&&lt!==void 0?lt:{graphicalItem:ie},Zt=mt.graphicalItem,$r=Zt.item,fi=$r===void 0?A:$r,na=Zt.childIndex,Lr=z(z(z({},O.props),Jt),{},{activeIndex:na});return[M.cloneElement(fi,Lr),null,null]}return Y?[ie,null,null]:[ie,null]}),fe(S,"renderCustomized",function(A,T,b){return M.cloneElement(A,z(z({key:"recharts-customized-".concat(b)},S.props),S.state))}),fe(S,"renderMap",{CartesianGrid:{handler:hp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hp},YAxis:{handler:hp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=_.id)!==null&&x!==void 0?x:Wu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=r4(S.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return hSe(E,v),uSe(E,[{key:"componentDidMount",value:function(){var x,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,P=x.children,S=x.data,A=x.height,T=x.layout,b=Un(P,In);if(b){var O=b.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,N=Ix(this.state,S,O,C),R=this.state.tooltipTicks[O].coordinate,k=(this.state.offset.top+A)/2,B=T==="horizontal",U=B?{x:R,y:k}:{y:R,x:k},H=this.state.formattedGraphicalItems.find(function(V){var q=V.item;return q.type.name==="Scatter"});H&&(U=z(z({},U),H.props.points[O].tooltipPosition),N=H.props.points[O].tooltipPayload);var K={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:N,activeCoordinate:U};this.setState(K),this.renderCursor(b),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(x){i_([Un(x.children,In)],[Un(this.props.children,In)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Un(this.props.children,In);if(x&&typeof x.props.shared=="boolean"){var P=x.props.shared?"axis":"item";return s.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),A=Cfe(S),T={chartX:Math.round(x.pageX-A.left),chartY:Math.round(x.pageY-A.top)},b=S.width/P.offsetWidth||1,O=this.inRange(T.chartX,T.chartY,b);if(!O)return null;var C=this.state,N=C.xAxisMap,R=C.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&N&&R){var B=Ta(N).scale,U=Ta(R).scale,H=B&&B.invert?B.invert(T.chartX):null,K=U&&U.invert?U.invert(T.chartY):null;return z(z({},T),{},{xValue:H,yValue:K})}var V=vj(this.state,this.props.data,this.props.layout,O);return V?z(z({},T),V):null}},{key:"inRange",value:function(x,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=x/S,b=P/S;if(A==="horizontal"||A==="vertical"){var O=this.state.offset,C=T>=O.left&&T<=O.left+O.width&&b>=O.top&&b<=O.top+O.height;return C?{x:T,y:b}:null}var N=this.state,R=N.angleAxisMap,k=N.radiusAxisMap;if(R&&k){var B=Ta(R);return qN({x:T,y:b},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,P=this.getTooltipEventType(),S=Un(x,In),A={};S&&P==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var T=Bm(this.props,this.handleOuterEvent);return z(z({},T),A)}},{key:"addListener",value:function(){gb.on(yb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gb.removeListener(yb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,P,S){for(var A=this.state.formattedGraphicalItems,T=0,b=A.length;T<b;T++){var O=A[T];if(O.item===x||O.props.key===x.key||P===Ri(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,P=this.state.offset,S=P.left,A=P.top,T=P.height,b=P.width;return D.createElement("defs",null,D.createElement("clipPath",{id:x},D.createElement("rect",{x:S,y:A,height:T,width:b})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(P,S){var A=mj(S,2),T=A[0],b=A[1];return z(z({},P),{},fe({},T,b.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(P,S){var A=mj(S,2),T=A[0],b=A[1];return z(z({},P),{},fe({},T,b.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(x){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(x){var P=this.state,S=P.formattedGraphicalItems,A=P.activeItem;if(S&&S.length)for(var T=0,b=S.length;T<b;T++){var O=S[T],C=O.props,N=O.item,R=N.type.defaultProps!==void 0?z(z({},N.type.defaultProps),N.props):N.props,k=Ri(N.type);if(k==="Bar"){var B=(C.data||[]).find(function(V){return nbe(x,V)});if(B)return{graphicalItem:O,payload:B}}else if(k==="RadialBar"){var U=(C.data||[]).find(function(V){return qN(x,V)});if(U)return{graphicalItem:O,payload:U}}else if(Sv(O,A)||Tv(O,A)||Cf(O,A)){var H=qwe({graphicalItem:O,activeTooltipItem:A,itemData:R.data}),K=R.activeIndex===void 0?H:R.activeIndex;return{graphicalItem:z(z({},O),{},{childIndex:K}),payload:Cf(O,A)?R.data[H]:O.props.data[H]}}}return null}},{key:"render",value:function(){var x=this;if(!RO(this))return null;var P=this.props,S=P.children,A=P.className,T=P.width,b=P.height,O=P.style,C=P.compact,N=P.title,R=P.desc,k=gj(P,nSe),B=ce(k,!1);if(C)return D.createElement(Jk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(o_,xl({},B,{width:T,height:b,title:N,desc:R}),this.renderClipPath(),MO(S,this.renderMap)));if(this.props.accessibilityLayer){var U,H;B.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,B.role=(H=this.props.role)!==null&&H!==void 0?H:"application",B.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},B.onFocus=function(){x.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return D.createElement(Jk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",xl({className:xe("recharts-wrapper",A),style:z({position:"relative",cursor:"default",width:T,height:b},O)},K,{ref:function(q){x.container=q}}),D.createElement(o_,xl({},B,{width:T,height:b,title:N,desc:R,style:bSe}),this.renderClipPath(),MO(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);fe(g,"displayName",n),fe(g,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),fe(g,"getDerivedStateFromProps",function(v,E){var _=v.dataKey,x=v.data,P=v.children,S=v.width,A=v.height,T=v.layout,b=v.stackOffset,O=v.margin,C=E.dataStartIndex,N=E.dataEndIndex;if(E.updateId===void 0){var R=bj(v);return z(z(z({},R),{},{updateId:0},m(z(z({props:v},R),{},{updateId:0}),E)),{},{prevDataKey:_,prevData:x,prevWidth:S,prevHeight:A,prevLayout:T,prevStackOffset:b,prevMargin:O,prevChildren:P})}if(_!==E.prevDataKey||x!==E.prevData||S!==E.prevWidth||A!==E.prevHeight||T!==E.prevLayout||b!==E.prevStackOffset||!Rl(O,E.prevMargin)){var k=bj(v),B={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},U=z(z({},vj(E,x,T)),{},{updateId:E.updateId+1}),H=z(z(z({},k),B),U);return z(z(z({},H),m(z({props:v},H),E)),{},{prevDataKey:_,prevData:x,prevWidth:S,prevHeight:A,prevLayout:T,prevStackOffset:b,prevMargin:O,prevChildren:P})}if(!i_(P,E.prevChildren)){var K,V,q,Y,re=Un(P,yu),Q=re&&(K=(V=re.props)===null||V===void 0?void 0:V.startIndex)!==null&&K!==void 0?K:C,ae=re&&(q=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&q!==void 0?q:N,Ie=Q!==C||ae!==N,De=!we(x),st=De&&!Ie?E.updateId:E.updateId+1;return z(z({updateId:st},m(z(z({props:v},E),{},{updateId:st,dataStartIndex:Q,dataEndIndex:ae}),E)),{},{prevChildren:P,dataStartIndex:Q,dataEndIndex:ae})}return null}),fe(g,"renderActiveDot",function(v,E,_){var x;return M.isValidElement(v)?x=M.cloneElement(v,E):me(v)?x=v(E):x=D.createElement(bv,E),D.createElement(Ce,{className:"recharts-active-dot",key:_},x)});var y=M.forwardRef(function(E,_){return D.createElement(g,xl({},E,{ref:_}))});return y.displayName=g.displayName,y},OSe=zS({chartName:"BarChart",GraphicalChild:to,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ts},{axisType:"yAxis",AxisComp:As}],formatAxisMap:GF}),k3=zS({chartName:"PieChart",GraphicalChild:di,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ev},{axisType:"radiusAxis",AxisComp:_v}],formatAxisMap:Aye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),j3=zS({chartName:"AreaChart",GraphicalChild:ta,axisComponents:[{axisType:"xAxis",AxisComp:Ts},{axisType:"yAxis",AxisComp:As}],formatAxisMap:GF});const _j=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981"],CSe=()=>{const{stands:t,publications:e}=ho(),n=new Date,i=mQ({start:gQ(n),end:pQ(n)}).map(d=>{dt(d,"yyyy-MM-dd");const f=t.filter(m=>m.isReserved&&new Date(m.reservedUntil)>=d).length;return{date:dt(d,"d MMM",{locale:vn}),reservations:f}}),a=t.reduce((d,f)=>{const m=f.currentPoster;return d[m]=(d[m]||0)+1,d},{}),o=Object.entries(a).map(([d,f])=>({category:d,count:f})),s=d=>{const m=(d.stands||[]).reduce((v,E)=>v+E.quantity,0),g=l(),y=m/g;return{currentStock:m,predictedDaysLeft:Math.round(y),needsRestock:y<30,avgDailyUsage:g.toFixed(2)}},l=d=>Math.random()*2+1,u=t.map(d=>{const f=d.reservationHistory?.reduce((m,g)=>m+Cr(new Date(g.endDate),new Date(g.startDate)),0)||0;return{name:d.name,days:f,maintenances:d.maintenanceHistory?.length||0}}),c=e.map(d=>{const f=s(d);return{...d,...f}});return p.jsxs("div",{className:"space-y-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Statistiques et Prdictions"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Rservations du Mois"}),p.jsx("div",{className:"h-[400px]",children:p.jsx(md,{width:"100%",height:"100%",children:p.jsxs(j3,{data:i,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"reservationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),p.jsx(Mg,{strokeDasharray:"3 3"}),p.jsx(Ts,{dataKey:"date"}),p.jsx(As,{}),p.jsx(In,{}),p.jsx(Di,{}),p.jsx(ta,{type:"monotone",dataKey:"reservations",stroke:"#3b82f6",fillOpacity:1,fill:"url(#reservationGradient)",name:"Rservations"})]})})})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Distribution des Affiches"}),p.jsx("div",{className:"h-[400px]",children:p.jsx(md,{width:"100%",height:"100%",children:p.jsxs(k3,{children:[p.jsx(di,{data:o,dataKey:"count",nameKey:"category",cx:"50%",cy:"50%",outerRadius:150,label:!0,children:o.map((d,f)=>p.jsx(sh,{fill:_j[f%_j.length]},`cell-${f}`))}),p.jsx(In,{}),p.jsx(Di,{})]})})})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Utilisation des Prsentoirs"}),p.jsx("div",{className:"h-[400px]",children:p.jsx(md,{width:"100%",height:"100%",children:p.jsxs(OSe,{data:u,children:[p.jsx(Mg,{strokeDasharray:"3 3"}),p.jsx(Ts,{dataKey:"name"}),p.jsx(As,{}),p.jsx(In,{}),p.jsx(Di,{}),p.jsx(to,{dataKey:"days",fill:"#3b82f6",name:"Jours d'utilisation"}),p.jsx(to,{dataKey:"maintenances",fill:"#f59e0b",name:"Maintenances"})]})})})]}),p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Prdictions de Stock"}),p.jsx("span",{className:"px-2 py-1 text-xs font-bold text-purple-700 bg-purple-100 rounded-full",children:"BETA"})]}),p.jsx("div",{className:"space-y-4",children:c.map(d=>p.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:d.title}),p.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[p.jsxs("p",{className:"text-gray-600",children:["Stock actuel: ",d.currentStock," units"]}),p.jsxs("p",{className:"text-gray-600",children:["Usage quotidien moyen: ",d.avgDailyUsage," units"]}),p.jsxs("p",{className:"text-gray-600",children:["Autonomie estime: ",d.predictedDaysLeft," jours"]})]})]}),d.needsRestock&&p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full",children:[p.jsx(ri,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm font-medium",children:"Rapprovisionnement conseill"})]})]}),p.jsx("div",{className:"mt-3 h-2 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full ${d.predictedDaysLeft>60?"bg-green-500":d.predictedDaysLeft>30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(d.predictedDaysLeft/90*100,100)}%`}})})]},d.id))})]})]})]})},qS=D.createContext({value:"",onChange:()=>{}}),NSe=({defaultValue:t,children:e,className:n=""})=>{const[r,i]=D.useState(t);return p.jsx(qS.Provider,{value:{value:r,onChange:i},children:p.jsx("div",{className:n,children:e})})},kSe=({children:t,className:e=""})=>p.jsx("div",{className:`flex flex-wrap gap-2 ${e}`,children:t}),da=({value:t,children:e})=>{const{value:n,onChange:r}=D.useContext(qS),i=t===n;return p.jsx("button",{className:`flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200
        ${i?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900 border border-gray-200"}`,onClick:()=>r(t),children:e})},fa=({value:t,children:e,className:n=""})=>{const{value:r}=D.useContext(qS);return t!==r?null:p.jsx("div",{className:n,children:e})},jSe=({isOpen:t,onClose:e,onSubmit:n})=>{const{availablePosters:r,publications:i}=ho(),[a,o]=M.useState({name:"",location:"",currentPoster:""}),[s,l]=M.useState([]),u=m=>{if(m.preventDefault(),a.name.trim().length<2){he.error("Le nom doit contenir au moins 2 caractres");return}if(a.location.trim().length<2){he.error("La localisation doit contenir au moins 2 caractres");return}n({...a,id:crypto.randomUUID(),isReserved:!1,lastUpdated:new Date,maintenanceHistory:[],publications:s,posterRequests:[],reservationHistory:[]})},c=()=>{l([...s,{publicationId:"",quantity:0}])},d=m=>{l(s.filter((g,y)=>y!==m))},f=(m,g,y)=>{const v=[...s];v[m]={...v[m],[g]:y},l(v)};return p.jsx(Hi,{isOpen:t,onClose:e,title:"Ajouter un nouveau prsentoir",children:p.jsxs("form",{onSubmit:u,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du prsentoir"}),p.jsx("input",{type:"text",className:"input",value:a.name,onChange:m=>o({...a,name:m.target.value}),required:!0,minLength:2,placeholder:"Ex: Prsentoir Hall Principal"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),p.jsx("input",{type:"text",className:"input",value:a.location,onChange:m=>o({...a,location:m.target.value}),required:!0,minLength:2,placeholder:"Ex: Hall d'entre"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affiche actuelle"}),p.jsxs("select",{className:"input",value:a.currentPoster,onChange:m=>o({...a,currentPoster:m.target.value}),required:!0,children:[p.jsx("option",{value:"",children:"Slectionnez une affiche"}),r.map(m=>p.jsx("option",{value:m.name,children:m.name},m.id))]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Publications"}),p.jsxs("button",{type:"button",onClick:c,className:"btn btn-secondary py-1 px-2 h-8",children:[p.jsx(Up,{className:"h-4 w-4"}),"Ajouter une publication"]})]}),p.jsx("div",{className:"space-y-3",children:s.map((m,g)=>p.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("select",{className:"input mb-2",value:m.publicationId,onChange:y=>f(g,"publicationId",y.target.value),required:!0,children:[p.jsx("option",{value:"",children:"Slectionnez une publication"}),i.map(y=>p.jsx("option",{value:y.id,children:y.title},y.id))]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("label",{className:"text-sm text-gray-600",children:"Quantit:"}),p.jsx("input",{type:"number",min:"0",className:"input w-24",value:m.quantity,onChange:y=>f(g,"quantity",parseInt(y.target.value)),required:!0})]})]}),p.jsx("button",{type:"button",onClick:()=>d(g),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors",children:p.jsx(DY,{className:"h-4 w-4"})})]},g))})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter le prsentoir"})]})]})})},RSe=()=>{const{currentUser:t}=Ms(),[e,n]=M.useState(!1),[r,i]=M.useState({displayName:t?.displayName||"",currentPassword:"",newPassword:"",confirmPassword:""}),a=async s=>{if(s.preventDefault(),!!t){n(!0);try{await jD(t,{displayName:r.displayName}),he.success("Profil mis  jour avec succs")}catch{he.error("Erreur lors de la mise  jour du profil")}finally{n(!1)}}},o=async s=>{if(s.preventDefault(),!!t){if(r.newPassword!==r.confirmPassword){he.error("Les mots de passe ne correspondent pas");return}n(!0);try{const l=uo.credential(t.email,r.currentPassword);await kD(t,l),await RD(t,r.newPassword),i(u=>({...u,currentPassword:"",newPassword:"",confirmPassword:""})),he.success("Mot de passe mis  jour avec succs")}catch{he.error("Erreur lors de la mise  jour du mot de passe")}finally{n(!1)}}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Informations du profil"}),p.jsxs("form",{onSubmit:a,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("div",{className:"flex items-center",children:p.jsxs("div",{className:"relative flex-1",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(PL,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"email",value:t?.email||"",disabled:!0,className:"input pl-10 bg-gray-50"})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'affichage"}),p.jsx("div",{className:"flex items-center",children:p.jsxs("div",{className:"relative flex-1",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(DE,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",value:r.displayName,onChange:s=>i({...r,displayName:s.target.value}),className:"input pl-10",placeholder:"Votre nom"})]})})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary",children:"Mettre  jour le profil"})})]})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Changer le mot de passe"}),p.jsxs("form",{onSubmit:o,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe actuel"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(pd,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"password",value:r.currentPassword,onChange:s=>i({...r,currentPassword:s.target.value}),className:"input pl-10",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(pd,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"password",value:r.newPassword,onChange:s=>i({...r,newPassword:s.target.value}),className:"input pl-10",required:!0,minLength:6})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(pd,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"password",value:r.confirmPassword,onChange:s=>i({...r,confirmPassword:s.target.value}),className:"input pl-10",required:!0,minLength:6})]})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary",children:"Mettre  jour le mot de passe"})})]})]})]})},DSe=()=>{const{settings:t,updateSettings:e}=Vy(),{stands:n,availablePosters:r,publications:i,setAvailablePosters:a,setPublications:o,addStand:s,removeStand:l}=ho();Ms();const[u,c]=M.useState(!1),[d,f]=M.useState(!1),[m,g]=M.useState(!1),[y,v]=M.useState({name:"",description:"",imageUrl:"",category:""}),[E,_]=M.useState({title:"",description:"",imageUrl:"",category:"",minStock:10}),x=b=>{e({...t,...b}),he.success("Paramtres mis  jour avec succs")},P=()=>{if(!y.name||!y.imageUrl){he.error("Veuillez remplir tous les champs obligatoires");return}a(b=>[...b,{id:crypto.randomUUID(),...y,isActive:!0}]),v({name:"",description:"",imageUrl:"",category:""}),c(!1),he.success("Affiche ajoute avec succs")},S=b=>{a(O=>O.filter(C=>C.id!==b)),he.success("Affiche supprime avec succs")},A=()=>{if(!E.title||!E.imageUrl){he.error("Veuillez remplir tous les champs obligatoires");return}o(b=>[...b,{id:crypto.randomUUID(),...E,isActive:!0}]),_({title:"",description:"",imageUrl:"",category:"",minStock:10}),f(!1),he.success("Publication ajoute avec succs")},T=b=>{o(O=>O.filter(C=>C.id!==b)),he.success("Publication supprime avec succs")};return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs(NSe,{defaultValue:"general",className:"space-y-6",children:[p.jsxs(kSe,{children:[p.jsx(da,{value:"general",children:"Gnral"}),p.jsx(da,{value:"assembly",children:"Assemble"}),p.jsx(da,{value:"stands",children:"Prsentoirs"}),p.jsx(da,{value:"posters",children:"Affiches"}),p.jsx(da,{value:"publications",children:"Publications"}),p.jsx(da,{value:"notifications",children:"Notifications"}),p.jsx(da,{value:"profile",children:"Profil"}),p.jsx(da,{value:"storage",children:"Stockage"})]}),p.jsx(fa,{value:"general",children:p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Paramtres gnraux"}),p.jsxs("form",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de base"}),p.jsx("input",{type:"url",className:"input",value:t.baseUrl,onChange:b=>x({baseUrl:b.target.value}),placeholder:"https://example.com/stand/"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dure maximale de rservation (jours)"}),p.jsx("input",{type:"number",className:"input",value:t.maxReservationDays,onChange:b=>x({maxReservationDays:parseInt(b.target.value)}),min:"1",max:"90"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dlai minimum de rservation (heures)"}),p.jsx("input",{type:"number",className:"input",value:t.minAdvanceHours,onChange:b=>x({minAdvanceHours:parseInt(b.target.value)}),min:"0",max:"72"})]})]})]})]})}),p.jsx(fa,{value:"assembly",children:p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations de l'Assemble"}),p.jsxs("form",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'assemble"}),p.jsx("input",{type:"text",className:"input",value:t.assembly?.name||"",onChange:b=>x({assembly:{...t.assembly,name:b.target.value}})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),p.jsx("input",{type:"text",className:"input",value:t.assembly?.address||"",onChange:b=>x({assembly:{...t.assembly,address:b.target.value}})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),p.jsx("input",{type:"text",className:"input",value:t.assembly?.city||"",onChange:b=>x({assembly:{...t.assembly,city:b.target.value}})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal"}),p.jsx("input",{type:"text",className:"input",value:t.assembly?.postalCode||"",onChange:b=>x({assembly:{...t.assembly,postalCode:b.target.value}})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),p.jsx("input",{type:"text",className:"input",value:t.assembly?.country||"",onChange:b=>x({assembly:{...t.assembly,country:b.target.value}})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",className:"input",value:t.assembly?.email||"",onChange:b=>x({assembly:{...t.assembly,email:b.target.value}})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),p.jsx("input",{type:"tel",className:"input",value:t.assembly?.phone||"",onChange:b=>x({assembly:{...t.assembly,phone:b.target.value}})})]})]})]})]})}),p.jsx(fa,{value:"posters",children:p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gestion des Affiches"}),p.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary",children:[p.jsx(Up,{className:"h-4 w-4"}),"Ajouter une affiche"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(b=>p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:p.jsx("img",{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:b.description}),p.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:b.category}),p.jsx("button",{onClick:()=>S(b.id),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors",children:p.jsx(V0,{className:"h-4 w-4"})})]})]})]})},b.id))})]})}),p.jsx(fa,{value:"publications",children:p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gestion des Publications"}),p.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary",children:[p.jsx(Up,{className:"h-4 w-4"}),"Ajouter une publication"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(b=>p.jsx("div",{className:"card p-4",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:p.jsx("img",{src:b.imageUrl,alt:b.title,className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:b.title}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:b.description}),p.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-sm text-gray-600",children:b.category}),p.jsxs("span",{className:"text-sm text-gray-600 ml-4",children:["Stock min: ",b.minStock]})]}),p.jsx("button",{onClick:()=>T(b.id),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors",children:p.jsx(V0,{className:"h-4 w-4"})})]})]})]})},b.id))})]})}),p.jsx(fa,{value:"stands",children:p.jsxs("div",{className:"card p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gestion des Prsentoirs"}),p.jsxs("button",{onClick:()=>g(!0),className:"btn btn-primary",children:[p.jsx(Up,{className:"h-4 w-4"}),"Ajouter un prsentoir"]})]}),p.jsx("div",{className:"space-y-4",children:n.map(b=>p.jsxs("div",{className:"flex items-start justify-between p-6 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.location}),p.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Affiche actuelle: ",b.currentPoster]}),p.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[p.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100",children:p.jsx(ME,{value:`${t.baseUrl}${b.id}`,size:96,level:"H",includeMargin:!0})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Lien public :"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:`${t.baseUrl}${b.id}`,readOnly:!0,className:"input text-sm py-1"}),p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${t.baseUrl}${b.id}`),he.success("Lien copi !")},className:"btn btn-secondary py-1 px-2",children:p.jsx(jY,{className:"h-4 w-4"})})]})]})]})]}),p.jsx("button",{onClick:()=>l(b.id),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded-lg transition-colors",children:p.jsx(V0,{className:"h-4 w-4"})})]},b.id))})]})}),p.jsx(fa,{value:"notifications",children:p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Paramtres des notifications"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:"Nouvelles rservations"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir une notification pour chaque nouvelle rservation"})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.emailNotifications.newReservation,onChange:b=>x({emailNotifications:{...t.emailNotifications,newReservation:b.target.checked}})}),p.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:"Demandes d'affiche"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir une notification pour les demandes de changement d'affiche"})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.emailNotifications.posterRequest,onChange:b=>x({emailNotifications:{...t.emailNotifications,posterRequest:b.target.checked}})}),p.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir une notification pour les rappels de maintenance"})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.emailNotifications.maintenance,onChange:b=>x({emailNotifications:{...t.emailNotifications,maintenance:b.target.checked}})}),p.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),p.jsx(fa,{value:"profile",children:p.jsx(RSe,{})}),p.jsx(fa,{value:"storage",children:p.jsxs("div",{className:"card p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Mthode de Stockage"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-lg",children:[p.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:p.jsx(OY,{className:"h-5 w-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-blue-900",children:"Firebase Cloud Firestore"}),p.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Les donnes sont synchronises en temps rel et accessibles depuis n'importe quel appareil. Mode hors ligne disponible."}),p.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[p.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:"Prsentoirs"}),p.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:"Affiches"}),p.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:"Publications"}),p.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:"Paramtres"})]})]})]}),p.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[p.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:p.jsx(NY,{className:"h-5 w-5 text-gray-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:"Stockage Local (IndexedDB)"}),p.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Cache local pour un accs rapide et le mode hors ligne. Synchronis automatiquement avec le cloud."}),p.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[p.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded-full",children:"Prfrences utilisateur"}),p.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded-full",children:"Cache des donnes"})]})]})]}),p.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"tat de la synchronisation"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"flex-shrink-0 h-3 w-3 rounded-full bg-green-500"}),p.jsx("span",{className:"text-sm text-gray-600",children:"Synchronis avec le cloud"})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Dernire synchronisation : ",dt(new Date,"PPP  HH:mm",{locale:vn})]})]})]})]})})]}),p.jsx(Hi,{isOpen:u,onClose:()=>c(!1),title:"Ajouter une affiche",children:p.jsxs("form",{onSubmit:b=>{b.preventDefault(),P()},className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'affiche"}),p.jsx("input",{type:"text",className:"input",value:y.name,onChange:b=>v({...y,name:b.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{className:"input",value:y.description,onChange:b=>v({...y,description:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de l'image"}),p.jsx("input",{type:"url",className:"input",value:y.imageUrl,onChange:b=>v({...y,imageUrl:b.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),p.jsx("input",{type:"text",className:"input",value:y.category,onChange:b=>v({...y,category:b.target.value})})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})}),p.jsx(Hi,{isOpen:d,onClose:()=>f(!1),title:"Ajouter une publication",children:p.jsxs("form",{onSubmit:b=>{b.preventDefault(),A()},className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),p.jsx("input",{type:"text",className:"input",value:E.title,onChange:b=>_({...E,title:b.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{className:"input",value:E.description,onChange:b=>_({...E,description:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de l'image"}),p.jsx("input",{type:"url",className:"input",value:E.imageUrl,onChange:b=>_({...E,imageUrl:b.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catgorie"}),p.jsx("input",{type:"text",className:"input",value:E.category,onChange:b=>_({...E,category:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock minimum"}),p.jsx("input",{type:"number",className:"input",value:E.minStock,onChange:b=>_({...E,minStock:parseInt(b.target.value)}),min:"0",required:!0})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})}),m&&p.jsx(jSe,{isOpen:m,onClose:()=>g(!1),onSubmit:s})]})},MSe=()=>{const{id:t}=P1(),e=so(),{stands:n,setStands:r}=ho(),[i,a]=M.useState(!1),o=t?.replace("stand-","").padStart(3,"0"),s=n.find(c=>c.id===o),l=c=>{s&&(r(d=>d.map(f=>f.id===s.id?{...f,isReserved:!0,reservedBy:c.name,reservedUntil:c.endDate,lastUpdated:new Date,reservationHistory:[...f.reservationHistory||[],{startDate:c.startDate,endDate:c.endDate,reservedBy:c.name}]}:f)),a(!1),he.success("Rservation effectue avec succs"))};if(!s)return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"card p-8 max-w-md w-full text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Prsentoir non trouv"}),p.jsxs("p",{className:"text-gray-600 mb-6",children:["Le prsentoir ",o," n'existe pas ou n'est plus disponible."]}),p.jsxs("button",{onClick:()=>e("/"),className:"btn btn-primary inline-flex items-center",children:[p.jsx(Zd,{className:"h-4 w-4"}),"Retour  l'accueil"]})]})});const u=(s.publications||[]).some(c=>c.quantity<10);return p.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-gray-50",children:[p.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:p.jsx("div",{className:"card p-8 bg-white shadow-xl border-2 border-blue-100",children:p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.name,s.isReserved&&p.jsx("span",{className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-full",children:"Rserv"})]}),p.jsxs("div",{className:"flex items-center text-gray-600 gap-2",children:[p.jsx(RE,{className:"h-5 w-5 text-blue-500"}),p.jsx("span",{className:"text-lg",children:s.location})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[p.jsx(My,{className:"h-5 w-5 text-blue-500"}),"Affiche actuelle"]}),p.jsx("p",{className:"text-gray-700",children:s.currentPoster})]}),p.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[p.jsx(jE,{className:"h-5 w-5 text-blue-500"}),"Publications disponibles"]}),p.jsx("div",{className:"space-y-2",children:s.publications?.map((c,d)=>p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("span",{className:"text-gray-700",children:["Publication ",c.publicationId]}),p.jsxs("span",{className:`px-2 py-1 rounded-full text-sm ${c.quantity<10?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[c.quantity," exemplaires"]})]},d))})]})]}),p.jsxs("div",{className:"space-y-4",children:[s.isReserved?p.jsxs("div",{className:"p-6 bg-red-50 rounded-lg border border-red-100",children:[p.jsxs("div",{className:"flex items-center text-red-700 mb-3",children:[p.jsx(DE,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{className:"font-medium",children:["Rserv par: ",s.reservedBy]})]}),p.jsxs("div",{className:"flex items-center text-red-700",children:[p.jsx(SL,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{children:["Jusqu'au: ",dt(new Date(s.reservedUntil),"PPP",{locale:vn})]})]})]}):p.jsxs("div",{className:"p-6 bg-green-50 rounded-lg border border-green-100",children:[p.jsx("h3",{className:"text-lg font-medium text-green-800 mb-3",children:"Prsentoir disponible"}),p.jsx("p",{className:"text-green-700 mb-4",children:"Vous pouvez rserver ce prsentoir pour vos affiches et publications."}),p.jsx("button",{onClick:()=>a(!0),className:"btn bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl w-full",children:"Rserver maintenant"})]}),u&&p.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 flex items-center gap-3",children:[p.jsx(ri,{className:"h-5 w-5 text-yellow-600"}),p.jsx("p",{className:"text-yellow-700",children:"Certaines publications sont en stock limit"})]})]})]})]})})}),i&&p.jsx(Hi,{isOpen:i,onClose:()=>a(!1),title:"Rserver le prsentoir",children:p.jsxs("form",{onSubmit:c=>{c.preventDefault();const d=new FormData(c.currentTarget);l({name:d.get("name"),startDate:new Date(d.get("startDate")),endDate:new Date(d.get("endDate"))})},className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Votre nom"}),p.jsx("input",{type:"text",name:"name",required:!0,className:"input",placeholder:"Entrez votre nom"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),p.jsx("input",{type:"date",name:"startDate",required:!0,min:dt(new Date,"yyyy-MM-dd"),className:"input"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),p.jsx("input",{type:"date",name:"endDate",required:!0,min:dt(new Date,"yyyy-MM-dd"),className:"input"})]})]}),p.jsx("div",{className:"bg-blue-50 rounded-lg p-4 text-sm text-blue-700",children:p.jsxs("ul",{className:"space-y-1",children:[p.jsx("li",{children:" Dure maximale de rservation : 30 jours"}),p.jsx("li",{children:" La rservation commence le lendemain"}),p.jsx("li",{children:" Vous recevrez une confirmation par email"})]})}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Confirmer la rservation"})]})]})})]})},$Se=()=>{const{type:t}=P1(),e=so(),{stands:n,publications:r}=ho(),i=()=>{switch(t){case"reserved":return n.filter(u=>u.isReserved);case"available":return n.filter(u=>!u.isReserved);case"low-stock":return n.filter(u=>(u.publications||[]).some(c=>{const d=r.find(f=>f.id===c.publicationId);return d&&c.quantity<d.minStock}));default:return n}},a=()=>{switch(t){case"reserved":return"Prsentoirs Rservs";case"available":return"Prsentoirs Disponibles";case"low-stock":return"Prsentoirs avec Stock Bas";default:return"Tous les Prsentoirs"}},o=u=>(u.reservationHistory||[]).reduce((d,f)=>d+Cr(new Date(f.endDate),new Date(f.startDate)),0),s=u=>{const c=u.lastMaintenance||new Date,d=new Date(c);return d.setMonth(d.getMonth()+3),d},l=i();return p.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[p.jsxs("button",{onClick:()=>e("/"),className:"btn btn-secondary",children:[p.jsx(Zd,{className:"h-5 w-5"}),"Retour"]}),p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a()})]}),p.jsx("div",{className:"grid gap-6",children:l.map(u=>p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u.name}),p.jsx("p",{className:"text-gray-600 mt-1",children:u.location})]}),p.jsxs("div",{className:"flex gap-3",children:[u.isReserved&&p.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium",children:"Rserv"}),(u.publications||[]).some(c=>{const d=r.find(f=>f.id===c.publicationId);return d&&c.quantity<d.minStock})&&p.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-medium flex items-center gap-1",children:[p.jsx(ri,{className:"h-4 w-4"}),"Stock bas"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-lg",children:p.jsx(kY,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Jours d'utilisation"}),p.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[o(u)," jours"]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-lg",children:p.jsx(eo,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Prochaine maintenance"}),p.jsx("p",{className:"text-lg font-semibold text-gray-900",children:dt(s(u),"PPP",{locale:vn})})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-3 bg-purple-100 text-purple-700 rounded-lg",children:p.jsx(Dy,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Dernire mise  jour"}),p.jsx("p",{className:"text-lg font-semibold text-gray-900",children:dt(new Date(u.lastUpdated),"PPP",{locale:vn})})]})]})]}),u.reservationHistory&&u.reservationHistory.length>0&&p.jsxs("div",{className:"mt-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historique des rservations"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de dbut"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de fin"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rserv par"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dure"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.reservationHistory.map((c,d)=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(new Date(c.startDate),"PPP",{locale:vn})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt(new Date(c.endDate),"PPP",{locale:vn})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.reservedBy}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Cr(new Date(c.endDate),new Date(c.startDate))," jours"]})]},d))})]})})]})]})},u.id))})]})})},LSe=({maintenances:t})=>{if(t.length===0)return p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun historique de maintenance"});const e=[...t].sort((n,r)=>new Date(r.date).getTime()-new Date(n.date).getTime());return p.jsx("div",{className:"space-y-4",children:e.map((n,r)=>p.jsx("div",{className:"card p-4",children:p.jsx("div",{className:"flex items-start justify-between",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${n.type==="preventive"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:n.type==="preventive"?p.jsx(eo,{className:"h-5 w-5"}):p.jsx(ri,{className:"h-5 w-5"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-medium text-gray-900",children:["Maintenance ",n.type==="preventive"?"prventive":"curative"]}),p.jsx("p",{className:"text-sm text-gray-600",children:dt(new Date(n.date),"PPP",{locale:vn})})]})]}),p.jsxs("div",{className:"mt-3 space-y-2",children:[p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Effectue par:"})," ",n.performedBy]}),p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Description:"})," ",n.description]}),n.type==="curative"&&p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Problmes:"})," ",n.issues]}),p.jsxs("p",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Solutions:"})," ",n.resolution]})]})]})]})})},n.id||`maintenance-${r}`))})},VSe=()=>{const{stands:t,addMaintenance:e}=ho(),{settings:n}=Vy(),[r,i]=M.useState(null);M.useState("all");const[a,o]=M.useState(null),s=f=>lQ(new Date(f),n.maintenance.preventiveIntervalMonths),l=f=>{if(!f.lastMaintenance)return!0;const m=s(f.lastMaintenance);return mX(m,new Date)},u={total:t.reduce((f,m)=>f+(m.maintenanceHistory?.length||0),0),preventive:t.reduce((f,m)=>f+(m.maintenanceHistory?.filter(g=>g.type==="preventive").length||0),0),curative:t.reduce((f,m)=>f+(m.maintenanceHistory?.filter(g=>g.type==="curative").length||0),0),upcoming:t.filter(f=>l(f)).length,averageTimeBetweenFailures:c()};function c(){let f=0,m=0;return t.forEach(g=>{const y=g.maintenanceHistory?.filter(v=>v.type==="curative")||[];if(y.length>1)for(let v=1;v<y.length;v++){const E=Cr(new Date(y[v].date),new Date(y[v-1].date));f+=E,m++}}),m>0?Math.round(f/m):0}const d=f=>{const m=Cr(new Date,new Date(f.createdAt||Date.now())),g=(f.reservationHistory||[]).reduce((P,S)=>P+Cr(new Date(S.endDate),new Date(S.startDate)),0);f.maintenanceHistory?.length;const y=f.maintenanceHistory?.filter(P=>P.type==="curative").length||0,v=Math.min(m/365,1)*.3,E=Math.min(g/180,1)*.4,_=Math.min(y/5,1)*.3,x=(v+E+_)*100;return Math.min(Math.round(x),100)};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Maintenance des Prsentoirs"}),p.jsx("p",{className:"text-gray-600",children:"Grez les maintenances prventives et curatives des prsentoirs"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(Ei,{to:"/maintenance/all",className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-lg shadow-lg",children:p.jsx(eo,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total des maintenances"}),p.jsx("p",{className:"text-2xl font-bold text-blue-900",children:u.total})]})]})}),p.jsx(Ei,{to:"/maintenance/preventive",className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-green-500 text-white rounded-lg shadow-lg",children:p.jsx(TL,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-green-800",children:"Maintenances prventives"}),p.jsx("p",{className:"text-2xl font-bold text-green-900",children:u.preventive})]})]})}),p.jsx(Ei,{to:"/maintenance/curative",className:"card p-6 hover:scale-[1.02] transition-all duration-200 cursor-pointer bg-gradient-to-br from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-200",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-lg shadow-lg",children:p.jsx(ri,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Maintenances curatives"}),p.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:u.curative})]})]})}),p.jsx("div",{className:"card p-6 bg-gradient-to-br from-purple-50 to-purple-100",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-purple-500 text-white rounded-lg shadow-lg",children:p.jsx(Dy,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Temps moyen entre pannes"}),p.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[u.averageTimeBetweenFailures," jours"]})]})]})})]}),p.jsx("div",{className:"space-y-6",children:t.map(f=>{const m=d(f),g=a===f.id;return p.jsxs("div",{className:"card overflow-hidden border-2 hover:border-blue-200 transition-colors",children:[p.jsx("div",{className:"p-6 cursor-pointer hover:bg-blue-50/50 transition-colors",onClick:()=>o(g?null:f.id),children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center shadow-lg ${m>50?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-green-500 to-green-600 text-white"}`,children:p.jsxs("span",{className:"text-sm font-bold",children:[m,"%"]})}),p.jsx("div",{className:"absolute -top-2 -right-2",children:p.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold text-purple-700 bg-purple-100 rounded-full shadow-sm",children:"BETA"})})]}),p.jsx("span",{className:"text-sm text-gray-600",children:"Risque de panne"})]})]}),p.jsx("p",{className:"text-gray-600 mt-1",children:f.location})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{onClick:y=>{y.stopPropagation(),i({stand:f,type:"preventive"})},className:"btn bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-md hover:shadow-lg",children:[p.jsx(eo,{className:"h-4 w-4"}),"Maintenance prventive"]}),p.jsxs("button",{onClick:y=>{y.stopPropagation(),i({stand:f,type:"curative"})},className:"btn bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 shadow-md hover:shadow-lg",children:[p.jsx(ri,{className:"h-4 w-4"}),"Maintenance curative"]}),g?p.jsx(IY,{className:"h-5 w-5 text-gray-400"}):p.jsx(PY,{className:"h-5 w-5 text-gray-400"})]})]})}),g&&p.jsxs("div",{className:"border-t border-gray-100 p-6 bg-gradient-to-b from-blue-50 to-transparent",children:[p.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Historique des maintenances"}),p.jsx(LSe,{maintenances:f.maintenanceHistory||[]})]})]},f.id)})}),r&&p.jsx(LL,{stand:r.stand,type:r.type,isOpen:!0,onClose:()=>i(null),onSubmit:(f,m)=>{e(f,m),i(null),he.success("Maintenance enregistre avec succs")}})]})},xj=["#3b82f6","#10b981","#f59e0b","#ef4444"],FSe=()=>{const{id:t}=P1(),e=so(),{stands:n,publications:r}=ho(),{settings:i}=Vy(),a=n.find(d=>d.id===t);if(!a)return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Prsentoir non trouv"}),p.jsxs("button",{onClick:()=>e("/"),className:"btn btn-primary",children:[p.jsx(Zd,{className:"h-5 w-5 mr-2"}),"Retour au tableau de bord"]})]})});const o={totalReservationDays:(a.reservationHistory||[]).reduce((d,f)=>d+Cr(new Date(f.endDate),new Date(f.startDate)),0),maintenanceCount:a.maintenanceHistory?.length||0,preventiveCount:a.maintenanceHistory?.filter(d=>d.type==="preventive").length||0,curativeCount:a.maintenanceHistory?.filter(d=>d.type==="curative").length||0,posterChanges:a.posterRequests?.filter(d=>d.status==="approved").length||0},s=a.reservationHistory?.map(d=>({startDate:dt(new Date(d.startDate),"PP",{locale:vn}),days:Cr(new Date(d.endDate),new Date(d.startDate)),reservedBy:d.reservedBy}))||[],l=[{name:"Prventive",value:o.preventiveCount},{name:"Curative",value:o.curativeCount}],c=(()=>{const d=Cr(new Date,new Date(a.createdAt||Date.now())),f=o.totalReservationDays,m=o.curativeCount,g=Math.min(d/365,1)*.3,y=Math.min(f/180,1)*.4,v=Math.min(m/5,1)*.3;return Math.min(Math.round((g+y+v)*100),100)})();return p.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("button",{onClick:()=>e("/"),className:"btn btn-secondary mb-4",children:[p.jsx(Zd,{className:"h-5 w-5 mr-2"}),"Retour au tableau de bord"]}),p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.name}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(RE,{className:"h-5 w-5 mr-2"}),a.location]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:`h-16 w-16 rounded-full flex items-center justify-center shadow-lg ${c>50?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-green-500 to-green-600 text-white"}`,children:p.jsxs("div",{className:"text-center",children:[p.jsxs("span",{className:"text-lg font-bold",children:[c,"%"]}),p.jsx("div",{className:"text-xs",children:"risque"})]})}),p.jsx("div",{className:"absolute -top-2 -right-2",children:p.jsx("span",{className:"px-2 py-0.5 text-xs font-bold text-purple-700 bg-purple-100 rounded-full shadow-sm",children:"BETA"})})]}),p.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:p.jsx(ME,{value:`${i.baseUrl}${a.id}`,size:96,level:"H",includeMargin:!0})})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg",children:p.jsx(SL,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Jours d'utilisation"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalReservationDays})]})]})}),p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-lg",children:p.jsx(eo,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Maintenances"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.maintenanceCount})]})]})}),p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-lg",children:p.jsx(My,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Changements d'affiche"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.posterChanges})]})]})}),p.jsx("div",{className:"card p-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-lg",children:p.jsx(jE,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Publications"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.publications?.length||0})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Historique d'utilisation"}),p.jsx("div",{className:"h-[300px]",children:p.jsx(md,{width:"100%",height:"100%",children:p.jsxs(j3,{data:s,children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"usageGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),p.jsx(Mg,{strokeDasharray:"3 3"}),p.jsx(Ts,{dataKey:"startDate"}),p.jsx(As,{}),p.jsx(In,{}),p.jsx(ta,{type:"monotone",dataKey:"days",stroke:"#3b82f6",fill:"url(#usageGradient)",name:"Jours"})]})})})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Rpartition des maintenances"}),p.jsx("div",{className:"h-[300px]",children:p.jsx(md,{width:"100%",height:"100%",children:p.jsxs(k3,{children:[p.jsx(di,{data:l,cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",label:({name:d,value:f})=>`${d}: ${f}`,children:l.map((d,f)=>p.jsx(sh,{fill:xj[f%xj.length]},`cell-${f}`))}),p.jsx(In,{})]})})})]})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"tat actuel"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Statut"}),p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.isReserved?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:a.isReserved?"Rserv":"Disponible"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Affiche actuelle"}),p.jsx("span",{className:"font-medium text-gray-900",children:a.currentPoster})]}),a.isReserved&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Rserv par"}),p.jsx("span",{className:"font-medium text-gray-900",children:a.reservedBy})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Jusqu'au"}),p.jsx("span",{className:"font-medium text-gray-900",children:dt(new Date(a.reservedUntil),"PPP",{locale:vn})})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600",children:"Dernire mise  jour"}),p.jsx("span",{className:"font-medium text-gray-900",children:dt(new Date(a.lastUpdated),"PPP",{locale:vn})})]})]})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Publications"}),p.jsx("div",{className:"space-y-4",children:a.publications?.map(d=>{const f=r.find(g=>g.id===d.publicationId),m=f&&d.quantity<f?.minStock;return p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium text-gray-900",children:f?.title||d.publicationId}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Mis  jour le ",dt(new Date(d.lastUpdated),"PP",{locale:vn})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[d.quantity," en stock"]}),m&&p.jsx(ri,{className:"h-5 w-5 text-yellow-500"})]})]},d.publicationId)})})]}),p.jsxs("div",{className:"card p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Historique des maintenances"}),p.jsx("div",{className:"space-y-4",children:a.maintenanceHistory?.map((d,f)=>p.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.type==="preventive"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:d.type==="preventive"?"Prventive":"Curative"}),p.jsx("span",{className:"text-sm text-gray-600",children:dt(new Date(d.date),"PPP",{locale:vn})})]}),p.jsx("p",{className:"mt-2 text-gray-900",children:d.description}),d.type==="curative"&&p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"mt-1 text-red-600",children:d.issues}),p.jsx("p",{className:"mt-1 text-green-600",children:d.resolution})]})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Par ",d.performedBy]})]},f))})]})]})]})]})})},BSe=()=>{const t=so();return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:p.jsx("div",{className:"max-w-md w-full text-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:p.jsx($Y,{className:"h-12 w-12 text-red-600"})})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Accs non autoris"}),p.jsx("p",{className:"text-gray-600 mb-8",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),p.jsxs("button",{onClick:()=>t("/"),className:"btn btn-primary inline-flex items-center",children:[p.jsx(Zd,{className:"h-5 w-5 mr-2"}),"Retour au tableau de bord"]})]})})})},USe=()=>p.jsx(j5,{children:p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(Az,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),p.jsxs(A5,{children:[p.jsx(xr,{path:"/login",element:p.jsx(BY,{})}),p.jsx(xr,{path:"/stand/:id",element:p.jsx(MSe,{})}),p.jsx(xr,{path:"/unauthorized",element:p.jsx(BSe,{})}),p.jsxs(xr,{path:"/",element:p.jsx(oO,{children:p.jsx(UY,{})}),children:[p.jsx(xr,{index:!0,element:p.jsx(fJ,{})}),p.jsx(xr,{path:"statistics",element:p.jsx(CSe,{})}),p.jsx(xr,{path:"maintenance",element:p.jsx(VSe,{})}),p.jsx(xr,{path:"settings",element:p.jsx(oO,{requireAdmin:!0,children:p.jsx(DSe,{})})}),p.jsx(xr,{path:"details/:type",element:p.jsx($Se,{})}),p.jsx(xr,{path:"stand/:id",element:p.jsx(FSe,{})})]})]})]})});D2(document.getElementById("root")).render(p.jsx(M.StrictMode,{children:p.jsx(xY,{children:p.jsx(uJ,{children:p.jsx(GY,{children:p.jsx(USe,{})})})})}));
//# sourceMappingURL=index-CObvLojd.js.map
